import{a as L,g as jr,_ as Zb,b as e0,c as t0,d as n0,e as r0,C as i0,r as hh,s as Ie,j as Oc,f as en,L as a0,h as o0,S as s0,i as l0,k as lr,m as Fa,l as Ec,D as Ac,n as Zi,o as es,p as u0,q as Rg,t as c0,u as f0,v as dh,w as Dg,x as h0,y as d0,z as p0,A as v0,B as g0,E as xa,F as B,R as T,G as X,H as y0,I as m0,J as _0,K as ht,M as ph,N as de}from"./index-a9786d77.js";import{H as b0}from"./Head-8bb58e44.js";var Cn=256,jg=[],vh=256,wa;for(;Cn--;)jg[Cn]=(Cn+256).toString(16).substring(1);function x0(e){var t=0,n=e||11;if(!wa||Cn+n>vh*2)for(wa="",Cn=0;t<vh;t++)wa+=jg[Math.random()*256|0];return wa.substring(Cn,Cn+++n)}const gh="@firebase/database",yh="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg="";function w0(e){Lg=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ie(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Oc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return en(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new S0(t)}}catch{}return new O0},Pn=Fg("localStorage"),Ll=Fg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new a0("@firebase/database"),E0=function(){let e=1;return function(){return e++}}(),Bg=function(e){const t=o0(e),n=new s0;n.update(t);const r=n.digest();return l0.encodeByteArray(r)},ea=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ea.apply(null,r):typeof r=="object"?t+=Ie(r):t+=r,t+=" "}return t};let Rn=null,mh=!0;const A0=function(e,t){L(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(tr.logLevel=u0.VERBOSE,Rn=tr.log.bind(tr),t&&Ll.set("logging_enabled",!0)):typeof e=="function"?Rn=e:(Rn=null,Ll.remove("logging_enabled"))},Ke=function(...e){if(mh===!0&&(mh=!1,Rn===null&&Ll.get("logging_enabled")===!0&&A0(!0)),Rn){const t=ea.apply(null,e);Rn(t)}},ta=function(e){return function(...t){Ke(e,...t)}},Fl=function(...e){const t="FIREBASE INTERNAL ERROR: "+ea(...e);tr.error(t)},Xt=function(...e){const t=`FIREBASE FATAL ERROR: ${ea(...e)}`;throw tr.error(t),new Error(t)},nt=function(...e){const t="FIREBASE WARNING: "+ea(...e);tr.warn(t)},T0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wg=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},C0=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ur="[MIN_NAME]",Ln="[MAX_NAME]",Lr=function(e,t){if(e===t)return 0;if(e===ur||t===Ln)return-1;if(t===ur||e===Ln)return 1;{const n=_h(e),r=_h(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},P0=function(e,t){return e===t?0:e<t?-1:1},ei=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ie(t))},Tc=function(e){if(typeof e!="object"||e===null)return Ie(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Ie(t[r]),n+=":",n+=Tc(e[t[r]]);return n+="}",n},Ug=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function rt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Hg=function(e){L(!Wg(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,a,o,s,l;e===0?(a=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),r),a=s+r,o=Math.round(e*Math.pow(2,n-s)-Math.pow(2,n))):(a=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(l=0;l<64;l+=8){let h=parseInt(f.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),c=c+h}return c.toLowerCase()},I0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function k0(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const M0=new RegExp("^-?(0*)\\d{1,10}$"),N0=-2147483648,R0=2147483647,_h=function(e){if(M0.test(e)){const t=Number(e);if(t>=N0&&t<=R0)return t}return null},Fr=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw nt("Exception was thrown by user callback.",n),t},Math.floor(0))}},D0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gi=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(t)}}class nr{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}nr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="5",Gg="v",zg="s",qg="r",Vg="f",Kg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yg="ls",Xg="p",Bl="ac",Qg="websocket",Jg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t,n,r,i,a=!1,o="",s=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Pn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function F0(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function ey(e,t,n){L(typeof t=="string","typeof type must == string"),L(typeof n=="object","typeof params must == object");let r;if(t===Qg)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Jg)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);F0(e)&&(n.ns=e.namespace);const i=[];return rt(n,(a,o)=>{i.push(a+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.counters_={}}incrementCounter(t,n=1){en(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return p0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs={},Qs={};function Pc(e){const t=e.toString();return Xs[t]||(Xs[t]=new B0),Xs[t]}function W0(e,t){const n=e.toString();return Qs[n]||(Qs[n]=t()),Qs[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Fr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="start",H0="close",G0="pLPCommand",z0="pRTLPCB",ty="id",ny="pw",ry="ser",q0="cb",V0="seg",K0="ts",Y0="d",X0="dframe",iy=1870,ay=30,Q0=iy-ay,J0=25e3,Z0=3e4;class Jn{constructor(t,n,r,i,a,o,s){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ta(t),this.stats_=Pc(n),this.urlFn=l=>(this.appCheckToken&&(l[Bl]=this.appCheckToken),ey(n,Jg,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new U0(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Z0)),C0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ic((...a)=>{const[o,s,l,u,f]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===bh)this.id=s,this.password=l;else if(o===H0)s?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(s,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{const[o,s]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,s)},()=>{this.onClosed_()},this.urlFn);const r={};r[bh]="t",r[ry]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[q0]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Gg]=Cc,this.transportSessionId&&(r[zg]=this.transportSessionId),this.lastSessionId&&(r[Yg]=this.lastSessionId),this.applicationId&&(r[Xg]=this.applicationId),this.appCheckToken&&(r[Bl]=this.appCheckToken),typeof location<"u"&&location.hostname&&Kg.test(location.hostname)&&(r[qg]=Vg);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jn.forceAllow_=!0}static forceDisallow(){Jn.forceDisallow_=!0}static isAvailable(){return Jn.forceAllow_?!0:!Jn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!I0()&&!$0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Ie(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=g0(n),i=Ug(r,Q0);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[X0]="t",r[ty]=t,r[ny]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Ie(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ic{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=E0(),window[G0+this.uniqueCallbackIdentifier]=t,window[z0+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ic.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Ke("frame writing exception"),s.stack&&Ke(s.stack),Ke(s)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ke("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[ty]=this.myID,t[ny]=this.myPW,t[ry]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ay+r.length<=iy;){const o=this.pendingSegs.shift();r=r+"&"+V0+i+"="+o.seg+"&"+K0+i+"="+o.ts+"&"+Y0+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(J0)),a=()=>{clearTimeout(i),r()};this.addTag(t,a)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ke("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=16384,tx=45e3;let Ba=null;typeof MozWebSocket<"u"?Ba=MozWebSocket:typeof WebSocket<"u"&&(Ba=WebSocket);class At{constructor(t,n,r,i,a,o,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ta(this.connId),this.stats_=Pc(n),this.connURL=At.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,a){const o={};return o[Gg]=Cc,typeof location<"u"&&location.hostname&&Kg.test(location.hostname)&&(o[qg]=Vg),n&&(o[zg]=n),r&&(o[Yg]=r),i&&(o[Bl]=i),a&&(o[Xg]=a),ey(t,Qg,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pn.set("previous_websocket_failure",!0);try{let r;Rg(),this.mySock=new Ba(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){At.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Ba!==null&&!At.forceDisallow_}static previouslyFailed(){return Pn.isInMemoryStorage||Pn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Pn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Oc(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(L(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Ie(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ug(n,ex);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(tx))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}At.responsesRequiredToBeHealthy=2;At.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Jn,At]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=At&&At.isAvailable();let r=n&&!At.previouslyFailed();if(t.webSocketOnly&&(n||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[At];else{const i=this.transports_=[];for(const a of Si.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);Si.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Si.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=6e4,rx=5e3,ix=10*1024,ax=100*1024,Js="t",xh="d",ox="s",wh="r",sx="e",Sh="o",Oh="a",Eh="n",Ah="p",lx="h";class ux{constructor(t,n,r,i,a,o,s,l,u,f){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ta("c:"+this.id+":"),this.transportManager_=new Si(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=gi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ax?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ix?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Js in t){const n=t[Js];n===Oh?this.upgradeIfSecondaryHealthy_():n===wh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Sh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=ei("t",t),r=ei("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ah,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Oh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Eh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=ei("t",t),r=ei("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=ei(Js,t);if(xh in t){const r=t[xh];if(n===lx)this.onHandshake_(r);else if(n===Eh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ox?this.onConnectionShutdown_(r):n===wh?this.onReset_(r):n===sx?Fl("Server Error: "+r):n===Sh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fl("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Cc!==r&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(nx))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ah,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sy=class{constructor(t){this.allowedEvents_=t,this.listeners_={},L(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let a=0;a<i.length;a++)if(i[a].callback===n&&(!r||r===i[a].context)){i.splice(a,1);return}}validateEventType_(t){L(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends sy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Wa}getInitialEvent(t){return L(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=32,Ch=768;let ye=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function oe(){return new ye("")}function te(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function hn(e){return e.pieces_.length-e.pieceNum_}function _e(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ye(e.pieces_,t)}function ly(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function cx(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function uy(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function cy(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ye(t,0)}function $e(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ye)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ye(n,0)}function Z(e){return e.pieceNum_>=e.pieces_.length}function Qe(e,t){const n=te(e),r=te(t);if(n===null)return t;if(n===r)return Qe(_e(e),_e(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function fy(e,t){if(hn(e)!==hn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ct(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(hn(e)>hn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class fx{constructor(t,n){this.errorPrefix_=n,this.parts_=uy(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=es(this.parts_[r]);hy(this)}}function hx(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=es(t),hy(e)}function dx(e){const t=e.parts_.pop();e.byteLength_-=es(t),e.parts_.length>0&&(e.byteLength_-=1)}function hy(e){if(e.byteLength_>Ch)throw new Error(e.errorPrefix_+"has a key path longer than "+Ch+" bytes ("+e.byteLength_+").");if(e.parts_.length>Th)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Th+") or object contains a cycle "+xn(e))}function xn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends sy{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $c}getInitialEvent(t){return L(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=1e3,px=60*5*1e3,Ph=30*1e3,vx=1.3,gx=3e4,yx="server_kill",Ih=3;class qt extends oy{constructor(t,n,r,i,a,o,s,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=l,this.id=qt.nextPersistentConnectionId_++,this.log_=ta("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ti,this.maxReconnectDelay_=px,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Rg())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$c.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Wa.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,a={r:i,a:t,b:n};this.log_(Ie(a)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Ac,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const s=o.d;o.s==="ok"?n.resolve(s):n.reject(s)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(t,n,r,i){this.initConnection_();const a=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const s={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(a,s),this.connected_&&this.sendListen_(s)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const a={p:r},o="q";t.tag&&(a.q=n._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(o,a,s=>{const l=s.d,u=s.s;qt.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",s),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&en(t,"w")){const r=lr(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||c0(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ph)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=f0(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const a=i.s,o=i.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const a={p:t},o="n";i&&(a.q=r,a.t=i),this.sendRequest(o,a)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const a={p:n,d:r};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,a){this.initConnection_();const o={p:n,d:r};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ie(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Fl("Unrecognized action received from server: "+Ie(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ti,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ti,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>gx&&(this.reconnectDelay_=ti),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+qt.nextConnectionId_++,a=this.lastSessionId;let o=!1,s=null;const l=function(){s?s.close():(o=!0,r())},u=function(c){L(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=h&&h.token,s=new ux(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{nt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(yx)},a))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&nt(c),l())}}}interrupt(t){Ke("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ke("Resuming connection for reason: "+t),delete this.interruptReasons_[t],dh(this.interruptReasons_)&&(this.reconnectDelay_=ti,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(a=>Tc(a)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new ye(t).toString();let i;if(this.listens.has(r)){const a=this.listens.get(r);i=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Ke("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ih&&(this.reconnectDelay_=Ph,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ke("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ih&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Lg.replace(/\./g,"-")]=1,Dg()?t["framework.cordova"]=1:h0()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Wa.getInstance().currentlyOnline();return dh(this.interruptReasons_)&&t}}qt.nextPersistentConnectionId_=0;qt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new J(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ts=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new J(ur,t),i=new J(ur,n);return this.compare(r,i)!==0}minPost(){return J.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa;class dy extends ts{static get __EMPTY_NODE(){return Sa}static set __EMPTY_NODE(t){Sa=t}compare(t,n){return Lr(t.name,n.name)}isDefinedOn(t){throw Zi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return J.MIN}maxPost(){return new J(Ln,Sa)}makePost(t,n){return L(typeof t=="string","KeyIndex indexValue must always be a string."),new J(t,Sa)}toString(){return".key"}}const rr=new dy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,n,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Le{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??Le.RED,this.left=i??et.EMPTY_NODE,this.right=a??et.EMPTY_NODE}copy(t,n,r,i,a){return new Le(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return et.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return et.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Le.RED=!0;Le.BLACK=!1;class mx{copy(t,n,r,i,a){return this}insert(t,n,r){return new Le(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class et{constructor(t,n=et.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new et(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Le.BLACK,null,null))}remove(t){return new et(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Le.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Oa(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Oa(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Oa(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Oa(this.root_,null,this.comparator_,!0,t)}}et.EMPTY_NODE=new mx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(e,t){return Lr(e.name,t.name)}function kc(e,t){return Lr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl;function bx(e){Wl=e}const py=function(e){return typeof e=="number"?"number:"+Hg(e):"string:"+e},vy=function(e){if(e.isLeafNode()){const t=e.val();L(typeof t=="string"||typeof t=="number"||typeof t=="object"&&en(t,".sv"),"Priority must be a string or number.")}else L(e===Wl||e.isEmpty(),"priority of unexpected type.");L(e===Wl||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h;class De{constructor(t,n=De.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),vy(this.priorityNode_)}static set __childrenNodeConstructor(t){$h=t}static get __childrenNodeConstructor(){return $h}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new De(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Z(t)?this:te(t)===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:De.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=te(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(L(r!==".priority"||hn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,De.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+py(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Hg(this.value_):t+=this.value_,this.lazyHash_=Bg(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===De.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof De.__childrenNodeConstructor?-1:(L(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=De.VALUE_TYPE_ORDER.indexOf(n),a=De.VALUE_TYPE_ORDER.indexOf(r);return L(i>=0,"Unknown leaf type: "+n),L(a>=0,"Unknown leaf type: "+r),i===a?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}De.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gy,yy;function xx(e){gy=e}function wx(e){yy=e}class Sx extends ts{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),a=r.compareTo(i);return a===0?Lr(t.name,n.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return J.MIN}maxPost(){return new J(Ln,new De("[PRIORITY-POST]",yy))}makePost(t,n){const r=gy(t);return new J(n,new De("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ae=new Sx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=Math.log(2);class Ex{constructor(t){const n=a=>parseInt(Math.log(a)/Ox,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ua=function(e,t,n,r){e.sort(t);const i=function(l,u){const f=u-l;let c,h;if(f===0)return null;if(f===1)return c=e[l],h=n?n(c):c,new Le(h,c.node,Le.BLACK,null,null);{const g=parseInt(f/2,10)+l,v=i(l,g),d=i(g+1,u);return c=e[g],h=n?n(c):c,new Le(h,c.node,Le.BLACK,v,d)}},a=function(l){let u=null,f=null,c=e.length;const h=function(v,d){const y=c-v,m=c;c-=v;const b=i(y+1,m),p=e[y],_=n?n(p):p;g(new Le(_,p.node,d,null,b))},g=function(v){u?(u.left=v,u=v):(f=v,u=v)};for(let v=0;v<l.count;++v){const d=l.nextBitIsOne(),y=Math.pow(2,l.count-(v+1));d?h(y,Le.BLACK):(h(y,Le.BLACK),h(y,Le.RED))}return f},o=new Ex(e.length),s=a(o);return new et(r||t,s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs;const Vn={};class Ut{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return L(Vn&&Ae,"ChildrenNode.ts has not been loaded"),Zs=Zs||new Ut({".priority":Vn},{".priority":Ae}),Zs}get(t){const n=lr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof et?n:null}hasIndex(t){return en(this.indexSet_,t.toString())}addIndex(t,n){L(t!==rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=n.getIterator(J.Wrap);let o=a.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=a.getNext();let s;i?s=Ua(r,t.getCompare()):s=Vn;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const f=Object.assign({},this.indexes_);return f[l]=s,new Ut(f,u)}addToIndexes(t,n){const r=Fa(this.indexes_,(i,a)=>{const o=lr(this.indexSet_,a);if(L(o,"Missing index implementation for "+a),i===Vn)if(o.isDefinedOn(t.node)){const s=[],l=n.getIterator(J.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&s.push(u),u=l.getNext();return s.push(t),Ua(s,o.getCompare())}else return Vn;else{const s=n.get(t.name);let l=i;return s&&(l=l.remove(new J(t.name,s))),l.insert(t,t.node)}});return new Ut(r,this.indexSet_)}removeFromIndexes(t,n){const r=Fa(this.indexes_,i=>{if(i===Vn)return i;{const a=n.get(t.name);return a?i.remove(new J(t.name,a)):i}});return new Ut(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ni;class V{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&vy(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ni||(ni=new V(new et(kc),null,Ut.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ni}updatePriority(t){return this.children_.isEmpty()?this:new V(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ni:n}}getChild(t){const n=te(t);return n===null?this:this.getImmediateChild(n).getChild(_e(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(L(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new J(t,n);let i,a;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ni:this.priorityNode_;return new V(i,o,a)}}updateChild(t,n){const r=te(t);if(r===null)return n;{L(te(t)!==".priority"||hn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,a=!0;if(this.forEachChild(Ae,(o,s)=>{n[o]=s.val(t),r++,a&&V.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!t&&a&&i<2*r){const o=[];for(const s in n)o[s]=n[s];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+py(this.getPriority().val())+":"),this.forEachChild(Ae,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":Bg(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const a=i.getPredecessorKey(new J(t,n));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new J(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new J(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,J.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,t)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,J.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,t)>0;)i.getNext(),a=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===na?-1:0}withIndex(t){if(t===rr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===rr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ae),i=n.getIterator(Ae);let a=r.getNext(),o=i.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=r.getNext(),o=i.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===rr?null:this.indexMap_.get(t.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Ax extends V{constructor(){super(new et(kc),V.EMPTY_NODE,Ut.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return V.EMPTY_NODE}isEmpty(){return!1}}const na=new Ax;Object.defineProperties(J,{MIN:{value:new J(ur,V.EMPTY_NODE)},MAX:{value:new J(Ln,na)}});dy.__EMPTY_NODE=V.EMPTY_NODE;De.__childrenNodeConstructor=V;bx(na);wx(na);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=!0;function Fe(e,t=null){if(e===null)return V.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),L(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new De(n,Fe(t))}if(!(e instanceof Array)&&Tx){const n=[];let r=!1;if(rt(e,(o,s)=>{if(o.substring(0,1)!=="."){const l=Fe(s);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new J(o,l)))}}),n.length===0)return V.EMPTY_NODE;const a=Ua(n,_x,o=>o.name,kc);if(r){const o=Ua(n,Ae.getCompare());return new V(a,Fe(t),new Ut({".priority":o},{".priority":Ae}))}else return new V(a,Fe(t),Ut.Default)}else{let n=V.EMPTY_NODE;return rt(e,(r,i)=>{if(en(e,r)&&r.substring(0,1)!=="."){const a=Fe(i);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(Fe(t))}}xx(Fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends ts{constructor(t){super(),this.indexPath_=t,L(!Z(t)&&te(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),a=r.compareTo(i);return a===0?Lr(t.name,n.name):a}makePost(t,n){const r=Fe(t),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new J(n,i)}maxPost(){const t=V.EMPTY_NODE.updateChild(this.indexPath_,na);return new J(Ln,t)}toString(){return uy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends ts{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Lr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(t,n){const r=Fe(t);return new J(n,r)}toString(){return".value"}}const Ix=new Px;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e){return{type:"value",snapshotNode:e}}function cr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Oi(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ei(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function $x(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t){this.index_=t}updateChild(t,n,r,i,a,o){L(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=t.getImmediateChild(n);return s.getChild(i).equals(r.getChild(i))&&s.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(Oi(n,s)):L(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(cr(n,r)):o.trackChildChange(Ei(n,r,s))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ae,(i,a)=>{n.hasChild(i)||r.trackChildChange(Oi(i,a))}),n.isLeafNode()||n.forEachChild(Ae,(i,a)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(a)||r.trackChildChange(Ei(i,a,o))}else r.trackChildChange(cr(i,a))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?V.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.indexedFilter_=new Mc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ai.getStartPost_(t),this.endPost_=Ai.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,a,o){return this.matches(new J(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,a,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);const a=this;return n.forEachChild(Ae,(o,s)=>{a.matches(new J(o,s))||(i=i.updateImmediateChild(o,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ai(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,a,o){return this.rangedFilter_.matches(new J(n,r))||(r=V.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,a,o):this.fullLimitUpdateChild_(t,n,r,a,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;a.hasNext()&&o<this.limit_;){const s=a.getNext();if(this.withinDirectionalStart(s))if(this.withinDirectionalEnd(s))i=i.updateImmediateChild(s.name,s.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let a;this.reverse_?a=i.getReverseIterator(this.index_):a=i.getIterator(this.index_);let o=0;for(;a.hasNext();){const s=a.getNext();o<this.limit_&&this.withinDirectionalStart(s)&&this.withinDirectionalEnd(s)?o++:i=i.updateImmediateChild(s.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,a){let o;if(this.reverse_){const c=this.index_.getCompare();o=(h,g)=>c(g,h)}else o=this.index_.getCompare();const s=t;L(s.numChildren()===this.limit_,"");const l=new J(n,r),u=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(s.hasChild(n)){const c=s.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||s.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const g=h==null?1:o(h,l);if(f&&!r.isEmpty()&&g>=0)return a!=null&&a.trackChildChange(Ei(n,r,c)),s.updateImmediateChild(n,r);{a!=null&&a.trackChildChange(Oi(n,c));const d=s.updateImmediateChild(n,V.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(a!=null&&a.trackChildChange(cr(h.name,h.node)),d.updateImmediateChild(h.name,h.node)):d}}else return r.isEmpty()?t:f&&o(u,l)>=0?(a!=null&&(a.trackChildChange(Oi(u.name,u.node)),a.trackChildChange(cr(n,r))),s.updateImmediateChild(n,r).updateImmediateChild(u.name,V.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ur}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ln}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ae}copy(){const t=new Nc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Mx(e){return e.loadsAllData()?new Mc(e.getIndex()):e.hasLimit()?new kx(e):new Ai(e)}function kh(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ae?n="$priority":e.index_===Ix?n="$value":e.index_===rr?n="$key":(L(e.index_ instanceof Cx,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ie(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Ie(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Ie(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Ie(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Ie(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Mh(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ae&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends oy{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ta("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(L(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const o=Ha.getListenId_(t,r),s={};this.listens_[o]=s;const l=kh(t._queryParams);this.restRequest_(a+".json",l,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(a,c,!1,r),lr(this.listens_,o)===s){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(t,n){const r=Ha.getListenId_(t,n);delete this.listens_[r]}get(t){const n=kh(t._queryParams),r=t._path.toString(),i=new Ac;return this.restRequest_(r+".json",n,(a,o)=>{let s=o;a===404&&(s=null,a=null),a===null?(this.onDataUpdate_(r,s,!1,null),i.resolve(s)):i.reject(new Error(s))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(n.auth=i.accessToken),a&&a.token&&(n.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+d0(n);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(r&&s.readyState===4){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let l=null;if(s.status>=200&&s.status<300){try{l=Oc(s.responseText)}catch{nt("Failed to parse JSON response for "+o+": "+s.responseText)}r(null,l)}else s.status!==401&&s.status!==404&&nt("Got unsuccessful REST response for "+o+" Status: "+s.status),r(s.status);r=null}},s.open("GET",o,!0),s.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(){return{value:null,children:new Map}}function _y(e,t,n){if(Z(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=te(t);e.children.has(r)||e.children.set(r,Ga());const i=e.children.get(r);t=_e(t),_y(i,t,n)}}function Ul(e,t,n){e.value!==null?n(t,e.value):Rx(e,(r,i)=>{const a=new ye(t.toString()+"/"+r);Ul(i,a,n)})}function Rx(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&rt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=10*1e3,jx=30*1e3,Lx=5*60*1e3;class Fx{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Dx(t);const r=Nh+(jx-Nh)*Math.random();gi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;rt(t,(i,a)=>{a>0&&en(this.statsToReport_,i)&&(n[i]=a,r=!0)}),r&&this.server_.reportStats(n),gi(this.reportStats_.bind(this),Math.floor(Math.random()*2*Lx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pt||(Pt={}));function by(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Dc(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Pt.ACK_USER_WRITE,this.source=by()}operationForChild(t){if(Z(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ye(t));return new za(oe(),n,this.revert)}}else return L(te(this.path)===t,"operationForChild called for unrelated child."),new za(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t,n){this.source=t,this.path=n,this.type=Pt.LISTEN_COMPLETE}operationForChild(t){return Z(this.path)?new Ti(this.source,oe()):new Ti(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Pt.OVERWRITE}operationForChild(t){return Z(this.path)?new Fn(this.source,oe(),this.snap.getImmediateChild(t)):new Fn(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Pt.MERGE}operationForChild(t){if(Z(this.path)){const n=this.children.subtree(new ye(t));return n.isEmpty()?null:n.value?new Fn(this.source,oe(),n.value):new Ci(this.source,oe(),n)}else return L(te(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ci(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Z(t))return this.isFullyInitialized()&&!this.filtered_;const n=te(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Wx(e,t,n,r){const i=[],a=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push($x(o.childName,o.snapshotNode))}),ri(e,i,"child_removed",t,r,n),ri(e,i,"child_added",t,r,n),ri(e,i,"child_moved",a,r,n),ri(e,i,"child_changed",t,r,n),ri(e,i,"value",t,r,n),i}function ri(e,t,n,r,i,a){const o=r.filter(s=>s.type===n);o.sort((s,l)=>Hx(e,s,l)),o.forEach(s=>{const l=Ux(e,s,a);i.forEach(u=>{u.respondsTo(s.type)&&t.push(u.createEvent(l,e.query_))})})}function Ux(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Hx(e,t,n){if(t.childName==null||n.childName==null)throw Zi("Should only compare child_ events.");const r=new J(t.childName,t.snapshotNode),i=new J(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e,t){return{eventCache:e,serverCache:t}}function yi(e,t,n,r){return ns(new dn(t,n,r),e.serverCache)}function xy(e,t,n,r){return ns(e.eventCache,new dn(t,n,r))}function qa(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Bn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el;const Gx=()=>(el||(el=new et(P0)),el);class we{constructor(t,n=Gx()){this.value=t,this.children=n}static fromObject(t){let n=new we(null);return rt(t,(r,i)=>{n=n.set(new ye(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:oe(),value:this.value};if(Z(t))return null;{const r=te(t),i=this.children.get(r);if(i!==null){const a=i.findRootMostMatchingPathAndValue(_e(t),n);return a!=null?{path:$e(new ye(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Z(t))return this;{const n=te(t),r=this.children.get(n);return r!==null?r.subtree(_e(t)):new we(null)}}set(t,n){if(Z(t))return new we(n,this.children);{const r=te(t),a=(this.children.get(r)||new we(null)).set(_e(t),n),o=this.children.insert(r,a);return new we(this.value,o)}}remove(t){if(Z(t))return this.children.isEmpty()?new we(null):new we(null,this.children);{const n=te(t),r=this.children.get(n);if(r){const i=r.remove(_e(t));let a;return i.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,i),this.value===null&&a.isEmpty()?new we(null):new we(this.value,a)}else return this}}get(t){if(Z(t))return this.value;{const n=te(t),r=this.children.get(n);return r?r.get(_e(t)):null}}setTree(t,n){if(Z(t))return n;{const r=te(t),a=(this.children.get(r)||new we(null)).setTree(_e(t),n);let o;return a.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,a),new we(this.value,o)}}fold(t){return this.fold_(oe(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_($e(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,oe(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Z(t))return null;{const a=te(t),o=this.children.get(a);return o?o.findOnPath_(_e(t),$e(n,a),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,oe(),n)}foreachOnPath_(t,n,r){if(Z(t))return this;{this.value&&r(n,this.value);const i=te(t),a=this.children.get(i);return a?a.foreachOnPath_(_e(t),$e(n,i),r):new we(null)}}foreach(t){this.foreach_(oe(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_($e(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.writeTree_=t}static empty(){return new It(new we(null))}}function mi(e,t,n){if(Z(t))return new It(new we(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let a=r.value;const o=Qe(i,t);return a=a.updateChild(o,n),new It(e.writeTree_.set(i,a))}else{const i=new we(n),a=e.writeTree_.setTree(t,i);return new It(a)}}}function Rh(e,t,n){let r=e;return rt(n,(i,a)=>{r=mi(r,$e(t,i),a)}),r}function Dh(e,t){if(Z(t))return It.empty();{const n=e.writeTree_.setTree(t,new we(null));return new It(n)}}function Hl(e,t){return Hn(e,t)!=null}function Hn(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Qe(n.path,t)):null}function jh(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ae,(r,i)=>{t.push(new J(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new J(r,i.value))}),t}function ln(e,t){if(Z(t))return e;{const n=Hn(e,t);return n!=null?new It(new we(n)):new It(e.writeTree_.subtree(t))}}function Gl(e){return e.writeTree_.isEmpty()}function fr(e,t){return wy(oe(),e.writeTree_,t)}function wy(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,a)=>{i===".priority"?(L(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=wy($e(e,i),a,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild($e(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e,t){return Ay(t,e)}function zx(e,t,n,r,i){L(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=mi(e.visibleWrites,t,n)),e.lastWriteId=r}function qx(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function Vx(e,t){const n=e.allWrites.findIndex(s=>s.writeId===t);L(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,a=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const s=e.allWrites[o];s.visible&&(o>=n&&Kx(s,r.path)?i=!1:Ct(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return Yx(e),!0;if(r.snap)e.visibleWrites=Dh(e.visibleWrites,r.path);else{const s=r.children;rt(s,l=>{e.visibleWrites=Dh(e.visibleWrites,$e(r.path,l))})}return!0}else return!1}function Kx(e,t){if(e.snap)return Ct(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ct($e(e.path,n),t))return!0;return!1}function Yx(e){e.visibleWrites=Sy(e.allWrites,Xx,oe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Xx(e){return e.visible}function Sy(e,t,n){let r=It.empty();for(let i=0;i<e.length;++i){const a=e[i];if(t(a)){const o=a.path;let s;if(a.snap)Ct(n,o)?(s=Qe(n,o),r=mi(r,s,a.snap)):Ct(o,n)&&(s=Qe(o,n),r=mi(r,oe(),a.snap.getChild(s)));else if(a.children){if(Ct(n,o))s=Qe(n,o),r=Rh(r,s,a.children);else if(Ct(o,n))if(s=Qe(o,n),Z(s))r=Rh(r,oe(),a.children);else{const l=lr(a.children,te(s));if(l){const u=l.getChild(_e(s));r=mi(r,oe(),u)}}}else throw Zi("WriteRecord should have .snap or .children")}}return r}function Oy(e,t,n,r,i){if(!r&&!i){const a=Hn(e.visibleWrites,t);if(a!=null)return a;{const o=ln(e.visibleWrites,t);if(Gl(o))return n;if(n==null&&!Hl(o,oe()))return null;{const s=n||V.EMPTY_NODE;return fr(o,s)}}}else{const a=ln(e.visibleWrites,t);if(!i&&Gl(a))return n;if(!i&&n==null&&!Hl(a,oe()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ct(u.path,t)||Ct(t,u.path))},s=Sy(e.allWrites,o,t),l=n||V.EMPTY_NODE;return fr(s,l)}}}function Qx(e,t,n){let r=V.EMPTY_NODE;const i=Hn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ae,(a,o)=>{r=r.updateImmediateChild(a,o)}),r;if(n){const a=ln(e.visibleWrites,t);return n.forEachChild(Ae,(o,s)=>{const l=fr(ln(a,new ye(o)),s);r=r.updateImmediateChild(o,l)}),jh(a).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const a=ln(e.visibleWrites,t);return jh(a).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Jx(e,t,n,r,i){L(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=$e(t,n);if(Hl(e.visibleWrites,a))return null;{const o=ln(e.visibleWrites,a);return Gl(o)?i.getChild(n):fr(o,i.getChild(n))}}function Zx(e,t,n,r){const i=$e(t,n),a=Hn(e.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(n)){const o=ln(e.visibleWrites,i);return fr(o,r.getNode().getImmediateChild(n))}else return null}function ew(e,t){return Hn(e.visibleWrites,t)}function tw(e,t,n,r,i,a,o){let s;const l=ln(e.visibleWrites,t),u=Hn(l,oe());if(u!=null)s=u;else if(n!=null)s=fr(l,n);else return[];if(s=s.withIndex(o),!s.isEmpty()&&!s.isLeafNode()){const f=[],c=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o);let g=h.getNext();for(;g&&f.length<i;)c(g,r)!==0&&f.push(g),g=h.getNext();return f}else return[]}function nw(){return{visibleWrites:It.empty(),allWrites:[],lastWriteId:-1}}function Va(e,t,n,r){return Oy(e.writeTree,e.treePath,t,n,r)}function jc(e,t){return Qx(e.writeTree,e.treePath,t)}function Lh(e,t,n,r){return Jx(e.writeTree,e.treePath,t,n,r)}function Ka(e,t){return ew(e.writeTree,$e(e.treePath,t))}function rw(e,t,n,r,i,a){return tw(e.writeTree,e.treePath,t,n,r,i,a)}function Lc(e,t,n){return Zx(e.writeTree,e.treePath,t,n)}function Ey(e,t){return Ay($e(e.treePath,t),e.writeTree)}function Ay(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;L(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),L(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,Ei(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,Oi(r,i.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,cr(r,t.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,Ei(r,t.snapshotNode,i.oldSnap));else throw Zi("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const Ty=new aw;class Fc{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new dn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lc(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bn(this.viewCache_),a=rw(this.writes_,i,n,1,r,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(e){return{filter:e}}function sw(e,t){L(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),L(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function lw(e,t,n,r,i){const a=new iw;let o,s;if(n.type===Pt.OVERWRITE){const u=n;u.source.fromUser?o=zl(e,t,u.path,u.snap,r,i,a):(L(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered()&&!Z(u.path),o=Ya(e,t,u.path,u.snap,r,i,s,a))}else if(n.type===Pt.MERGE){const u=n;u.source.fromUser?o=cw(e,t,u.path,u.children,r,i,a):(L(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered(),o=ql(e,t,u.path,u.children,r,i,s,a))}else if(n.type===Pt.ACK_USER_WRITE){const u=n;u.revert?o=dw(e,t,u.path,r,i,a):o=fw(e,t,u.path,u.affectedTree,r,i,a)}else if(n.type===Pt.LISTEN_COMPLETE)o=hw(e,t,n.path,r,a);else throw Zi("Unknown operation type: "+n.type);const l=a.getChanges();return uw(t,o,l),{viewCache:o,changes:l}}function uw(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=qa(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(my(qa(t)))}}function Cy(e,t,n,r,i,a){const o=t.eventCache;if(Ka(r,n)!=null)return t;{let s,l;if(Z(n))if(L(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Bn(t),f=u instanceof V?u:V.EMPTY_NODE,c=jc(r,f);s=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{const u=Va(r,Bn(t));s=e.filter.updateFullNode(t.eventCache.getNode(),u,a)}else{const u=te(n);if(u===".priority"){L(hn(n)===1,"Can't have a priority with additional path components");const f=o.getNode();l=t.serverCache.getNode();const c=Lh(r,n,f,l);c!=null?s=e.filter.updatePriority(f,c):s=o.getNode()}else{const f=_e(n);let c;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const h=Lh(r,n,o.getNode(),l);h!=null?c=o.getNode().getImmediateChild(u).updateChild(f,h):c=o.getNode().getImmediateChild(u)}else c=Lc(r,u,t.serverCache);c!=null?s=e.filter.updateChild(o.getNode(),u,c,f,i,a):s=o.getNode()}}return yi(t,s,o.isFullyInitialized()||Z(n),e.filter.filtersNodes())}}function Ya(e,t,n,r,i,a,o,s){const l=t.serverCache;let u;const f=o?e.filter:e.filter.getIndexedFilter();if(Z(n))u=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);u=f.updateFullNode(l.getNode(),g,null)}else{const g=te(n);if(!l.isCompleteForPath(n)&&hn(n)>1)return t;const v=_e(n),y=l.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?u=f.updatePriority(l.getNode(),y):u=f.updateChild(l.getNode(),g,y,v,Ty,null)}const c=xy(t,u,l.isFullyInitialized()||Z(n),f.filtersNodes()),h=new Fc(i,c,a);return Cy(e,c,n,i,h,s)}function zl(e,t,n,r,i,a,o){const s=t.eventCache;let l,u;const f=new Fc(i,t,a);if(Z(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=yi(t,u,!0,e.filter.filtersNodes());else{const c=te(n);if(c===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),l=yi(t,u,s.isFullyInitialized(),s.isFiltered());else{const h=_e(n),g=s.getNode().getImmediateChild(c);let v;if(Z(h))v=r;else{const d=f.getCompleteChild(c);d!=null?ly(h)===".priority"&&d.getChild(cy(h)).isEmpty()?v=d:v=d.updateChild(h,r):v=V.EMPTY_NODE}if(g.equals(v))l=t;else{const d=e.filter.updateChild(s.getNode(),c,v,h,f,o);l=yi(t,d,s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Fh(e,t){return e.eventCache.isCompleteForChild(t)}function cw(e,t,n,r,i,a,o){let s=t;return r.foreach((l,u)=>{const f=$e(n,l);Fh(t,te(f))&&(s=zl(e,s,f,u,i,a,o))}),r.foreach((l,u)=>{const f=$e(n,l);Fh(t,te(f))||(s=zl(e,s,f,u,i,a,o))}),s}function Bh(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function ql(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;Z(n)?u=r:u=new we(null).setTree(n,r);const f=t.serverCache.getNode();return u.children.inorderTraversal((c,h)=>{if(f.hasChild(c)){const g=t.serverCache.getNode().getImmediateChild(c),v=Bh(e,g,h);l=Ya(e,l,new ye(c),v,i,a,o,s)}}),u.children.inorderTraversal((c,h)=>{const g=!t.serverCache.isCompleteForChild(c)&&h.value===null;if(!f.hasChild(c)&&!g){const v=t.serverCache.getNode().getImmediateChild(c),d=Bh(e,v,h);l=Ya(e,l,new ye(c),d,i,a,o,s)}}),l}function fw(e,t,n,r,i,a,o){if(Ka(i,n)!=null)return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ya(e,t,n,l.getNode().getChild(n),i,a,s,o);if(Z(n)){let u=new we(null);return l.getNode().forEachChild(rr,(f,c)=>{u=u.set(new ye(f),c)}),ql(e,t,n,u,i,a,s,o)}else return t}else{let u=new we(null);return r.foreach((f,c)=>{const h=$e(n,f);l.isCompleteForPath(h)&&(u=u.set(f,l.getNode().getChild(h)))}),ql(e,t,n,u,i,a,s,o)}}function hw(e,t,n,r,i){const a=t.serverCache,o=xy(t,a.getNode(),a.isFullyInitialized()||Z(n),a.isFiltered());return Cy(e,o,n,r,Ty,i)}function dw(e,t,n,r,i,a){let o;if(Ka(r,n)!=null)return t;{const s=new Fc(r,t,i),l=t.eventCache.getNode();let u;if(Z(n)||te(n)===".priority"){let f;if(t.serverCache.isFullyInitialized())f=Va(r,Bn(t));else{const c=t.serverCache.getNode();L(c instanceof V,"serverChildren would be complete if leaf node"),f=jc(r,c)}f=f,u=e.filter.updateFullNode(l,f,a)}else{const f=te(n);let c=Lc(r,f,t.serverCache);c==null&&t.serverCache.isCompleteForChild(f)&&(c=l.getImmediateChild(f)),c!=null?u=e.filter.updateChild(l,f,c,_e(n),s,a):t.eventCache.getNode().hasChild(f)?u=e.filter.updateChild(l,f,V.EMPTY_NODE,_e(n),s,a):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Va(r,Bn(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,a)))}return o=t.serverCache.isFullyInitialized()||Ka(r,oe())!=null,yi(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Mc(r.getIndex()),a=Mx(r);this.processor_=ow(a);const o=n.serverCache,s=n.eventCache,l=i.updateFullNode(V.EMPTY_NODE,o.getNode(),null),u=a.updateFullNode(V.EMPTY_NODE,s.getNode(),null),f=new dn(l,o.isFullyInitialized(),i.filtersNodes()),c=new dn(u,s.isFullyInitialized(),a.filtersNodes());this.viewCache_=ns(c,f),this.eventGenerator_=new Bx(this.query_)}get query(){return this.query_}}function vw(e){return e.viewCache_.serverCache.getNode()}function gw(e){return qa(e.viewCache_)}function yw(e,t){const n=Bn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Z(t)&&!n.getImmediateChild(te(t)).isEmpty())?n.getChild(t):null}function Wh(e){return e.eventRegistrations_.length===0}function mw(e,t){e.eventRegistrations_.push(t)}function Uh(e,t,n){const r=[];if(n){L(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(a=>{const o=a.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let a=0;a<e.eventRegistrations_.length;++a){const o=e.eventRegistrations_[a];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function Hh(e,t,n,r){t.type===Pt.MERGE&&t.source.queryId!==null&&(L(Bn(e.viewCache_),"We should always have a full cache before handling merges"),L(qa(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,a=lw(e.processor_,i,t,n,r);return sw(e.processor_,a.viewCache),L(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,Py(e,a.changes,a.viewCache.eventCache.getNode(),null)}function _w(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ae,(a,o)=>{r.push(cr(a,o))}),n.isFullyInitialized()&&r.push(my(n.getNode())),Py(e,r,n.getNode(),t)}function Py(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return Wx(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa;class Iy{constructor(){this.views=new Map}}function bw(e){L(!Xa,"__referenceConstructor has already been defined"),Xa=e}function xw(){return L(Xa,"Reference.ts has not been loaded"),Xa}function ww(e){return e.views.size===0}function Bc(e,t,n,r){const i=t.source.queryId;if(i!==null){const a=e.views.get(i);return L(a!=null,"SyncTree gave us an op for an invalid query."),Hh(a,t,n,r)}else{let a=[];for(const o of e.views.values())a=a.concat(Hh(o,t,n,r));return a}}function $y(e,t,n,r,i){const a=t._queryIdentifier,o=e.views.get(a);if(!o){let s=Va(n,i?r:null),l=!1;s?l=!0:r instanceof V?(s=jc(n,r),l=!1):(s=V.EMPTY_NODE,l=!1);const u=ns(new dn(s,l,!1),new dn(r,i,!1));return new pw(t,u)}return o}function Sw(e,t,n,r,i,a){const o=$y(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),mw(o,n),_w(o,n)}function Ow(e,t,n,r){const i=t._queryIdentifier,a=[];let o=[];const s=pn(e);if(i==="default")for(const[l,u]of e.views.entries())o=o.concat(Uh(u,n,r)),Wh(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||a.push(u.query));else{const l=e.views.get(i);l&&(o=o.concat(Uh(l,n,r)),Wh(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||a.push(l.query)))}return s&&!pn(e)&&a.push(new(xw())(t._repo,t._path)),{removed:a,events:o}}function ky(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function un(e,t){let n=null;for(const r of e.views.values())n=n||yw(r,t);return n}function My(e,t){if(t._queryParams.loadsAllData())return is(e);{const r=t._queryIdentifier;return e.views.get(r)}}function Ny(e,t){return My(e,t)!=null}function pn(e){return is(e)!=null}function is(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa;function Ew(e){L(!Qa,"__referenceConstructor has already been defined"),Qa=e}function Aw(){return L(Qa,"Reference.ts has not been loaded"),Qa}let Tw=1;class Gh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new we(null),this.pendingWriteTree_=nw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ry(e,t,n,r,i){return zx(e.pendingWriteTree_,t,n,r,i),i?ia(e,new Fn(by(),t,n)):[]}function In(e,t,n=!1){const r=qx(e.pendingWriteTree_,t);if(Vx(e.pendingWriteTree_,t)){let a=new we(null);return r.snap!=null?a=a.set(oe(),!0):rt(r.children,o=>{a=a.set(new ye(o),!0)}),ia(e,new za(r.path,a,n))}else return[]}function ra(e,t,n){return ia(e,new Fn(Rc(),t,n))}function Cw(e,t,n){const r=we.fromObject(n);return ia(e,new Ci(Rc(),t,r))}function Pw(e,t){return ia(e,new Ti(Rc(),t))}function Iw(e,t,n){const r=Uc(e,n);if(r){const i=Hc(r),a=i.path,o=i.queryId,s=Qe(a,t),l=new Ti(Dc(o),s);return Gc(e,a,l)}else return[]}function Dy(e,t,n,r,i=!1){const a=t._path,o=e.syncPointTree_.get(a);let s=[];if(o&&(t._queryIdentifier==="default"||Ny(o,t))){const l=Ow(o,t,n,r);ww(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));const u=l.removed;if(s=l.events,!i){const f=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,c=e.syncPointTree_.findOnPath(a,(h,g)=>pn(g));if(f&&!c){const h=e.syncPointTree_.subtree(a);if(!h.isEmpty()){const g=Nw(h);for(let v=0;v<g.length;++v){const d=g[v],y=d.query,m=By(e,d);e.listenProvider_.startListening(_i(y),Pi(e,y),m.hashFn,m.onComplete)}}}!c&&u.length>0&&!r&&(f?e.listenProvider_.stopListening(_i(t),null):u.forEach(h=>{const g=e.queryToTagMap.get(as(h));e.listenProvider_.stopListening(_i(h),g)}))}Rw(e,u)}return s}function jy(e,t,n,r){const i=Uc(e,r);if(i!=null){const a=Hc(i),o=a.path,s=a.queryId,l=Qe(o,t),u=new Fn(Dc(s),l,n);return Gc(e,o,u)}else return[]}function $w(e,t,n,r){const i=Uc(e,r);if(i){const a=Hc(i),o=a.path,s=a.queryId,l=Qe(o,t),u=we.fromObject(n),f=new Ci(Dc(s),l,u);return Gc(e,o,f)}else return[]}function kw(e,t,n,r=!1){const i=t._path;let a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(h,g)=>{const v=Qe(h,i);a=a||un(g,v),o=o||pn(g)});let s=e.syncPointTree_.get(i);s?(o=o||pn(s),a=a||un(s,oe())):(s=new Iy,e.syncPointTree_=e.syncPointTree_.set(i,s));let l;a!=null?l=!0:(l=!1,a=V.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((g,v)=>{const d=un(v,oe());d&&(a=a.updateImmediateChild(g,d))}));const u=Ny(s,t);if(!u&&!t._queryParams.loadsAllData()){const h=as(t);L(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");const g=Dw();e.queryToTagMap.set(h,g),e.tagToQueryMap.set(g,h)}const f=rs(e.pendingWriteTree_,i);let c=Sw(s,t,n,f,a,l);if(!u&&!o&&!r){const h=My(s,t);c=c.concat(jw(e,t,h))}return c}function Wc(e,t,n){const i=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(o,s)=>{const l=Qe(o,t),u=un(s,l);if(u)return u});return Oy(i,t,a,n,!0)}function Mw(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,f)=>{const c=Qe(u,n);r=r||un(f,c)});let i=e.syncPointTree_.get(n);i?r=r||un(i,oe()):(i=new Iy,e.syncPointTree_=e.syncPointTree_.set(n,i));const a=r!=null,o=a?new dn(r,!0,!1):null,s=rs(e.pendingWriteTree_,t._path),l=$y(i,t,s,a?o.getNode():V.EMPTY_NODE,a);return gw(l)}function ia(e,t){return Ly(t,e.syncPointTree_,null,rs(e.pendingWriteTree_,oe()))}function Ly(e,t,n,r){if(Z(e.path))return Fy(e,t,n,r);{const i=t.get(oe());n==null&&i!=null&&(n=un(i,oe()));let a=[];const o=te(e.path),s=e.operationForChild(o),l=t.children.get(o);if(l&&s){const u=n?n.getImmediateChild(o):null,f=Ey(r,o);a=a.concat(Ly(s,l,u,f))}return i&&(a=a.concat(Bc(i,e,r,n))),a}}function Fy(e,t,n,r){const i=t.get(oe());n==null&&i!=null&&(n=un(i,oe()));let a=[];return t.children.inorderTraversal((o,s)=>{const l=n?n.getImmediateChild(o):null,u=Ey(r,o),f=e.operationForChild(o);f&&(a=a.concat(Fy(f,s,l,u)))}),i&&(a=a.concat(Bc(i,e,r,n))),a}function By(e,t){const n=t.query,r=Pi(e,n);return{hashFn:()=>(vw(t)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Iw(e,n._path,r):Pw(e,n._path);{const a=k0(i,n);return Dy(e,n,null,a)}}}}function Pi(e,t){const n=as(t);return e.queryToTagMap.get(n)}function as(e){return e._path.toString()+"$"+e._queryIdentifier}function Uc(e,t){return e.tagToQueryMap.get(t)}function Hc(e){const t=e.indexOf("$");return L(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ye(e.substr(0,t))}}function Gc(e,t,n){const r=e.syncPointTree_.get(t);L(r,"Missing sync point for query tag that we're tracking");const i=rs(e.pendingWriteTree_,t);return Bc(r,n,i,null)}function Nw(e){return e.fold((t,n,r)=>{if(n&&pn(n))return[is(n)];{let i=[];return n&&(i=ky(n)),rt(r,(a,o)=>{i=i.concat(o)}),i}})}function _i(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Aw())(e._repo,e._path):e}function Rw(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=as(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function Dw(){return Tw++}function jw(e,t,n){const r=t._path,i=Pi(e,t),a=By(e,n),o=e.listenProvider_.startListening(_i(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)L(!pn(s.value),"If we're adding a query, it shouldn't be shadowed");else{const l=s.fold((u,f,c)=>{if(!Z(u)&&f&&pn(f))return[is(f).query];{let h=[];return f&&(h=h.concat(ky(f).map(g=>g.query))),rt(c,(g,v)=>{h=h.concat(v)}),h}});for(let u=0;u<l.length;++u){const f=l[u];e.listenProvider_.stopListening(_i(f),Pi(e,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new zc(n)}node(){return this.node_}}class qc{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=$e(this.path_,t);return new qc(this.syncTree_,n)}node(){return Wc(this.syncTree_,this.path_)}}const Lw=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},zh=function(e,t,n){if(!e||typeof e!="object")return e;if(L(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Fw(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Bw(e[".sv"],t);L(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Fw=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:L(!1,"Unexpected server value: "+e)}},Bw=function(e,t,n){e.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&L(!1,"Unexpected increment value: "+r);const i=t.node();if(L(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Ww=function(e,t,n,r){return Vc(t,new qc(n,e),r)},Wy=function(e,t,n){return Vc(e,new zc(t),n)};function Vc(e,t,n){const r=e.getPriority().val(),i=zh(r,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const o=e,s=zh(o.getValue(),t,n);return s!==o.getValue()||i!==o.getPriority().val()?new De(s,Fe(i)):e}else{const o=e;return a=o,i!==o.getPriority().val()&&(a=a.updatePriority(new De(i))),o.forEachChild(Ae,(s,l)=>{const u=Vc(l,t.getImmediateChild(s),n);u!==l&&(a=a.updateImmediateChild(s,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Yc(e,t){let n=t instanceof ye?t:new ye(t),r=e,i=te(n);for(;i!==null;){const a=lr(r.node.children,i)||{children:{},childCount:0};r=new Kc(i,r,a),n=_e(n),i=te(n)}return r}function Br(e){return e.node.value}function Uy(e,t){e.node.value=t,Vl(e)}function Hy(e){return e.node.childCount>0}function Uw(e){return Br(e)===void 0&&!Hy(e)}function os(e,t){rt(e.node.children,(n,r)=>{t(new Kc(n,e,r))})}function Gy(e,t,n,r){n&&!r&&t(e),os(e,i=>{Gy(i,t,!0,r)}),n&&r&&t(e)}function Hw(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function aa(e){return new ye(e.parent===null?e.name:aa(e.parent)+"/"+e.name)}function Vl(e){e.parent!==null&&Gw(e.parent,e.name,e)}function Gw(e,t,n){const r=Uw(n),i=en(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Vl(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Vl(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=/[\[\].#$\/\u0000-\u001F\u007F]/,qw=/[\[\].#$\u0000-\u001F\u007F]/,tl=10*1024*1024,zy=function(e){return typeof e=="string"&&e.length!==0&&!zw.test(e)},qy=function(e){return typeof e=="string"&&e.length!==0&&!qw.test(e)},Vw=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qy(e)},Kw=function(e,t,n,r){r&&t===void 0||Xc(Ec(e,"value"),t,n)},Xc=function(e,t,n){const r=n instanceof ye?new fx(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+xn(r));if(typeof t=="function")throw new Error(e+"contains a function "+xn(r)+" with contents = "+t.toString());if(Wg(t))throw new Error(e+"contains "+t.toString()+" "+xn(r));if(typeof t=="string"&&t.length>tl/3&&es(t)>tl)throw new Error(e+"contains a string greater than "+tl+" utf8 bytes "+xn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,a=!1;if(rt(t,(o,s)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!zy(o)))throw new Error(e+" contains an invalid key ("+o+") "+xn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hx(r,o),Xc(e,s,r),dx(r)}),i&&a)throw new Error(e+' contains ".value" child '+xn(r)+" in addition to actual children.")}},Vy=function(e,t,n,r){if(!(r&&n===void 0)&&!qy(n))throw new Error(Ec(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Yw=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vy(e,t,n,r)},Xw=function(e,t){if(te(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Qw=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!zy(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Vw(n))throw new Error(Ec(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ky(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],a=i.getPath();n!==null&&!fy(a,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function jt(e,t,n){Ky(e,n),Zw(e,r=>Ct(r,t)||Ct(t,r))}function Zw(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const a=i.path;t(a)?(e1(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function e1(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Rn&&Ke("event: "+n.toString()),Fr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="repo_interrupt",n1=25;class r1{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ga(),this.transactionQueueTree_=new Kc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function i1(e,t,n){if(e.stats_=Pc(e.repoInfo_),e.forceRestClient_||D0())e.server_=new Ha(e.repoInfo_,(r,i,a,o)=>{qh(e,r,i,a,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Vh(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ie(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new qt(e.repoInfo_,t,(r,i,a,o)=>{qh(e,r,i,a,o)},r=>{Vh(e,r)},r=>{o1(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=W0(e.repoInfo_,()=>new Fx(e.stats_,e.server_)),e.infoData_=new Nx,e.infoSyncTree_=new Gh({startListening:(r,i,a,o)=>{let s=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(s=ra(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),s},stopListening:()=>{}}),Jc(e,"connected",!1),e.serverSyncTree_=new Gh({startListening:(r,i,a,o)=>(e.server_.listen(r,a,i,(s,l)=>{const u=o(s,l);jt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function a1(e){const n=e.infoData_.getNode(new ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qc(e){return Lw({timestamp:a1(e)})}function qh(e,t,n,r,i){e.dataUpdateCount++;const a=new ye(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const l=Fa(n,u=>Fe(u));o=$w(e.serverSyncTree_,a,l,i)}else{const l=Fe(n);o=jy(e.serverSyncTree_,a,l,i)}else if(r){const l=Fa(n,u=>Fe(u));o=Cw(e.serverSyncTree_,a,l)}else{const l=Fe(n);o=ra(e.serverSyncTree_,a,l)}let s=a;o.length>0&&(s=ls(e,a)),jt(e.eventQueue_,s,o)}function Vh(e,t){Jc(e,"connected",t),t===!1&&u1(e)}function o1(e,t){rt(t,(n,r)=>{Jc(e,n,r)})}function Jc(e,t,n){const r=new ye("/.info/"+t),i=Fe(n);e.infoData_.updateSnapshot(r,i);const a=ra(e.infoSyncTree_,r,i);jt(e.eventQueue_,r,a)}function Yy(e){return e.nextWriteId_++}function s1(e,t,n){const r=Mw(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const a=Fe(i).withIndex(t._queryParams.getIndex());kw(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=ra(e.serverSyncTree_,t._path,a);else{const s=Pi(e.serverSyncTree_,t);o=jy(e.serverSyncTree_,t._path,a,s)}return jt(e.eventQueue_,t._path,o),Dy(e.serverSyncTree_,t,n,null,!0),a},i=>(ss(e,"get for query "+Ie(t)+" failed: "+i),Promise.reject(new Error(i))))}function l1(e,t,n,r,i){ss(e,"set",{path:t.toString(),value:n,priority:r});const a=Qc(e),o=Fe(n,r),s=Wc(e.serverSyncTree_,t),l=Wy(o,s,a),u=Yy(e),f=Ry(e.serverSyncTree_,t,l,u,!0);Ky(e.eventQueue_,f),e.server_.put(t.toString(),o.val(!0),(h,g)=>{const v=h==="ok";v||nt("set at "+t+" failed: "+h);const d=In(e.serverSyncTree_,u,!v);jt(e.eventQueue_,t,d),f1(e,i,h,g)});const c=em(e,t);ls(e,c),jt(e.eventQueue_,c,[])}function u1(e){ss(e,"onDisconnectEvents");const t=Qc(e),n=Ga();Ul(e.onDisconnect_,oe(),(i,a)=>{const o=Ww(i,a,e.serverSyncTree_,t);_y(n,i,o)});let r=[];Ul(n,oe(),(i,a)=>{r=r.concat(ra(e.serverSyncTree_,i,a));const o=em(e,i);ls(e,o)}),e.onDisconnect_=Ga(),jt(e.eventQueue_,oe(),r)}function c1(e){e.persistentConnection_&&e.persistentConnection_.interrupt(t1)}function ss(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ke(n,...t)}function f1(e,t,n,r){t&&Fr(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let a=i;r&&(a+=": "+r);const o=new Error(a);o.code=i,t(o)}})}function Xy(e,t,n){return Wc(e.serverSyncTree_,t,n)||V.EMPTY_NODE}function Zc(e,t=e.transactionQueueTree_){if(t||us(e,t),Br(t)){const n=Jy(e,t);L(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&h1(e,aa(t),n)}else Hy(t)&&os(t,n=>{Zc(e,n)})}function h1(e,t,n){const r=n.map(u=>u.currentWriteId),i=Xy(e,t,r);let a=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];L(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=Qe(t,f.path);a=a.updateChild(c,f.currentOutputSnapshotRaw)}const s=a.val(!0),l=t;e.server_.put(l.toString(),s,u=>{ss(e,"transaction put response",{path:l.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat(In(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&c.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();us(e,Yc(e.transactionQueueTree_,t)),Zc(e,e.transactionQueueTree_),jt(e.eventQueue_,t,f);for(let h=0;h<c.length;h++)Fr(c[h])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{nt("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}ls(e,t)}},o)}function ls(e,t){const n=Qy(e,t),r=aa(n),i=Jy(e,n);return d1(e,i,r),r}function d1(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(s=>s.status===0).map(s=>s.currentWriteId);for(let s=0;s<t.length;s++){const l=t[s],u=Qe(n,l.path);let f=!1,c;if(L(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,c=l.abortReason,i=i.concat(In(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=n1)f=!0,c="maxretry",i=i.concat(In(e.serverSyncTree_,l.currentWriteId,!0));else{const h=Xy(e,l.path,o);l.currentInputSnapshot=h;const g=t[s].update(h.val());if(g!==void 0){Xc("transaction failed: Data returned ",g,l.path);let v=Fe(g);typeof g=="object"&&g!=null&&en(g,".priority")||(v=v.updatePriority(h.getPriority()));const y=l.currentWriteId,m=Qc(e),b=Wy(v,h,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=b,l.currentWriteId=Yy(e),o.splice(o.indexOf(y),1),i=i.concat(Ry(e.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(In(e.serverSyncTree_,y,!0))}else f=!0,c="nodata",i=i.concat(In(e.serverSyncTree_,l.currentWriteId,!0))}jt(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,function(h){setTimeout(h,Math.floor(0))}(t[s].unwatcher),t[s].onComplete&&(c==="nodata"?r.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):r.push(()=>t[s].onComplete(new Error(c),!1,null))))}us(e,e.transactionQueueTree_);for(let s=0;s<r.length;s++)Fr(r[s]);Zc(e,e.transactionQueueTree_)}function Qy(e,t){let n,r=e.transactionQueueTree_;for(n=te(t);n!==null&&Br(r)===void 0;)r=Yc(r,n),t=_e(t),n=te(t);return r}function Jy(e,t){const n=[];return Zy(e,t,n),n.sort((r,i)=>r.order-i.order),n}function Zy(e,t,n){const r=Br(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);os(t,i=>{Zy(e,i,n)})}function us(e,t){const n=Br(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Uy(t,n.length>0?n:void 0)}os(t,r=>{us(e,r)})}function em(e,t){const n=aa(Qy(e,t)),r=Yc(e.transactionQueueTree_,t);return Hw(r,i=>{nl(e,i)}),nl(e,r),Gy(r,i=>{nl(e,i)}),n}function nl(e,t){const n=Br(t);if(n){const r=[];let i=[],a=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(L(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(L(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(In(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?Uy(t,void 0):n.length=a+1,jt(e.eventQueue_,aa(t),i);for(let o=0;o<r.length;o++)Fr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function v1(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nt(`Invalid query segment '${n}' in query '${e}'`)}return t}const Kh=function(e,t){const n=g1(e),r=n.namespace;n.domain==="firebase.com"&&Xt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Xt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||T0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Zg(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ye(n.pathString)}},g1=function(e){let t="",n="",r="",i="",a="",o=!0,s="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(s=e.substring(0,u-1),e=e.substring(u+2));let f=e.indexOf("/");f===-1&&(f=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(f,c)),f<c&&(i=p1(e.substring(f,c)));const h=v1(e.substring(Math.min(e.length,c)));u=t.indexOf(":"),u>=0?(o=s==="https"||s==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const g=t.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ie(this.snapshot.exportVal())}}class m1{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:ly(this._path)}get ref(){return new tn(this._repo,this._path)}get _queryIdentifier(){const t=Mh(this._queryParams),n=Tc(t);return n==="{}"?"default":n}get _queryObject(){return Mh(this._queryParams)}isEqual(t){if(t=jr(t),!(t instanceof ef))return!1;const n=this._repo===t._repo,r=fy(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+cx(this._path)}}class tn extends ef{constructor(t,n){super(t,n,new Nc,!1)}get parent(){const t=cy(this._path);return t===null?null:new tn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ii{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ye(t),r=Kl(this.ref,t);return new Ii(this._node.getChild(n),r,Ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Ii(i,Kl(this.ref,r),Ae)))}hasChild(t){const n=new ye(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Yh(e,t){return e=jr(e),e._checkNotDeleted("ref"),t!==void 0?Kl(e._root,t):e._root}function Kl(e,t){return e=jr(e),te(e._path)===null?Yw("child","path",t,!1):Vy("child","path",t,!1),new tn(e._repo,$e(e._path,t))}function b1(e,t){e=jr(e),Xw("set",e._path),Kw("set",t,e._path,!1);const n=new Ac;return l1(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function x1(e){e=jr(e);const t=new _1(()=>{}),n=new tf(t);return s1(e._repo,e,n).then(r=>new Ii(r,new tn(e._repo,e._path),e._queryParams.getIndex()))}class tf{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new y1("value",this,new Ii(t.snapshotNode,new tn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new m1(this,t,n):null}matches(t){return t instanceof tf?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}bw(tn);Ew(tn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="FIREBASE_DATABASE_EMULATOR_HOST",Yl={};let S1=!1;function O1(e,t,n,r){e.repoInfo_=new Zg(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function E1(e,t,n,r,i){let a=r||e.options.databaseURL;a===void 0&&(e.options.projectId||Xt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Kh(a,i),s=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[w1]),u?(l=!0,a=`http://${u}?ns=${s.namespace}`,o=Kh(a,i),s=o.repoInfo):l=!o.repoInfo.secure;const f=i&&l?new nr(nr.OWNER):new L0(e.name,e.options,t);Qw("Invalid Firebase Database URL",o),Z(o.path)||Xt("Database URL must point to the root of a Firebase Database (not including a child path).");const c=T1(s,e,f,new j0(e.name,n));return new C1(c,e)}function A1(e,t){const n=Yl[t];(!n||n[e.key]!==e)&&Xt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),c1(e),delete n[e.key]}function T1(e,t,n,r){let i=Yl[t.name];i||(i={},Yl[t.name]=i);let a=i[e.toURLString()];return a&&Xt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new r1(e,S1,n,r),i[e.toURLString()]=a,a}class C1{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(i1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tn(this._repo,oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(A1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xt("Cannot call "+t+" on a deleted database.")}}function P1(e=t0(),t){const n=Zb(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=e0("database");r&&I1(n,...r)}return n}function I1(e,t,n,r={}){e=jr(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Xt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new nr(nr.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:n0(r.mockUserToken,e.app.options.projectId);a=new nr(o)}O1(i,t,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(e){w0(v0),r0(new i0("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return E1(r,i,a,n)},"PUBLIC").setMultipleInstances(!0)),hh(gh,yh,e),hh(gh,yh,"esm2017")}qt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};qt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};$1();var Xl={},k1={get exports(){return Xl},set exports(e){Xl=e}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var o=typeof a;if(o==="string"||o==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var s=n.apply(null,a);s&&r.push(s)}}else if(o==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){r.push(a.toString());continue}for(var l in a)t.call(a,l)&&a[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(k1);const ge=Xl;function M1(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ut=M1,N1=typeof xa=="object"&&xa&&xa.Object===Object&&xa,tm=N1,R1=tm,D1=typeof self=="object"&&self&&self.Object===Object&&self,j1=R1||D1||Function("return this")(),Ft=j1,L1=Ft,F1=L1.Symbol,oa=F1,Xh=oa,nm=Object.prototype,B1=nm.hasOwnProperty,W1=nm.toString,ii=Xh?Xh.toStringTag:void 0;function U1(e){var t=B1.call(e,ii),n=e[ii];try{e[ii]=void 0;var r=!0}catch{}var i=W1.call(e);return r&&(t?e[ii]=n:delete e[ii]),i}var H1=U1,G1=Object.prototype,z1=G1.toString;function q1(e){return z1.call(e)}var V1=q1,Qh=oa,K1=H1,Y1=V1,X1="[object Null]",Q1="[object Undefined]",Jh=Qh?Qh.toStringTag:void 0;function J1(e){return e==null?e===void 0?Q1:X1:Jh&&Jh in Object(e)?K1(e):Y1(e)}var gn=J1,Z1=Array.isArray,ce=Z1;function eS(e){return e!=null&&typeof e=="object"}var yn=eS,tS=gn,nS=ce,rS=yn,iS="[object String]";function aS(e){return typeof e=="string"||!nS(e)&&rS(e)&&tS(e)==iS}var sa=aS,oS=gn,sS=yn,lS="[object Symbol]";function uS(e){return typeof e=="symbol"||sS(e)&&oS(e)==lS}var Wr=uS,cS=ce,fS=Wr,hS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dS=/^\w*$/;function pS(e,t){if(cS(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||fS(e)?!0:dS.test(e)||!hS.test(e)||t!=null&&e in Object(t)}var nf=pS,vS=gn,gS=ut,yS="[object AsyncFunction]",mS="[object Function]",_S="[object GeneratorFunction]",bS="[object Proxy]";function xS(e){if(!gS(e))return!1;var t=vS(e);return t==mS||t==_S||t==yS||t==bS}var K=xS,wS=Ft,SS=wS["__core-js_shared__"],OS=SS,rl=OS,Zh=function(){var e=/[^.]+$/.exec(rl&&rl.keys&&rl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ES(e){return!!Zh&&Zh in e}var AS=ES,TS=Function.prototype,CS=TS.toString;function PS(e){if(e!=null){try{return CS.call(e)}catch{}try{return e+""}catch{}}return""}var rm=PS,IS=K,$S=AS,kS=ut,MS=rm,NS=/[\\^$.*+?()[\]{}|]/g,RS=/^\[object .+?Constructor\]$/,DS=Function.prototype,jS=Object.prototype,LS=DS.toString,FS=jS.hasOwnProperty,BS=RegExp("^"+LS.call(FS).replace(NS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WS(e){if(!kS(e)||$S(e))return!1;var t=IS(e)?BS:RS;return t.test(MS(e))}var US=WS;function HS(e,t){return e==null?void 0:e[t]}var GS=HS,zS=US,qS=GS;function VS(e,t){var n=qS(e,t);return zS(n)?n:void 0}var Gn=VS,KS=Gn,YS=KS(Object,"create"),cs=YS,ed=cs;function XS(){this.__data__=ed?ed(null):{},this.size=0}var QS=XS;function JS(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ZS=JS,eO=cs,tO="__lodash_hash_undefined__",nO=Object.prototype,rO=nO.hasOwnProperty;function iO(e){var t=this.__data__;if(eO){var n=t[e];return n===tO?void 0:n}return rO.call(t,e)?t[e]:void 0}var aO=iO,oO=cs,sO=Object.prototype,lO=sO.hasOwnProperty;function uO(e){var t=this.__data__;return oO?t[e]!==void 0:lO.call(t,e)}var cO=uO,fO=cs,hO="__lodash_hash_undefined__";function dO(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fO&&t===void 0?hO:t,this}var pO=dO,vO=QS,gO=ZS,yO=aO,mO=cO,_O=pO;function Ur(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ur.prototype.clear=vO;Ur.prototype.delete=gO;Ur.prototype.get=yO;Ur.prototype.has=mO;Ur.prototype.set=_O;var bO=Ur;function xO(){this.__data__=[],this.size=0}var wO=xO;function SO(e,t){return e===t||e!==e&&t!==t}var rf=SO,OO=rf;function EO(e,t){for(var n=e.length;n--;)if(OO(e[n][0],t))return n;return-1}var fs=EO,AO=fs,TO=Array.prototype,CO=TO.splice;function PO(e){var t=this.__data__,n=AO(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():CO.call(t,n,1),--this.size,!0}var IO=PO,$O=fs;function kO(e){var t=this.__data__,n=$O(t,e);return n<0?void 0:t[n][1]}var MO=kO,NO=fs;function RO(e){return NO(this.__data__,e)>-1}var DO=RO,jO=fs;function LO(e,t){var n=this.__data__,r=jO(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var FO=LO,BO=wO,WO=IO,UO=MO,HO=DO,GO=FO;function Hr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hr.prototype.clear=BO;Hr.prototype.delete=WO;Hr.prototype.get=UO;Hr.prototype.has=HO;Hr.prototype.set=GO;var hs=Hr,zO=Gn,qO=Ft,VO=zO(qO,"Map"),af=VO,td=bO,KO=hs,YO=af;function XO(){this.size=0,this.__data__={hash:new td,map:new(YO||KO),string:new td}}var QO=XO;function JO(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ZO=JO,eE=ZO;function tE(e,t){var n=e.__data__;return eE(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ds=tE,nE=ds;function rE(e){var t=nE(this,e).delete(e);return this.size-=t?1:0,t}var iE=rE,aE=ds;function oE(e){return aE(this,e).get(e)}var sE=oE,lE=ds;function uE(e){return lE(this,e).has(e)}var cE=uE,fE=ds;function hE(e,t){var n=fE(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var dE=hE,pE=QO,vE=iE,gE=sE,yE=cE,mE=dE;function Gr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gr.prototype.clear=pE;Gr.prototype.delete=vE;Gr.prototype.get=gE;Gr.prototype.has=yE;Gr.prototype.set=mE;var of=Gr,im=of,_E="Expected a function";function sf(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_E);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(sf.Cache||im),n}sf.Cache=im;var bE=sf,xE=bE,wE=500;function SE(e){var t=xE(e,function(r){return n.size===wE&&n.clear(),r}),n=t.cache;return t}var OE=SE,EE=OE,AE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TE=/\\(\\)?/g,CE=EE(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(AE,function(n,r,i,a){t.push(i?a.replace(TE,"$1"):r||n)}),t}),PE=CE;function IE(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var lf=IE,nd=oa,$E=lf,kE=ce,ME=Wr,NE=1/0,rd=nd?nd.prototype:void 0,id=rd?rd.toString:void 0;function am(e){if(typeof e=="string")return e;if(kE(e))return $E(e,am)+"";if(ME(e))return id?id.call(e):"";var t=e+"";return t=="0"&&1/e==-NE?"-0":t}var RE=am,DE=RE;function jE(e){return e==null?"":DE(e)}var om=jE,LE=ce,FE=nf,BE=PE,WE=om;function UE(e,t){return LE(e)?e:FE(e,t)?[e]:BE(WE(e))}var sm=UE,HE=Wr,GE=1/0;function zE(e){if(typeof e=="string"||HE(e))return e;var t=e+"";return t=="0"&&1/e==-GE?"-0":t}var ps=zE,qE=sm,VE=ps;function KE(e,t){t=qE(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[VE(t[n++])];return n&&n==r?e:void 0}var uf=KE,YE=uf;function XE(e,t,n){var r=e==null?void 0:YE(e,t);return r===void 0?n:r}var st=XE;function QE(e){return e==null}var z=QE,Ql={},JE={get exports(){return Ql},set exports(e){Ql=e}},he={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=typeof Symbol=="function"&&Symbol.for,cf=We?Symbol.for("react.element"):60103,ff=We?Symbol.for("react.portal"):60106,vs=We?Symbol.for("react.fragment"):60107,gs=We?Symbol.for("react.strict_mode"):60108,ys=We?Symbol.for("react.profiler"):60114,ms=We?Symbol.for("react.provider"):60109,_s=We?Symbol.for("react.context"):60110,hf=We?Symbol.for("react.async_mode"):60111,bs=We?Symbol.for("react.concurrent_mode"):60111,xs=We?Symbol.for("react.forward_ref"):60112,ws=We?Symbol.for("react.suspense"):60113,ZE=We?Symbol.for("react.suspense_list"):60120,Ss=We?Symbol.for("react.memo"):60115,Os=We?Symbol.for("react.lazy"):60116,eA=We?Symbol.for("react.block"):60121,tA=We?Symbol.for("react.fundamental"):60117,nA=We?Symbol.for("react.responder"):60118,rA=We?Symbol.for("react.scope"):60119;function ct(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cf:switch(e=e.type,e){case hf:case bs:case vs:case ys:case gs:case ws:return e;default:switch(e=e&&e.$$typeof,e){case _s:case xs:case Os:case Ss:case ms:return e;default:return t}}case ff:return t}}}function lm(e){return ct(e)===bs}he.AsyncMode=hf;he.ConcurrentMode=bs;he.ContextConsumer=_s;he.ContextProvider=ms;he.Element=cf;he.ForwardRef=xs;he.Fragment=vs;he.Lazy=Os;he.Memo=Ss;he.Portal=ff;he.Profiler=ys;he.StrictMode=gs;he.Suspense=ws;he.isAsyncMode=function(e){return lm(e)||ct(e)===hf};he.isConcurrentMode=lm;he.isContextConsumer=function(e){return ct(e)===_s};he.isContextProvider=function(e){return ct(e)===ms};he.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cf};he.isForwardRef=function(e){return ct(e)===xs};he.isFragment=function(e){return ct(e)===vs};he.isLazy=function(e){return ct(e)===Os};he.isMemo=function(e){return ct(e)===Ss};he.isPortal=function(e){return ct(e)===ff};he.isProfiler=function(e){return ct(e)===ys};he.isStrictMode=function(e){return ct(e)===gs};he.isSuspense=function(e){return ct(e)===ws};he.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vs||e===bs||e===ys||e===gs||e===ws||e===ZE||typeof e=="object"&&e!==null&&(e.$$typeof===Os||e.$$typeof===Ss||e.$$typeof===ms||e.$$typeof===_s||e.$$typeof===xs||e.$$typeof===tA||e.$$typeof===nA||e.$$typeof===rA||e.$$typeof===eA)};he.typeOf=ct;(function(e){e.exports=he})(JE);var iA=gn,aA=yn,oA="[object Number]";function sA(e){return typeof e=="number"||aA(e)&&iA(e)==oA}var um=sA,lA=um;function uA(e){return lA(e)&&e!=+e}var Es=uA,yt=function(t){return t===0?0:t>0?1:-1},$n=function(t){return sa(t)&&t.indexOf("%")===t.length-1},F=function(t){return um(t)&&!Es(t)},ke=function(t){return F(t)||sa(t)},cA=0,la=function(t){var n=++cA;return"".concat(t||"").concat(n)},hr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!F(t)&&!sa(t))return r;var a;if($n(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Es(a)&&(a=r),i&&a>n&&(a=n),a},rn=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},fA=function(t){if(!ce(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Et=function(t,n){return F(t)&&F(n)?function(r){return t+r*(n-t)}:function(){return n}};function Ja(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):st(r,t))===n})}function ir(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Jl(e){return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}var hA=["viewBox","children"],dA=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","type","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ad=["points","pathLength"],il={svg:hA,polygon:ad,polyline:ad},df=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Za=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(B.isValidElement(t)&&(r=t.props),!ut(r))return null;var i={};return Object.keys(r).forEach(function(a){df.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},pA=function(t,n,r){return function(i){return t(n,r,i),null}},eo=function(t,n,r){if(!ut(t)||Jl(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];df.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=pA(o,n,r))}),i},vA=["children"],gA=["children"];function od(e,t){if(e==null)return{};var n=yA(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var sd={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},cn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ld=null,al=null,pf=function e(t){if(t===ld&&ce(al))return al;var n=[];return B.Children.forEach(t,function(r){z(r)||(Ql.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),al=n,ld=t,n};function _t(e,t){var n=[],r=[];return ce(t)?r=t.map(function(i){return cn(i)}):r=[cn(t)],pf(e).forEach(function(i){var a=st(i,"type.displayName")||st(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ht(e,t){var n=_t(e,t);return n&&n[0]}var ud=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!F(r)||r<=0||!F(i)||i<=0)},mA=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_A=function(t){return t&&t.type&&sa(t.type)&&mA.indexOf(t.type)>=0},se=function(t,n,r){var i;if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(B.isValidElement(t)&&(a=t.props),!ut(a))return null;var o={},s=(i=il==null?void 0:il[r])!==null&&i!==void 0?i:[];return Object.keys(a).forEach(function(l){(r&&s.includes(l)||dA.includes(l)||n&&df.includes(l))&&(o[l]=a[l])}),o},cm=function e(t,n){if(t===n)return!0;var r=B.Children.count(t);if(r!==B.Children.count(n))return!1;if(r===0)return!0;if(r===1)return cd(ce(t)?t[0]:t,ce(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(ce(a)||ce(o)){if(!e(a,o))return!1}else if(!cd(a,o))return!1}return!0},cd=function(t,n){if(z(t)&&z(n))return!0;if(!z(t)&&!z(n)){var r=t.props||{},i=r.children,a=od(r,vA),o=n.props||{},s=o.children,l=od(o,gA);return i&&s?ir(a,l)&&cm(i,s):!i&&!s?ir(a,l):!1}return!1},fd=function(t,n){var r=[],i={};return pf(t).forEach(function(a,o){if(_A(a))r.push(a);else if(a){var s=cn(a.type),l=n[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var c=u(a,s,o);r.push(c),i[s]=!0}}}),r},bA=function(t){var n=t&&t.type;return n&&sd[n]?sd[n]:null},xA=function(t,n){return pf(n).indexOf(t)},wA=["children","width","height","viewBox","className","style"];function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}function SA(e,t){if(e==null)return{};var n=OA(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function eu(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,s=SA(e,wA),l=i||{width:n,height:r,x:0,y:0},u=ge("recharts-surface",a);return T.createElement("svg",Zl({},se(s,!0,"svg"),{className:u,width:n,height:r,style:o,viewBox:"".concat(l.x," ").concat(l.y," ").concat(l.width," ").concat(l.height)}),T.createElement("title",null,e.title),T.createElement("desc",null,e.desc),t)}var EA=["children","className"];function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(this,arguments)}function AA(e,t){if(e==null)return{};var n=TA(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TA(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Be=T.forwardRef(function(e,t){var n=e.children,r=e.className,i=AA(e,EA),a=ge("recharts-layer",r);return T.createElement("g",tu({className:a},se(i,!0),{ref:t}),n)}),CA=hs;function PA(){this.__data__=new CA,this.size=0}var IA=PA;function $A(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var kA=$A;function MA(e){return this.__data__.get(e)}var NA=MA;function RA(e){return this.__data__.has(e)}var DA=RA,jA=hs,LA=af,FA=of,BA=200;function WA(e,t){var n=this.__data__;if(n instanceof jA){var r=n.__data__;if(!LA||r.length<BA-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new FA(r)}return n.set(e,t),this.size=n.size,this}var UA=WA,HA=hs,GA=IA,zA=kA,qA=NA,VA=DA,KA=UA;function zr(e){var t=this.__data__=new HA(e);this.size=t.size}zr.prototype.clear=GA;zr.prototype.delete=zA;zr.prototype.get=qA;zr.prototype.has=VA;zr.prototype.set=KA;var fm=zr,YA="__lodash_hash_undefined__";function XA(e){return this.__data__.set(e,YA),this}var QA=XA;function JA(e){return this.__data__.has(e)}var ZA=JA,eT=of,tT=QA,nT=ZA;function to(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new eT;++t<n;)this.add(e[t])}to.prototype.add=to.prototype.push=tT;to.prototype.has=nT;var hm=to;function rT(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var dm=rT;function iT(e,t){return e.has(t)}var pm=iT,aT=hm,oT=dm,sT=pm,lT=1,uT=2;function cT(e,t,n,r,i,a){var o=n&lT,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var c=-1,h=!0,g=n&uT?new aT:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var v=e[c],d=t[c];if(r)var y=o?r(d,v,c,t,e,a):r(v,d,c,e,t,a);if(y!==void 0){if(y)continue;h=!1;break}if(g){if(!oT(t,function(m,b){if(!sT(g,b)&&(v===m||i(v,m,n,r,a)))return g.push(b)})){h=!1;break}}else if(!(v===d||i(v,d,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var vm=cT,fT=Ft,hT=fT.Uint8Array,dT=hT;function pT(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var vT=pT;function gT(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var vf=gT,hd=oa,dd=dT,yT=rf,mT=vm,_T=vT,bT=vf,xT=1,wT=2,ST="[object Boolean]",OT="[object Date]",ET="[object Error]",AT="[object Map]",TT="[object Number]",CT="[object RegExp]",PT="[object Set]",IT="[object String]",$T="[object Symbol]",kT="[object ArrayBuffer]",MT="[object DataView]",pd=hd?hd.prototype:void 0,ol=pd?pd.valueOf:void 0;function NT(e,t,n,r,i,a,o){switch(n){case MT:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kT:return!(e.byteLength!=t.byteLength||!a(new dd(e),new dd(t)));case ST:case OT:case TT:return yT(+e,+t);case ET:return e.name==t.name&&e.message==t.message;case CT:case IT:return e==t+"";case AT:var s=_T;case PT:var l=r&xT;if(s||(s=bT),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=wT,o.set(e,t);var f=mT(s(e),s(t),r,i,a,o);return o.delete(e),f;case $T:if(ol)return ol.call(e)==ol.call(t)}return!1}var RT=NT;function DT(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var gm=DT,jT=gm,LT=ce;function FT(e,t,n){var r=t(e);return LT(e)?r:jT(r,n(e))}var BT=FT;function WT(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var UT=WT;function HT(){return[]}var GT=HT,zT=UT,qT=GT,VT=Object.prototype,KT=VT.propertyIsEnumerable,vd=Object.getOwnPropertySymbols,YT=vd?function(e){return e==null?[]:(e=Object(e),zT(vd(e),function(t){return KT.call(e,t)}))}:qT,XT=YT;function QT(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var JT=QT,ZT=gn,eC=yn,tC="[object Arguments]";function nC(e){return eC(e)&&ZT(e)==tC}var rC=nC,gd=rC,iC=yn,ym=Object.prototype,aC=ym.hasOwnProperty,oC=ym.propertyIsEnumerable,sC=gd(function(){return arguments}())?gd:function(e){return iC(e)&&aC.call(e,"callee")&&!oC.call(e,"callee")},gf=sC,$i={},lC={get exports(){return $i},set exports(e){$i=e}};function uC(){return!1}var cC=uC;(function(e,t){var n=Ft,r=cC,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(lC,$i);var fC=9007199254740991,hC=/^(?:0|[1-9]\d*)$/;function dC(e,t){var n=typeof e;return t=t??fC,!!t&&(n=="number"||n!="symbol"&&hC.test(e))&&e>-1&&e%1==0&&e<t}var yf=dC,pC=9007199254740991;function vC(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pC}var mf=vC,gC=gn,yC=mf,mC=yn,_C="[object Arguments]",bC="[object Array]",xC="[object Boolean]",wC="[object Date]",SC="[object Error]",OC="[object Function]",EC="[object Map]",AC="[object Number]",TC="[object Object]",CC="[object RegExp]",PC="[object Set]",IC="[object String]",$C="[object WeakMap]",kC="[object ArrayBuffer]",MC="[object DataView]",NC="[object Float32Array]",RC="[object Float64Array]",DC="[object Int8Array]",jC="[object Int16Array]",LC="[object Int32Array]",FC="[object Uint8Array]",BC="[object Uint8ClampedArray]",WC="[object Uint16Array]",UC="[object Uint32Array]",xe={};xe[NC]=xe[RC]=xe[DC]=xe[jC]=xe[LC]=xe[FC]=xe[BC]=xe[WC]=xe[UC]=!0;xe[_C]=xe[bC]=xe[kC]=xe[xC]=xe[MC]=xe[wC]=xe[SC]=xe[OC]=xe[EC]=xe[AC]=xe[TC]=xe[CC]=xe[PC]=xe[IC]=xe[$C]=!1;function HC(e){return mC(e)&&yC(e.length)&&!!xe[gC(e)]}var GC=HC;function zC(e){return function(t){return e(t)}}var mm=zC,no={},qC={get exports(){return no},set exports(e){no=e}};(function(e,t){var n=tm,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(qC,no);var VC=GC,KC=mm,yd=no,md=yd&&yd.isTypedArray,YC=md?KC(md):VC,_m=YC,XC=JT,QC=gf,JC=ce,ZC=$i,eP=yf,tP=_m,nP=Object.prototype,rP=nP.hasOwnProperty;function iP(e,t){var n=JC(e),r=!n&&QC(e),i=!n&&!r&&ZC(e),a=!n&&!r&&!i&&tP(e),o=n||r||i||a,s=o?XC(e.length,String):[],l=s.length;for(var u in e)(t||rP.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||eP(u,l)))&&s.push(u);return s}var aP=iP,oP=Object.prototype;function sP(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||oP;return e===n}var lP=sP;function uP(e,t){return function(n){return e(t(n))}}var cP=uP,fP=cP,hP=fP(Object.keys,Object),dP=hP,pP=lP,vP=dP,gP=Object.prototype,yP=gP.hasOwnProperty;function mP(e){if(!pP(e))return vP(e);var t=[];for(var n in Object(e))yP.call(e,n)&&n!="constructor"&&t.push(n);return t}var _P=mP,bP=K,xP=mf;function wP(e){return e!=null&&xP(e.length)&&!bP(e)}var ua=wP,SP=aP,OP=_P,EP=ua;function AP(e){return EP(e)?SP(e):OP(e)}var As=AP,TP=BT,CP=XT,PP=As;function IP(e){return TP(e,PP,CP)}var $P=IP,_d=$P,kP=1,MP=Object.prototype,NP=MP.hasOwnProperty;function RP(e,t,n,r,i,a){var o=n&kP,s=_d(e),l=s.length,u=_d(t),f=u.length;if(l!=f&&!o)return!1;for(var c=l;c--;){var h=s[c];if(!(o?h in t:NP.call(t,h)))return!1}var g=a.get(e),v=a.get(t);if(g&&v)return g==t&&v==e;var d=!0;a.set(e,t),a.set(t,e);for(var y=o;++c<l;){h=s[c];var m=e[h],b=t[h];if(r)var p=o?r(b,m,h,t,e,a):r(m,b,h,e,t,a);if(!(p===void 0?m===b||i(m,b,n,r,a):p)){d=!1;break}y||(y=h=="constructor")}if(d&&!y){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(d=!1)}return a.delete(e),a.delete(t),d}var DP=RP,jP=Gn,LP=Ft,FP=jP(LP,"DataView"),BP=FP,WP=Gn,UP=Ft,HP=WP(UP,"Promise"),GP=HP,zP=Gn,qP=Ft,VP=zP(qP,"Set"),bm=VP,KP=Gn,YP=Ft,XP=KP(YP,"WeakMap"),QP=XP,nu=BP,ru=af,iu=GP,au=bm,ou=QP,xm=gn,qr=rm,bd="[object Map]",JP="[object Object]",xd="[object Promise]",wd="[object Set]",Sd="[object WeakMap]",Od="[object DataView]",ZP=qr(nu),eI=qr(ru),tI=qr(iu),nI=qr(au),rI=qr(ou),wn=xm;(nu&&wn(new nu(new ArrayBuffer(1)))!=Od||ru&&wn(new ru)!=bd||iu&&wn(iu.resolve())!=xd||au&&wn(new au)!=wd||ou&&wn(new ou)!=Sd)&&(wn=function(e){var t=xm(e),n=t==JP?e.constructor:void 0,r=n?qr(n):"";if(r)switch(r){case ZP:return Od;case eI:return bd;case tI:return xd;case nI:return wd;case rI:return Sd}return t});var iI=wn,sl=fm,aI=vm,oI=RT,sI=DP,Ed=iI,Ad=ce,Td=$i,lI=_m,uI=1,Cd="[object Arguments]",Pd="[object Array]",Ea="[object Object]",cI=Object.prototype,Id=cI.hasOwnProperty;function fI(e,t,n,r,i,a){var o=Ad(e),s=Ad(t),l=o?Pd:Ed(e),u=s?Pd:Ed(t);l=l==Cd?Ea:l,u=u==Cd?Ea:u;var f=l==Ea,c=u==Ea,h=l==u;if(h&&Td(e)){if(!Td(t))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new sl),o||lI(e)?aI(e,t,n,r,i,a):oI(e,t,l,n,r,i,a);if(!(n&uI)){var g=f&&Id.call(e,"__wrapped__"),v=c&&Id.call(t,"__wrapped__");if(g||v){var d=g?e.value():e,y=v?t.value():t;return a||(a=new sl),i(d,y,n,r,a)}}return h?(a||(a=new sl),sI(e,t,n,r,i,a)):!1}var hI=fI,dI=hI,$d=yn;function wm(e,t,n,r,i){return e===t?!0:e==null||t==null||!$d(e)&&!$d(t)?e!==e&&t!==t:dI(e,t,n,r,wm,i)}var _f=wm,pI=fm,vI=_f,gI=1,yI=2;function mI(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var l=s[0],u=e[l],f=s[1];if(o&&s[2]){if(u===void 0&&!(l in e))return!1}else{var c=new pI;if(r)var h=r(u,f,l,e,t,c);if(!(h===void 0?vI(f,u,gI|yI,r,c):h))return!1}}return!0}var _I=mI,bI=ut;function xI(e){return e===e&&!bI(e)}var Sm=xI,wI=Sm,SI=As;function OI(e){for(var t=SI(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,wI(i)]}return t}var EI=OI;function AI(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Om=AI,TI=_I,CI=EI,PI=Om;function II(e){var t=CI(e);return t.length==1&&t[0][2]?PI(t[0][0],t[0][1]):function(n){return n===e||TI(n,e,t)}}var $I=II;function kI(e,t){return e!=null&&t in Object(e)}var MI=kI,NI=sm,RI=gf,DI=ce,jI=yf,LI=mf,FI=ps;function BI(e,t,n){t=NI(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=FI(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&LI(i)&&jI(o,i)&&(DI(e)||RI(e)))}var WI=BI,UI=MI,HI=WI;function GI(e,t){return e!=null&&HI(e,t,UI)}var zI=GI,qI=_f,VI=st,KI=zI,YI=nf,XI=Sm,QI=Om,JI=ps,ZI=1,e$=2;function t$(e,t){return YI(e)&&XI(t)?QI(JI(e),t):function(n){var r=VI(n,e);return r===void 0&&r===t?KI(n,e):qI(t,r,ZI|e$)}}var n$=t$;function r$(e){return e}var Vr=r$;function i$(e){return function(t){return t==null?void 0:t[e]}}var a$=i$,o$=uf;function s$(e){return function(t){return o$(t,e)}}var l$=s$,u$=a$,c$=l$,f$=nf,h$=ps;function d$(e){return f$(e)?u$(h$(e)):c$(e)}var p$=d$,v$=$I,g$=n$,y$=Vr,m$=ce,_$=p$;function b$(e){return typeof e=="function"?e:e==null?y$:typeof e=="object"?m$(e)?g$(e[0],e[1]):v$(e):_$(e)}var mn=b$;function x$(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Em=x$;function w$(e){return e!==e}var S$=w$;function O$(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var E$=O$,A$=Em,T$=S$,C$=E$;function P$(e,t,n){return t===t?C$(e,t,n):A$(e,T$,n)}var I$=P$,$$=I$;function k$(e,t){var n=e==null?0:e.length;return!!n&&$$(e,t,0)>-1}var M$=k$;function N$(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var R$=N$;function D$(){}var j$=D$,ll=bm,L$=j$,F$=vf,B$=1/0,W$=ll&&1/F$(new ll([,-0]))[1]==B$?function(e){return new ll(e)}:L$,U$=W$,H$=hm,G$=M$,z$=R$,q$=pm,V$=U$,K$=vf,Y$=200;function X$(e,t,n){var r=-1,i=G$,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=z$;else if(a>=Y$){var u=t?null:V$(e);if(u)return K$(u);o=!1,i=q$,l=new H$}else l=t?[]:s;e:for(;++r<a;){var f=e[r],c=t?t(f):f;if(f=n||f!==0?f:0,o&&c===c){for(var h=l.length;h--;)if(l[h]===c)continue e;t&&l.push(c),s.push(f)}else i(l,c,n)||(l!==s&&l.push(c),s.push(f))}return s}var Q$=X$,J$=mn,Z$=Q$;function ek(e,t){return e&&e.length?Z$(e,J$(t)):[]}var ro=ek;function tk(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var nk=tk,rk=nk;function ik(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:rk(e,t,n)}var ak=ik,ok="\\ud800-\\udfff",sk="\\u0300-\\u036f",lk="\\ufe20-\\ufe2f",uk="\\u20d0-\\u20ff",ck=sk+lk+uk,fk="\\ufe0e\\ufe0f",hk="\\u200d",dk=RegExp("["+hk+ok+ck+fk+"]");function pk(e){return dk.test(e)}var Am=pk;function vk(e){return e.split("")}var gk=vk,Tm="\\ud800-\\udfff",yk="\\u0300-\\u036f",mk="\\ufe20-\\ufe2f",_k="\\u20d0-\\u20ff",bk=yk+mk+_k,xk="\\ufe0e\\ufe0f",wk="["+Tm+"]",su="["+bk+"]",lu="\\ud83c[\\udffb-\\udfff]",Sk="(?:"+su+"|"+lu+")",Cm="[^"+Tm+"]",Pm="(?:\\ud83c[\\udde6-\\uddff]){2}",Im="[\\ud800-\\udbff][\\udc00-\\udfff]",Ok="\\u200d",$m=Sk+"?",km="["+xk+"]?",Ek="(?:"+Ok+"(?:"+[Cm,Pm,Im].join("|")+")"+km+$m+")*",Ak=km+$m+Ek,Tk="(?:"+[Cm+su+"?",su,Pm,Im,wk].join("|")+")",Ck=RegExp(lu+"(?="+lu+")|"+Tk+Ak,"g");function Pk(e){return e.match(Ck)||[]}var Ik=Pk,$k=gk,kk=Am,Mk=Ik;function Nk(e){return kk(e)?Mk(e):$k(e)}var Rk=Nk,Dk=ak,jk=Am,Lk=Rk,Fk=om;function Bk(e){return function(t){t=Fk(t);var n=jk(t)?Lk(t):void 0,r=n?n[0]:t.charAt(0),i=n?Dk(n,1).join(""):t.slice(1);return r[e]()+i}}var Wk=Bk,Uk=Wk,Hk=Uk("toUpperCase"),Ts=Hk;function me(e){return function(){return e}}const Mm=Math.cos,io=Math.sin,$t=Math.sqrt,ao=Math.PI,Cs=2*ao,uu=Math.PI,cu=2*uu,Sn=1e-6,Gk=cu-Sn;function Nm(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function zk(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Nm;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class qk{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Nm:zk(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,u=i-n,f=o-t,c=s-n,h=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Sn)if(!(Math.abs(c*l-u*f)>Sn)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-o,v=i-s,d=l*l+u*u,y=g*g+v*v,m=Math.sqrt(d),b=Math.sqrt(h),p=a*Math.tan((uu-Math.acos((d+h-y)/(2*m*b)))/2),_=p/b,w=p/m;Math.abs(_-1)>Sn&&this._append`L${t+_*f},${n+_*c}`,this._append`A${a},${a},0,0,${+(c*g>f*v)},${this._x1=t+w*l},${this._y1=n+w*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,f=n+l,c=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Sn||Math.abs(this._y1-f)>Sn)&&this._append`L${u},${f}`,r&&(h<0&&(h=h%cu+cu),h>Gk?this._append`A${r},${r},0,1,${c},${t-s},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:h>Sn&&this._append`A${r},${r},0,${+(h>=uu)},${c},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bf(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new qk(t)}function xf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Rm(e){this._context=e}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ps(e){return new Rm(e)}function Dm(e){return e[0]}function jm(e){return e[1]}function Lm(e,t){var n=me(!0),r=null,i=Ps,a=null,o=bf(s);e=typeof e=="function"?e:e===void 0?Dm:me(e),t=typeof t=="function"?t:t===void 0?jm:me(t);function s(l){var u,f=(l=xf(l)).length,c,h=!1,g;for(r==null&&(a=i(g=o())),u=0;u<=f;++u)!(u<f&&n(c=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,u,l),+t(c,u,l));if(g)return a=null,g+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:me(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:me(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:me(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Aa(e,t,n){var r=null,i=me(!0),a=null,o=Ps,s=null,l=bf(u);e=typeof e=="function"?e:e===void 0?Dm:me(+e),t=typeof t=="function"?t:me(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?jm:me(+n);function u(c){var h,g,v,d=(c=xf(c)).length,y,m=!1,b,p=new Array(d),_=new Array(d);for(a==null&&(s=o(b=l())),h=0;h<=d;++h){if(!(h<d&&i(y=c[h],h,c))===m)if(m=!m)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(p[v],_[v]);s.lineEnd(),s.areaEnd()}m&&(p[h]=+e(y,h,c),_[h]=+t(y,h,c),s.point(r?+r(y,h,c):p[h],n?+n(y,h,c):_[h]))}if(b)return s=null,b+""||null}function f(){return Lm().defined(i).curve(o).context(a)}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:me(+c),r=null,u):e},u.x0=function(c){return arguments.length?(e=typeof c=="function"?c:me(+c),u):e},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:me(+c),u):r},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:me(+c),n=null,u):t},u.y0=function(c){return arguments.length?(t=typeof c=="function"?c:me(+c),u):t},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:me(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(n)},u.lineX1=function(){return f().x(r).y(t)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:me(!!c),u):i},u.curve=function(c){return arguments.length?(o=c,a!=null&&(s=o(a)),u):o},u.context=function(c){return arguments.length?(c==null?a=s=null:s=o(a=c),u):a},u}const wf={draw(e,t){const n=$t(t/ao);e.moveTo(n,0),e.arc(0,0,n,0,Cs)}},Vk={draw(e,t){const n=$t(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Fm=$t(1/3),Kk=Fm*2,Yk={draw(e,t){const n=$t(t/Kk),r=n*Fm;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Xk={draw(e,t){const n=$t(t),r=-n/2;e.rect(r,r,n,n)}},Qk=.8908130915292852,Bm=io(ao/10)/io(7*ao/10),Jk=io(Cs/10)*Bm,Zk=-Mm(Cs/10)*Bm,eM={draw(e,t){const n=$t(t*Qk),r=Jk*n,i=Zk*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Cs*a/5,s=Mm(o),l=io(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},ul=$t(3),tM={draw(e,t){const n=-$t(t/(ul*3));e.moveTo(0,n*2),e.lineTo(-ul*n,-n),e.lineTo(ul*n,-n),e.closePath()}},dt=-.5,pt=$t(3)/2,fu=1/$t(12),nM=(fu/2+1)*3,rM={draw(e,t){const n=$t(t/nM),r=n/2,i=n*fu,a=r,o=n*fu+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(dt*r-pt*i,pt*r+dt*i),e.lineTo(dt*a-pt*o,pt*a+dt*o),e.lineTo(dt*s-pt*l,pt*s+dt*l),e.lineTo(dt*r+pt*i,dt*i-pt*r),e.lineTo(dt*a+pt*o,dt*o-pt*a),e.lineTo(dt*s+pt*l,dt*l-pt*s),e.closePath()}};function iM(e,t){let n=null,r=bf(i);e=typeof e=="function"?e:me(e||wf),t=typeof t=="function"?t:me(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:me(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:me(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function oo(){}function so(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Wm(e){this._context=e}Wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:so(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:so(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aM(e){return new Wm(e)}function Um(e){this._context=e}Um.prototype={areaStart:oo,areaEnd:oo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:so(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oM(e){return new Um(e)}function Hm(e){this._context=e}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:so(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sM(e){return new Hm(e)}function Gm(e){this._context=e}Gm.prototype={areaStart:oo,areaEnd:oo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lM(e){return new Gm(e)}function kd(e){return e<0?-1:1}function Md(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(kd(a)+kd(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Nd(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function cl(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function lo(e){this._context=e}lo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cl(this,this._t0,Nd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cl(this,Nd(this,n=Md(this,e,t)),n);break;default:cl(this,this._t0,n=Md(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function zm(e){this._context=new qm(e)}(zm.prototype=Object.create(lo.prototype)).point=function(e,t){lo.prototype.point.call(this,t,e)};function qm(e){this._context=e}qm.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function uM(e){return new lo(e)}function cM(e){return new zm(e)}function Vm(e){this._context=e}Vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Rd(e),i=Rd(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Rd(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function fM(e){return new Vm(e)}function Is(e,t){this._context=e,this._t=t}Is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function hM(e){return new Is(e,.5)}function dM(e){return new Is(e,0)}function pM(e){return new Is(e,1)}function dr(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function hu(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function vM(e,t){return e[t]}function gM(e){const t=[];return t.key=e,t}function yM(){var e=me([]),t=hu,n=dr,r=vM;function i(a){var o=Array.from(e.apply(this,arguments),gM),s,l=o.length,u=-1,f;for(const c of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(c,o[s].key,u,a)]).data=c;for(s=0,f=xf(t(o));s<l;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:me(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:me(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?hu:typeof a=="function"?a:me(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??dr,i):n},i}function mM(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}dr(e,t)}}function _M(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}dr(e,t)}}function bM(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var f=e[t[s]],c=f[r][1]||0,h=f[r-1][1]||0,g=(c-h)/2,v=0;v<s;++v){var d=e[t[v]],y=d[r][1]||0,m=d[r-1][1]||0;g+=y-m}l+=c,u+=g*c}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,dr(e,t)}}function pr(e){return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},du.apply(this,arguments)}function xM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ym(r.key),r)}}function wM(e,t,n){return t&&Dd(e.prototype,t),n&&Dd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pu(e,t)}function pu(e,t){return pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pu(e,t)}function OM(e){var t=TM();return function(){var r=uo(e),i;if(t){var a=uo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return EM(this,i)}}function EM(e,t){if(t&&(pr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AM(e)}function AM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uo(e){return uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uo(e)}function Km(e,t,n){return t=Ym(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ym(e){var t=CM(e,"string");return pr(t)==="symbol"?t:String(t)}function CM(e,t){if(pr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xm={symbolCircle:wf,symbolCross:Vk,symbolDiamond:Yk,symbolSquare:Xk,symbolStar:eM,symbolTriangle:tM,symbolWye:rM},PM=Math.PI/180,IM=function(t){var n="symbol".concat(Ts(t));return Xm[n]||wf},$M=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*PM;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Sf=function(e){SM(n,e);var t=OM(n);function n(){return xM(this,n),t.apply(this,arguments)}return wM(n,[{key:"getPath",value:function(){var i=this.props,a=i.size,o=i.sizeType,s=i.type,l=IM(s),u=iM().type(l).size($M(a,o,s));return u()}},{key:"render",value:function(){var i=this.props,a=i.className,o=i.cx,s=i.cy,l=i.size,u=se(this.props,!0);return o===+o&&s===+s&&l===+l?T.createElement("path",du({},u,{className:ge("recharts-symbols",a),transform:"translate(".concat(o,", ").concat(s,")"),d:this.getPath()})):null}}]),n}(B.PureComponent);Km(Sf,"defaultProps",{type:"circle",size:64,sizeType:"area"});Km(Sf,"registerSymbol",function(e,t){Xm["symbol".concat(Ts(e))]=t});function vr(e){return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(e)}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vu.apply(this,arguments)}function jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jd(Object(n),!0).forEach(function(r){ki(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ld(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qm(r.key),r)}}function NM(e,t,n){return t&&Ld(e.prototype,t),n&&Ld(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gu(e,t)}function gu(e,t){return gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gu(e,t)}function DM(e){var t=FM();return function(){var r=co(e),i;if(t){var a=co(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return jM(this,i)}}function jM(e,t){if(t&&(vr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LM(e)}function LM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function co(e){return co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},co(e)}function ki(e,t,n){return t=Qm(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qm(e){var t=BM(e,"string");return vr(t)==="symbol"?t:String(t)}function BM(e,t){if(vr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vt=32,Of=function(e){RM(n,e);var t=DM(n);function n(){return MM(this,n),t.apply(this,arguments)}return NM(n,[{key:"renderIcon",value:function(i){var a=this.props.inactiveColor,o=vt/2,s=vt/6,l=vt/3,u=i.inactive?a:i.color;if(i.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:o,x2:vt,y2:o,className:"recharts-legend-icon"});if(i.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(vt,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(i.type==="rect")return T.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(vt/8,"h").concat(vt,"v").concat(vt*3/4,"h").concat(-vt,"z"),className:"recharts-legend-icon"});if(T.isValidElement(i.legendIcon)){var f=kM({},i);return delete f.legendIcon,T.cloneElement(i.legendIcon,f)}return T.createElement(Sf,{fill:u,cx:o,cy:o,size:vt,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,a=this.props,o=a.payload,s=a.iconSize,l=a.layout,u=a.formatter,f=a.inactiveColor,c={x:0,y:0,width:vt,height:vt},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,d){var y,m=v.formatter||u,b=ge((y={"recharts-legend-item":!0},ki(y,"legend-item-".concat(d),!0),ki(y,"inactive",v.inactive),y));if(v.type==="none")return null;var p=v.inactive?f:v.color;return T.createElement("li",vu({className:b,style:h,key:"legend-item-".concat(d)},eo(i.props,v,d)),T.createElement(eu,{width:s,height:s,viewBox:c,style:g},i.renderIcon(v)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},m?m(v.value,v,d):v.value))})}},{key:"render",value:function(){var i=this.props,a=i.payload,o=i.layout,s=i.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),n}(B.PureComponent);ki(Of,"displayName","Legend");ki(Of,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function gr(e){return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(e)}var WM=["ref"];function Fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fd(Object(n),!0).forEach(function(r){$s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zm(r.key),r)}}function HM(e,t,n){return t&&Bd(e.prototype,t),n&&Bd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yu(e,t)}function yu(e,t){return yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yu(e,t)}function zM(e){var t=VM();return function(){var r=fo(e),i;if(t){var a=fo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return qM(this,i)}}function qM(e,t){if(t&&(gr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jm(e)}function Jm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fo(e)}function $s(e,t,n){return t=Zm(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zm(e){var t=KM(e,"string");return gr(t)==="symbol"?t:String(t)}function KM(e,t){if(gr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YM(e,t){if(e==null)return{};var n=XM(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XM(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function QM(e){return e.value}function JM(e,t){return e===!0?ro(t,QM):K(e)?ro(t,e):t}function ZM(e,t){if(T.isValidElement(e))return T.cloneElement(e,t);if(K(e))return T.createElement(e,t);t.ref;var n=YM(t,WM);return T.createElement(Of,n)}var Wd=1,yr=function(e){GM(n,e);var t=zM(n);function n(){var r;UM(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),$s(Jm(r),"state",{boxWidth:-1,boxHeight:-1}),r}return HM(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var i=this.state,a=i.boxWidth,o=i.boxHeight;return a>=0&&o>=0?{width:a,height:o}:null}},{key:"getDefaultPosition",value:function(i){var a=this.props,o=a.layout,s=a.align,l=a.verticalAlign,u=a.margin,f=a.chartWidth,c=a.chartHeight,h,g;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(s==="center"&&o==="vertical"){var v=this.getBBoxSnapshot()||{width:0};h={left:((f||0)-v.width)/2}}else h=s==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(l==="middle"){var d=this.getBBoxSnapshot()||{height:0};g={top:((c||0)-d.height)/2}}else g=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Kn(Kn({},h),g)}},{key:"updateBBox",value:function(){var i=this.state,a=i.boxWidth,o=i.boxHeight,s=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var l=this.wrapperNode.getBoundingClientRect();(Math.abs(l.width-a)>Wd||Math.abs(l.height-o)>Wd)&&this.setState({boxWidth:l.width,boxHeight:l.height},function(){s&&s(l)})}else(a!==-1||o!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){s&&s(null)})}},{key:"render",value:function(){var i=this,a=this.props,o=a.content,s=a.width,l=a.height,u=a.wrapperStyle,f=a.payloadUniqBy,c=a.payload,h=Kn(Kn({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return T.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){i.wrapperNode=v}},ZM(o,Kn(Kn({},this.props),{},{payload:JM(f,c)})))}}],[{key:"getWithHeight",value:function(i,a){var o=i.props.layout;return o==="vertical"&&F(i.props.height)?{height:i.props.height}:o==="horizontal"?{width:i.props.width||a}:null}}]),n}(B.PureComponent);$s(yr,"displayName","Legend");$s(yr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var eN=typeof WeakSet=="function",Ud=Object.keys;function Ef(e,t){return e===t||e!==e&&t!==t}function Hd(e){return e.constructor===Object||e.constructor==null}function Gd(e){return!!e&&typeof e.then=="function"}function zd(e){return!!(e&&e.$$typeof)}function tN(){var e=[];return{add:function(t){e.push(t)},has:function(t){return e.indexOf(t)!==-1}}}var nN=function(e){return e?function(){return new WeakSet}:tN}(eN);function e_(e){return function(n){var r=e||n;return function(a,o,s){s===void 0&&(s=nN());var l=!!a&&typeof a=="object",u=!!o&&typeof o=="object";if(l||u){var f=l&&s.has(a),c=u&&s.has(o);if(f||c)return f&&c;l&&s.add(a),u&&s.add(o)}return r(a,o,s)}}}function rN(e,t,n,r){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n(e[i],t[i],r))return!1;return!0}function iN(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var a={};e.forEach(function(o,s){if(i){var l=!1,u=0;t.forEach(function(f,c){!l&&!a[u]&&(l=n(s,c,r)&&n(o,f,r),l&&(a[u]=!0)),u++}),i=l}})}return i}var aN="_owner",oN=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function qd(e,t,n,r){var i=Ud(e),a=i.length;if(Ud(t).length!==a)return!1;if(a)for(var o=void 0;a-- >0;){if(o=i[a],o===aN){var s=zd(e),l=zd(t);if((s||l)&&s!==l)return!1}if(!oN(t,o)||!n(e[o],t[o],r))return!1}return!0}function sN(e,t){return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.unicode===t.unicode&&e.sticky===t.sticky&&e.lastIndex===t.lastIndex}function lN(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var a={};e.forEach(function(o){if(i){var s=!1,l=0;t.forEach(function(u){!s&&!a[l]&&(s=n(o,u,r),s&&(a[l]=!0)),l++}),i=s}})}return i}var uN=typeof Map=="function",cN=typeof Set=="function";function ks(e){var t=typeof e=="function"?e(n):n;function n(r,i,a){if(r===i)return!0;if(r&&i&&typeof r=="object"&&typeof i=="object"){if(Hd(r)&&Hd(i))return qd(r,i,t,a);var o=Array.isArray(r),s=Array.isArray(i);return o||s?o===s&&rN(r,i,t,a):(o=r instanceof Date,s=i instanceof Date,o||s?o===s&&Ef(r.getTime(),i.getTime()):(o=r instanceof RegExp,s=i instanceof RegExp,o||s?o===s&&sN(r,i):Gd(r)||Gd(i)?r===i:uN&&(o=r instanceof Map,s=i instanceof Map,o||s)?o===s&&iN(r,i,t,a):cN&&(o=r instanceof Set,s=i instanceof Set,o||s)?o===s&&lN(r,i,t,a):qd(r,i,t,a)))}return r!==r&&i!==i}return n}var fN=ks();ks(function(){return Ef});ks(e_());ks(e_(Ef));function Vd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):requestAnimationFrame(i)};requestAnimationFrame(r)}function ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ja=function(n){return typeof n}:ja=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ja(e)}function hN(e){return gN(e)||vN(e)||pN(e)||dN()}function dN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pN(e,t){if(e){if(typeof e=="string")return Kd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kd(e,t)}}function Kd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vN(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gN(e){if(Array.isArray(e))return e}function yN(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=hN(o),l=s[0],u=s.slice(1);if(typeof l=="number"){Vd(i.bind(null,u),l);return}i(l),Vd(i.bind(null,u));return}ja(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yd(Object(n),!0).forEach(function(r){ho(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mN=["Webkit","Moz","O","ms"],_N=["-webkit-","-moz-","-o-","-ms-"],bN=["transform","transformOrigin","transition"],xN=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},wN=function(t){return t},SN=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ON=function(t,n){if(bN.indexOf(t)===-1)return ho({},t,n);var r=t==="transition",i=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=n;return mN.reduce(function(o,s,l){return r&&(a=n.replace(/(transform|transform-origin)/gim,"".concat(_N[l],"$1"))),mr(mr({},o),{},ho({},s+i,a))},{})},bi=function(t,n){return Object.keys(n).reduce(function(r,i){return mr(mr({},r),{},ho({},i,t(i,n[i])))},{})},mu=function(t){return Object.keys(t).reduce(function(n,r){return mr(mr({},n),ON(r,n[r]))},t)},Xd=function(t,n,r){return t.map(function(i){return"".concat(SN(i)," ").concat(n,"ms ").concat(r)}).join(",")};function EN(e,t){return CN(e)||TN(e,t)||t_(e,t)||AN()}function AN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TN(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function CN(e){if(Array.isArray(e))return e}function PN(e){return kN(e)||$N(e)||t_(e)||IN()}function IN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t_(e,t){if(e){if(typeof e=="string")return _u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _u(e,t)}}function $N(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kN(e){if(Array.isArray(e))return _u(e)}function _u(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var po=1e-4,n_=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},r_=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Qd=function(t,n){return function(r){var i=n_(t,n);return r_(i,r)}},MN=function(t,n){return function(r){var i=n_(t,n),a=[].concat(PN(i.map(function(o,s){return o*s}).slice(1)),[0]);return r_(a,r)}},Jd=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=EN(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var c=Qd(i,o),h=Qd(a,s),g=MN(i,o),v=function(m){return m>1?1:m<0?0:m},d=function(m){for(var b=m>1?1:m,p=b,_=0;_<8;++_){var w=c(p)-b,x=g(p);if(Math.abs(w-b)<po||x<po)return h(p);p=v(p-w/x)}return h(p)};return d.isStepper=!1,d},NN=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(f,c,h){var g=-(f-c)*r,v=h*a,d=h+(g-v)*s/1e3,y=h*s/1e3+f;return Math.abs(y-c)<po&&Math.abs(d)<po?[c,0]:[y,d]};return l.isStepper=!0,l.dt=s,l},RN=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Jd(i);case"spring":return NN();default:if(i.split("(")[0]==="cubic-bezier")return Jd(i)}return typeof i=="function"?i:null};function Zd(e){return LN(e)||jN(e)||i_(e)||DN()}function DN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jN(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function LN(e){if(Array.isArray(e))return xu(e)}function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ep(Object(n),!0).forEach(function(r){bu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FN(e,t){return UN(e)||WN(e,t)||i_(e,t)||BN()}function BN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i_(e,t){if(e){if(typeof e=="string")return xu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xu(e,t)}}function xu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WN(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function UN(e){if(Array.isArray(e))return e}var vo=function(t,n,r){return t+(n-t)*r},wu=function(t){var n=t.from,r=t.to;return n!==r},HN=function e(t,n,r){var i=bi(function(a,o){if(wu(o)){var s=t(o.from,o.to,o.velocity),l=FN(s,2),u=l[0],f=l[1];return Ge(Ge({},o),{},{from:u,velocity:f})}return o},n);return r<1?bi(function(a,o){return wu(o)?Ge(Ge({},o),{},{velocity:vo(o.velocity,i[a].velocity,r),from:vo(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const GN=function(e,t,n,r,i){var a=xN(e,t),o=a.reduce(function(y,m){return Ge(Ge({},y),{},bu({},m,[e[m],t[m]]))},{}),s=a.reduce(function(y,m){return Ge(Ge({},y),{},bu({},m,{from:e[m],velocity:0,to:t[m]}))},{}),l=-1,u,f,c=function(){return null},h=function(){return bi(function(m,b){return b.from},s)},g=function(){return!Object.values(s).filter(wu).length},v=function(m){u||(u=m);var b=m-u,p=b/n.dt;s=HN(n,s,p),i(Ge(Ge(Ge({},e),t),h())),u=m,g()||(l=requestAnimationFrame(c))},d=function(m){f||(f=m);var b=(m-f)/r,p=bi(function(w,x){return vo.apply(void 0,Zd(x).concat([n(b)]))},o);if(i(Ge(Ge(Ge({},e),t),p)),b<1)l=requestAnimationFrame(c);else{var _=bi(function(w,x){return vo.apply(void 0,Zd(x).concat([n(1)]))},o);i(Ge(Ge(Ge({},e),t),_))}};return c=n.isStepper?v:d,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}};function La(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?La=function(n){return typeof n}:La=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},La(e)}function zN(e,t){if(e==null)return{};var n=qN(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qN(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function fl(e){return XN(e)||YN(e)||KN(e)||VN()}function VN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KN(e,t){if(e){if(typeof e=="string")return Su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Su(e,t)}}function YN(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function XN(e){if(Array.isArray(e))return Su(e)}function Su(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tp(Object(n),!0).forEach(function(r){pi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function np(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JN(e,t,n){return t&&np(e.prototype,t),n&&np(e,n),e}function ZN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ou(e,t)}function Ou(e,t){return Ou=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ou(e,t)}function eR(e){var t=tR();return function(){var r=go(e),i;if(t){var a=go(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Eu(this,i)}}function Eu(e,t){return t&&(La(t)==="object"||typeof t=="function")?t:Au(e)}function Au(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function go(e){return go=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},go(e)}var Wn=function(e){ZN(n,e);var t=eR(n);function n(r,i){var a;QN(this,n),a=t.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,f=o.to,c=o.steps,h=o.children;if(a.handleStyleChange=a.handleStyleChange.bind(Au(a)),a.changeStyle=a.changeStyle.bind(Au(a)),!s)return a.state={style:{}},typeof h=="function"&&(a.state={style:f}),Eu(a);if(c&&c.length)a.state={style:c[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Eu(a);a.state={style:l?pi({},l,u):u}}else a.state={style:{}};return a}return JN(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate;if(s){if(!o){var f={style:l?pi({},l,this.props.to):this.props.to};this.state&&this.state.style&&(l&&this.state.style[l]!==this.props.to||!l&&this.state.style!==this.props.to)&&this.setState(f);return}if(!(fN(i.to,this.props.to)&&i.canBegin&&i.isActive)){var c=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=c||u?this.props.from:i.to;if(this.state&&this.state.style){var g={style:l?pi({},l,h):h};(l&&this.state.style[l]!==h||!l&&this.state.style!==h)&&this.setState(g)}this.runAnimation(St(St({},this.props),{},{from:h,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,c=i.onAnimationEnd,h=i.onAnimationStart,g=GN(o,s,RN(u),l,this.changeStyle),v=function(){a.stopJSAnimation=g()};this.manager.start([h,f,v,l,c])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,c=u.duration,h=c===void 0?0:c,g=function(d,y,m){if(m===0)return d;var b=y.duration,p=y.easing,_=p===void 0?"ease":p,w=y.style,x=y.properties,S=y.onAnimationEnd,O=m>0?o[m-1]:y,A=x||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(fl(d),[a.runJSAnimation.bind(a,{from:O.style,to:w,duration:b,easing:_}),b]);var $=Xd(A,b,_),E=St(St(St({},O.style),w),{},{transition:$});return[].concat(fl(d),[E,b,S]).filter(wN)};return this.manager.start([l].concat(fl(o.reduce(g,[f,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=yN());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,c=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var d=s?pi({},s,l):l,y=Xd(Object.keys(d),o,u);v.start([f,a,St(St({},d),{},{transition:y}),o,c])}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin,i.duration,i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var s=zN(i,["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"]),l=B.Children.count(a),u=mu(this.state.style);if(typeof a=="function")return a(u);if(!o||l===0)return a;var f=function(h){var g=h.props,v=g.style,d=v===void 0?{}:v,y=g.className,m=B.cloneElement(h,St(St({},s),{},{style:St(St({},d),u),className:y}));return m};return l===1?f(B.Children.only(a)):T.createElement("div",null,B.Children.map(a,function(c){return f(c)}))}}]),n}(B.PureComponent);Wn.displayName="Animate";Wn.propTypes={from:X.oneOfType([X.object,X.string]),to:X.oneOfType([X.object,X.string]),attributeName:X.string,duration:X.number,begin:X.number,easing:X.oneOfType([X.string,X.func]),steps:X.arrayOf(X.shape({duration:X.number.isRequired,style:X.object.isRequired,easing:X.oneOfType([X.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),X.func]),properties:X.arrayOf("string"),onAnimationEnd:X.func})),children:X.oneOfType([X.node,X.func]),isActive:X.bool,canBegin:X.bool,onAnimationEnd:X.func,shouldReAnimate:X.bool,onAnimationStart:X.func,onAnimationReStart:X.func};Wn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Number.isFinite===void 0&&(Number.isFinite=function(e){return typeof e=="number"&&isFinite(e)});X.object,X.object,X.object,X.element;X.object,X.object,X.object,X.oneOfType([X.array,X.element]),X.any;var rp=oa,nR=gf,rR=ce,ip=rp?rp.isConcatSpreadable:void 0;function iR(e){return rR(e)||nR(e)||!!(ip&&e&&e[ip])}var aR=iR,oR=gm,sR=aR;function a_(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=sR),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?a_(s,t-1,n,r,i):oR(i,s):r||(i[i.length]=s)}return i}var o_=a_;function lR(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(n(a[l],l,a)===!1)break}return t}}var uR=lR,cR=uR,fR=cR(),hR=fR,dR=hR,pR=As;function vR(e,t){return e&&dR(e,t,pR)}var s_=vR,gR=ua;function yR(e,t){return function(n,r){if(n==null)return n;if(!gR(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var mR=yR,_R=s_,bR=mR,xR=bR(_R),Af=xR,wR=Af,SR=ua;function OR(e,t){var n=-1,r=SR(e)?Array(e.length):[];return wR(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var l_=OR;function ER(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var AR=ER,ap=Wr;function TR(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=ap(e),o=t!==void 0,s=t===null,l=t===t,u=ap(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var CR=TR,PR=CR;function IR(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=PR(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var $R=IR,hl=lf,kR=uf,MR=mn,NR=l_,RR=AR,DR=mm,jR=$R,LR=Vr,FR=ce;function BR(e,t,n){t.length?t=hl(t,function(a){return FR(a)?function(o){return kR(o,a.length===1?a[0]:a)}:a}):t=[LR];var r=-1;t=hl(t,DR(MR));var i=NR(e,function(a,o,s){var l=hl(t,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return RR(i,function(a,o){return jR(a,o,n)})}var WR=BR;function UR(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var HR=UR,GR=HR,op=Math.max;function zR(e,t,n){return t=op(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=op(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),GR(e,this,s)}}var qR=zR;function VR(e){return function(){return e}}var KR=VR,YR=Gn,XR=function(){try{var e=YR(Object,"defineProperty");return e({},"",{}),e}catch{}}(),u_=XR,QR=KR,sp=u_,JR=Vr,ZR=sp?function(e,t){return sp(e,"toString",{configurable:!0,enumerable:!1,value:QR(t),writable:!0})}:JR,e2=ZR,t2=800,n2=16,r2=Date.now;function i2(e){var t=0,n=0;return function(){var r=r2(),i=n2-(r-n);if(n=r,i>0){if(++t>=t2)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var a2=i2,o2=e2,s2=a2,l2=s2(o2),u2=l2,c2=Vr,f2=qR,h2=u2;function d2(e,t){return h2(f2(e,t,c2),e+"")}var p2=d2,v2=rf,g2=ua,y2=yf,m2=ut;function _2(e,t,n){if(!m2(n))return!1;var r=typeof t;return(r=="number"?g2(n)&&y2(t,n.length):r=="string"&&t in n)?v2(n[t],e):!1}var Ms=_2,b2=o_,x2=WR,w2=p2,lp=Ms,S2=w2(function(e,t){if(e==null)return[];var n=t.length;return n>1&&lp(e,t[0],t[1])?t=[]:n>2&&lp(t[0],t[1],t[2])&&(t=[t[0]]),x2(e,b2(t,1),[])}),Tf=S2;function _r(e){return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(e)}function O2(e,t){return C2(e)||T2(e,t)||A2(e,t)||E2()}function E2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A2(e,t){if(e){if(typeof e=="string")return up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return up(e,t)}}function up(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T2(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function C2(e){if(Array.isArray(e))return e}function cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cp(Object(n),!0).forEach(function(r){Cf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c_(r.key),r)}}function I2(e,t,n){return t&&fp(e.prototype,t),n&&fp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tu(e,t)}function Tu(e,t){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tu(e,t)}function k2(e){var t=R2();return function(){var r=yo(e),i;if(t){var a=yo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return M2(this,i)}}function M2(e,t){if(t&&(_r(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N2(e)}function N2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yo(e){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yo(e)}function Cf(e,t,n){return t=c_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c_(e){var t=D2(e,"string");return _r(t)==="symbol"?t:String(t)}function D2(e,t){if(_r(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_r(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j2(e){return ce(e)&&ke(e[0])&&ke(e[1])?e.join(" ~ "):e}var Pf=function(e){$2(n,e);var t=k2(n);function n(){return P2(this,n),t.apply(this,arguments)}return I2(n,[{key:"renderContent",value:function(){var i=this.props,a=i.payload,o=i.separator,s=i.formatter,l=i.itemStyle,u=i.itemSorter;if(a&&a.length){var f={padding:0,margin:0},c=(u?Tf(a,u):a).map(function(h,g){if(h.type==="none")return null;var v=dl({display:"block",paddingTop:4,paddingBottom:4,color:h.color||"#000"},l),d=h.formatter||s||j2,y=h.value,m=h.name;if(d&&y!=null&&m!=null){var b=d(y,m,h,g,a);if(Array.isArray(b)){var p=b,_=O2(p,2);y=_[0],m=_[1]}else y=b}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(g),style:v},ke(m)?T.createElement("span",{className:"recharts-tooltip-item-name"},m):null,ke(m)?T.createElement("span",{className:"recharts-tooltip-item-separator"},o):null,T.createElement("span",{className:"recharts-tooltip-item-value"},y),T.createElement("span",{className:"recharts-tooltip-item-unit"},h.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:f},c)}return null}},{key:"render",value:function(){var i=this.props,a=i.wrapperClassName,o=i.contentStyle,s=i.labelClassName,l=i.labelStyle,u=i.label,f=i.labelFormatter,c=i.payload,h=dl({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),g=dl({margin:0},l),v=!z(u),d=v?u:"",y=ge("recharts-default-tooltip",a),m=ge("recharts-tooltip-label",s);return v&&f&&c!==void 0&&c!==null&&(d=f(u,c)),T.createElement("div",{className:y,style:h},T.createElement("p",{className:m,style:g},T.isValidElement(d)?d:"".concat(d)),this.renderContent())}}]),n}(B.PureComponent);Cf(Pf,"displayName","DefaultTooltipContent");Cf(Pf,"defaultProps",{separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}});var L2=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vt={isSsr:L2(),get:function(t){return Vt[t]},set:function(t,n){if(typeof t=="string")Vt[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){Vt[i]=t[i]})}}};function br(e){return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(e)}function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hp(Object(n),!0).forEach(function(r){Wt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f_(r.key),r)}}function B2(e,t,n){return t&&dp(e.prototype,t),n&&dp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function W2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cu(e,t)}function Cu(e,t){return Cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cu(e,t)}function U2(e){var t=G2();return function(){var r=mo(e),i;if(t){var a=mo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return H2(this,i)}}function H2(e,t){if(t&&(br(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pu(e)}function Pu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mo(e){return mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mo(e)}function Wt(e,t,n){return t=f_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f_(e){var t=z2(e,"string");return br(t)==="symbol"?t:String(t)}function z2(e,t){if(br(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(br(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ai="recharts-tooltip-wrapper",pp=1;function q2(e){return e.dataKey}function V2(e,t){return e===!0?ro(t,q2):K(e)?ro(t,e):t}function K2(e,t){return T.isValidElement(e)?T.cloneElement(e,t):K(e)?T.createElement(e,t):T.createElement(Pf,t)}var kn=function(e){W2(n,e);var t=U2(n);function n(){var r;F2(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Wt(Pu(r),"state",{boxWidth:-1,boxHeight:-1,dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Wt(Pu(r),"getTranslate",function(s){var l=s.key,u=s.tooltipDimension,f=s.viewBoxDimension,c=r.props,h=c.allowEscapeViewBox,g=c.reverseDirection,v=c.coordinate,d=c.offset,y=c.position,m=c.viewBox;if(y&&F(y[l]))return y[l];var b=v[l]-u-d,p=v[l]+d;if(h[l])return g[l]?b:p;if(g[l]){var _=b,w=m[l];return _<w?Math.max(p,m[l]):Math.max(b,m[l])}var x=p+u,S=m[l]+f;return x>S?Math.max(b,m[l]):Math.max(p,m[l])}),r}return B2(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var i=this.state,a=i.boxWidth,o=i.boxHeight,s=i.dismissed;if(s?(this.wrapperNode.blur(),(this.props.coordinate.x!==this.state.dismissedAtCoordinate.x||this.props.coordinate.y!==this.state.dismissedAtCoordinate.y)&&this.setState({dismissed:!1})):this.wrapperNode.focus({preventScroll:!0}),this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var l=this.wrapperNode.getBoundingClientRect();(Math.abs(l.width-a)>pp||Math.abs(l.height-o)>pp)&&this.setState({boxWidth:l.width,boxHeight:l.height})}else(a!==-1||o!==-1)&&this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var i,a=this,o=this.props,s=o.payload,l=o.isAnimationActive,u=o.animationDuration,f=o.animationEasing,c=o.filterNull,h=o.payloadUniqBy,g=V2(h,c&&s&&s.length?s.filter(function(P){return!z(P.value)}):s),v=g&&g.length,d=this.props,y=d.content,m=d.viewBox,b=d.coordinate,p=d.position,_=d.active,w=d.wrapperStyle,x=Bt({pointerEvents:"none",visibility:!this.state.dismissed&&_&&v?"visible":"hidden",position:"absolute",top:0,left:0},w),S,O;if(p&&F(p.x)&&F(p.y))S=p.x,O=p.y;else{var A=this.state,$=A.boxWidth,E=A.boxHeight;$>0&&E>0&&b?(S=this.getTranslate({key:"x",tooltipDimension:$,viewBoxDimension:m.width}),O=this.getTranslate({key:"y",tooltipDimension:E,viewBoxDimension:m.height})):x.visibility="hidden"}x=Bt(Bt({},mu({transform:this.props.useTranslate3d?"translate3d(".concat(S,"px, ").concat(O,"px, 0)"):"translate(".concat(S,"px, ").concat(O,"px)")})),x),l&&_&&(x=Bt(Bt({},mu({transition:"transform ".concat(u,"ms ").concat(f)})),x));var C=ge(ai,(i={},Wt(i,"".concat(ai,"-right"),F(S)&&b&&F(b.x)&&S>=b.x),Wt(i,"".concat(ai,"-left"),F(S)&&b&&F(b.x)&&S<b.x),Wt(i,"".concat(ai,"-bottom"),F(O)&&b&&F(b.y)&&O>=b.y),Wt(i,"".concat(ai,"-top"),F(O)&&b&&F(b.y)&&O<b.y),i));return T.createElement("div",{tabIndex:-1,role:"dialog",onKeyDown:function(M){M.key==="Escape"&&a.setState({dismissed:!0,dismissedAtCoordinate:Bt(Bt({},a.state.dismissedAtCoordinate),{},{x:a.props.coordinate.x,y:a.props.coordinate.y})})},className:C,style:x,ref:function(M){a.wrapperNode=M}},K2(y,Bt(Bt({},this.props),{},{payload:g})))}}]),n}(B.PureComponent);Wt(kn,"displayName","Tooltip");Wt(kn,"defaultProps",{active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!Vt.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1});var Y2=Ft,X2=function(){return Y2.Date.now()},Q2=X2,J2=/\s/;function Z2(e){for(var t=e.length;t--&&J2.test(e.charAt(t)););return t}var eD=Z2,tD=eD,nD=/^\s+/;function rD(e){return e&&e.slice(0,tD(e)+1).replace(nD,"")}var iD=rD,aD=iD,vp=ut,oD=Wr,gp=0/0,sD=/^[-+]0x[0-9a-f]+$/i,lD=/^0b[01]+$/i,uD=/^0o[0-7]+$/i,cD=parseInt;function fD(e){if(typeof e=="number")return e;if(oD(e))return gp;if(vp(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vp(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=aD(e);var n=lD.test(e);return n||uD.test(e)?cD(e.slice(2),n?2:8):sD.test(e)?gp:+e}var h_=fD,hD=ut,pl=Q2,yp=h_,dD="Expected a function",pD=Math.max,vD=Math.min;function gD(e,t,n){var r,i,a,o,s,l,u=0,f=!1,c=!1,h=!0;if(typeof e!="function")throw new TypeError(dD);t=yp(t)||0,hD(n)&&(f=!!n.leading,c="maxWait"in n,a=c?pD(yp(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function g(x){var S=r,O=i;return r=i=void 0,u=x,o=e.apply(O,S),o}function v(x){return u=x,s=setTimeout(m,t),f?g(x):o}function d(x){var S=x-l,O=x-u,A=t-S;return c?vD(A,a-O):A}function y(x){var S=x-l,O=x-u;return l===void 0||S>=t||S<0||c&&O>=a}function m(){var x=pl();if(y(x))return b(x);s=setTimeout(m,d(x))}function b(x){return s=void 0,h&&r?g(x):(r=i=void 0,o)}function p(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function _(){return s===void 0?o:b(pl())}function w(){var x=pl(),S=y(x);if(r=arguments,i=this,l=x,S){if(s===void 0)return v(l);if(c)return clearTimeout(s),s=setTimeout(m,t),g(l)}return s===void 0&&(s=setTimeout(m,t)),o}return w.cancel=p,w.flush=_,w}var d_=gD,Iu=function(e,t){return Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Iu(e,t)};function yD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Iu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function mD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Ta=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _D(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var If=_D,bD=typeof Ta=="object"&&Ta&&Ta.Object===Object&&Ta,xD=bD,wD=xD,SD=typeof self=="object"&&self&&self.Object===Object&&self,OD=wD||SD||Function("return this")(),p_=OD,ED=p_,AD=function(){return ED.Date.now()},TD=AD,CD=/\s/;function PD(e){for(var t=e.length;t--&&CD.test(e.charAt(t)););return t}var ID=PD,$D=ID,kD=/^\s+/;function MD(e){return e&&e.slice(0,$D(e)+1).replace(kD,"")}var ND=MD,RD=p_,DD=RD.Symbol,v_=DD,mp=v_,g_=Object.prototype,jD=g_.hasOwnProperty,LD=g_.toString,oi=mp?mp.toStringTag:void 0;function FD(e){var t=jD.call(e,oi),n=e[oi];try{e[oi]=void 0;var r=!0}catch{}var i=LD.call(e);return r&&(t?e[oi]=n:delete e[oi]),i}var BD=FD,WD=Object.prototype,UD=WD.toString;function HD(e){return UD.call(e)}var GD=HD,_p=v_,zD=BD,qD=GD,VD="[object Null]",KD="[object Undefined]",bp=_p?_p.toStringTag:void 0;function YD(e){return e==null?e===void 0?KD:VD:bp&&bp in Object(e)?zD(e):qD(e)}var XD=YD;function QD(e){return e!=null&&typeof e=="object"}var JD=QD,ZD=XD,ej=JD,tj="[object Symbol]";function nj(e){return typeof e=="symbol"||ej(e)&&ZD(e)==tj}var rj=nj,ij=ND,xp=If,aj=rj,wp=0/0,oj=/^[-+]0x[0-9a-f]+$/i,sj=/^0b[01]+$/i,lj=/^0o[0-7]+$/i,uj=parseInt;function cj(e){if(typeof e=="number")return e;if(aj(e))return wp;if(xp(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xp(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ij(e);var n=sj.test(e);return n||lj.test(e)?uj(e.slice(2),n?2:8):oj.test(e)?wp:+e}var fj=cj,hj=If,vl=TD,Sp=fj,dj="Expected a function",pj=Math.max,vj=Math.min;function gj(e,t,n){var r,i,a,o,s,l,u=0,f=!1,c=!1,h=!0;if(typeof e!="function")throw new TypeError(dj);t=Sp(t)||0,hj(n)&&(f=!!n.leading,c="maxWait"in n,a=c?pj(Sp(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function g(x){var S=r,O=i;return r=i=void 0,u=x,o=e.apply(O,S),o}function v(x){return u=x,s=setTimeout(m,t),f?g(x):o}function d(x){var S=x-l,O=x-u,A=t-S;return c?vj(A,a-O):A}function y(x){var S=x-l,O=x-u;return l===void 0||S>=t||S<0||c&&O>=a}function m(){var x=vl();if(y(x))return b(x);s=setTimeout(m,d(x))}function b(x){return s=void 0,h&&r?g(x):(r=i=void 0,o)}function p(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function _(){return s===void 0?o:b(vl())}function w(){var x=vl(),S=y(x);if(r=arguments,i=this,l=x,S){if(s===void 0)return v(l);if(c)return clearTimeout(s),s=setTimeout(m,t),g(l)}return s===void 0&&(s=setTimeout(m,t)),o}return w.cancel=p,w.flush=_,w}var y_=gj,yj=y_,mj=If,_j="Expected a function";function bj(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(_j);return mj(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),yj(e,t,{leading:r,maxWait:t,trailing:i})}var xj=bj,wj=function(e,t,n,r){switch(t){case"debounce":return y_(e,n,r);case"throttle":return xj(e,n,r);default:return e}},$u=function(e){return typeof e=="function"},si=function(){return typeof window>"u"},Op=function(e){return e instanceof Element||e instanceof HTMLDocument},Sj=function(e,t,n,r){return function(i){var a=i.width,o=i.height;t(function(s){return s.width===a&&s.height===o||s.width===a&&!r||s.height===o&&!n?s:(e&&$u(e)&&e(a,o),{width:a,height:o})})}},Oj=function(e){yD(t,e);function t(n){var r=e.call(this,n)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var u=r.props,f=u.targetRef,c=u.observerOptions;if(!si()){f&&f.current&&(r.targetRef.current=f.current);var h=r.getElement();h&&(r.observableElement&&r.observableElement===h||(r.observableElement=h,r.resizeObserver.observe(h,c)))}},r.getElement=function(){var u=r.props,f=u.querySelector,c=u.targetDomEl;if(si())return null;if(f)return document.querySelector(f);if(c&&Op(c))return c;if(r.targetRef&&Op(r.targetRef.current))return r.targetRef.current;var h=y0.findDOMNode(r);if(!h)return null;var g=r.getRenderType();switch(g){case"renderProp":return h;case"childFunction":return h;case"child":return h;case"childArray":return h;default:return h.parentElement}},r.createResizeHandler=function(u){var f=r.props,c=f.handleWidth,h=c===void 0?!0:c,g=f.handleHeight,v=g===void 0?!0:g,d=f.onResize;if(!(!h&&!v)){var y=Sj(d,r.setState.bind(r),h,v);u.forEach(function(m){var b=m&&m.contentRect||{},p=b.width,_=b.height,w=!r.skipOnMount&&!si();w&&y({width:p,height:_}),r.skipOnMount=!1})}},r.getRenderType=function(){var u=r.props,f=u.render,c=u.children;return $u(f)?"renderProp":$u(c)?"childFunction":B.isValidElement(c)?"child":Array.isArray(c)?"childArray":"parent"};var i=n.skipOnMount,a=n.refreshMode,o=n.refreshRate,s=o===void 0?1e3:o,l=n.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=i,r.targetRef=B.createRef(),r.observableElement=null,si()||(r.resizeHandler=wj(r.createResizeHandler,a,s,l),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){si()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var n=this.props,r=n.render,i=n.children,a=n.nodeType,o=a===void 0?"div":a,s=this.state,l=s.width,u=s.height,f={width:l,height:u,targetRef:this.targetRef},c=this.getRenderType(),h;switch(c){case"renderProp":return r&&r(f);case"childFunction":return h=i,h(f);case"child":if(h=i,h.type&&typeof h.type=="string"){f.targetRef;var g=mD(f,["targetRef"]);return B.cloneElement(h,g)}return B.cloneElement(h,f);case"childArray":return h=i,h.map(function(v){return!!v&&B.cloneElement(v,f)});default:return B.createElement(o,null)}},t}(B.PureComponent),ar=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ku.apply(this,arguments)}function Ep(e,t){return Cj(e)||Tj(e,t)||Aj(e,t)||Ej()}function Ej(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aj(e,t){if(e){if(typeof e=="string")return Ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ap(e,t)}}function Ap(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tj(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Cj(e){if(Array.isArray(e))return e}var Pj=B.forwardRef(function(e,t){var n=e.aspect,r=e.width,i=r===void 0?"100%":r,a=e.height,o=a===void 0?"100%":a,s=e.minWidth,l=e.minHeight,u=e.maxHeight,f=e.children,c=e.debounce,h=c===void 0?0:c,g=e.id,v=e.className,d=B.useState({containerWidth:-1,containerHeight:-1}),y=Ep(d,2),m=y[0],b=y[1],p=B.useRef(null);B.useImperativeHandle(t,function(){return p},[p]);var _=B.useState(!1),w=Ep(_,2),x=w[0],S=w[1],O=function(){return p.current?{containerWidth:p.current.clientWidth,containerHeight:p.current.clientHeight}:null},A=function(){if(x){var M=O();if(M){var I=m.containerWidth,R=m.containerHeight,U=M.containerWidth,D=M.containerHeight;(U!==I||D!==R)&&b({containerWidth:U,containerHeight:D})}}},$=h>0?d_(A,h):A,E=function(){var M=m.containerWidth,I=m.containerHeight;if(M<0||I<0)return null;ar($n(i)||$n(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),ar(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=$n(i)?M:i,U=$n(o)?I:o;return n&&n>0&&(R?U=R/n:U&&(R=U*n),u&&U>u&&(U=u)),ar(R>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,U,i,o,s,l,n),B.cloneElement(f,{width:R,height:U})};B.useEffect(function(){if(x){var P=O();P&&b(P)}},[x]),B.useEffect(function(){S(!0)},[]);var C={width:i,height:o,minWidth:s,minHeight:l,maxHeight:u};return T.createElement(Oj,{handleWidth:!0,handleHeight:!0,onResize:$,targetRef:p},T.createElement("div",ku({},g!=null?{id:"".concat(g)}:{},{className:ge("recharts-responsive-container",v),style:C,ref:p}),E()))}),m_=function(t){return null};m_.displayName="Cell";var _o={},Ij={get exports(){return _o},set exports(e){_o=e}},gl="(".charCodeAt(0),yl=")".charCodeAt(0),Ca="'".charCodeAt(0),ml='"'.charCodeAt(0),_l="\\".charCodeAt(0),Pa="/".charCodeAt(0),bl=",".charCodeAt(0),xl=":".charCodeAt(0),Tp="*".charCodeAt(0),$j=function(e){for(var t=[],n=e,r,i,a,o,s,l,u,f=0,c=n.charCodeAt(f),h=n.length,g=[{nodes:t}],v=0,d,y="",m="",b="";f<h;)if(c<=32){r=f;do r+=1,c=n.charCodeAt(r);while(c<=32);o=n.slice(f,r),a=t[t.length-1],c===yl&&v?b=o:a&&a.type==="div"?a.after=o:c===bl||c===xl||c===Pa&&n.charCodeAt(r+1)!==Tp?m=o:t.push({type:"space",sourceIndex:f,value:o}),f=r}else if(c===Ca||c===ml){r=f,i=c===Ca?"'":'"',o={type:"string",sourceIndex:f,quote:i};do if(s=!1,r=n.indexOf(i,r+1),~r)for(l=r;n.charCodeAt(l-1)===_l;)l-=1,s=!s;else n+=i,r=n.length-1,o.unclosed=!0;while(s);o.value=n.slice(f+1,r),t.push(o),f=r+1,c=n.charCodeAt(f)}else if(c===Pa&&n.charCodeAt(f+1)===Tp)o={type:"comment",sourceIndex:f},r=n.indexOf("*/",f),r===-1&&(o.unclosed=!0,r=n.length),o.value=n.slice(f+2,r),t.push(o),f=r+2,c=n.charCodeAt(f);else if(c===Pa||c===bl||c===xl)o=n[f],t.push({type:"div",sourceIndex:f-m.length,value:o,before:m,after:""}),m="",f+=1,c=n.charCodeAt(f);else if(gl===c){r=f;do r+=1,c=n.charCodeAt(r);while(c<=32);if(o={type:"function",sourceIndex:f-y.length,value:y,before:n.slice(f+1,r)},f=r,y==="url"&&c!==Ca&&c!==ml){r-=1;do if(s=!1,r=n.indexOf(")",r+1),~r)for(l=r;n.charCodeAt(l-1)===_l;)l-=1,s=!s;else n+=")",r=n.length-1,o.unclosed=!0;while(s);u=r;do u-=1,c=n.charCodeAt(u);while(c<=32);f!==u+1?o.nodes=[{type:"word",sourceIndex:f,value:n.slice(f,u+1)}]:o.nodes=[],o.unclosed&&u+1!==r?(o.after="",o.nodes.push({type:"space",sourceIndex:u+1,value:n.slice(u+1,r)})):o.after=n.slice(u+1,r),f=r+1,c=n.charCodeAt(f),t.push(o)}else v+=1,o.after="",t.push(o),g.push(o),t=o.nodes=[],d=o;y=""}else if(yl===c&&v)f+=1,c=n.charCodeAt(f),d.after=b,b="",v-=1,g.pop(),d=g[v],t=d.nodes;else{r=f;do c===_l&&(r+=1),r+=1,c=n.charCodeAt(r);while(r<h&&!(c<=32||c===Ca||c===ml||c===bl||c===xl||c===Pa||c===gl||c===yl&&v));o=n.slice(f,r),gl===c?y=o:t.push({type:"word",sourceIndex:f,value:o}),f=r}for(f=g.length-1;f;f-=1)g[f].unclosed=!0;return g[0].nodes},kj=function e(t,n,r){var i,a,o,s;for(i=0,a=t.length;i<a;i+=1)o=t[i],r||(s=n(o,i,t)),s!==!1&&o.type==="function"&&Array.isArray(o.nodes)&&e(o.nodes,n,r),r&&n(o,i,t)};function Cp(e,t){var n=e.type,r=e.value,i,a;return t&&(a=t(e))!==void 0?a:n==="word"||n==="space"?r:n==="string"?(i=e.quote||"",i+r+(e.unclosed?"":i)):n==="comment"?"/*"+r+(e.unclosed?"":"*/"):n==="div"?(e.before||"")+r+(e.after||""):Array.isArray(e.nodes)?(i=__(e.nodes),n!=="function"?i:r+"("+(e.before||"")+i+(e.after||"")+(e.unclosed?"":")")):r}function __(e,t){var n,r;if(Array.isArray(e)){for(n="",r=e.length-1;~r;r-=1)n=Cp(e[r],t)+n;return n}return Cp(e,t)}var Mj=__,wl,Pp;function Nj(){if(Pp)return wl;Pp=1;var e="-".charCodeAt(0),t="+".charCodeAt(0),n=".".charCodeAt(0),r="e".charCodeAt(0),i="E".charCodeAt(0);return wl=function(a){for(var o=0,s=a.length,l=!1,u=-1,f=!1,c;o<s;){if(c=a.charCodeAt(o),c>=48&&c<=57)f=!0;else if(c===r||c===i){if(u>-1)break;u=o}else if(c===n){if(l)break;l=!0}else if(c===t||c===e){if(o!==0)break}else break;o+=1}return u+1===o&&o--,f?{number:a.slice(0,o),unit:a.slice(o)}:!1},wl}var Rj=$j,b_=kj,x_=Mj;function vn(e){return this instanceof vn?(this.nodes=Rj(e),this):new vn(e)}vn.prototype.toString=function(){return Array.isArray(this.nodes)?x_(this.nodes):""};vn.prototype.walk=function(e,t){return b_(this.nodes,e,t),this};vn.unit=Nj();vn.walk=b_;vn.stringify=x_;var Dj=vn;function jj(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var w_={};(function(e){var t=function(){function n(h,g){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),h==null&&(h="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:h}),this.hash=g;var v;if(g&&g.exception instanceof Error){var d=g.exception;this.message=d.message||h,v=d.stack}v||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):v=new Error(h).stack),v&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:v})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(n.prototype,Error.prototype):n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.name="JisonParserError";function r(h){for(var g=[],v=h.pop,d=h.rule,y=0,m=v.length;y<m;y++)g.push([v[y],d[y]]);return g}function i(h){for(var g={},v=h.idx,d=h.goto,y=0,m=v.length;y<m;y++){var b=v[y];g[b]=d[y]}return g}function a(h){for(var g=[],v=h.len,d=h.symbol,y=h.type,m=h.state,b=h.mode,p=h.goto,_=0,w=v.length;_<w;_++){for(var x=v[_],S={},O=0;O<x;O++){var A=d.shift();switch(y.shift()){case 2:S[A]=[b.shift(),p.shift()];break;case 0:S[A]=m.shift();break;default:S[A]=[3]}}g.push(S)}return g}function o(h,g,v){v=v||0;for(var d=0;d<g;d++)this.push(h),h+=v}function s(h,g){for(h=this.length-h,g+=h;h<g;h++)this.push(this[h])}function l(h){for(var g=[],v=0,d=h.length;v<d;v++){var y=h[v];typeof y=="function"?(v++,y.apply(g,h[v])):g.push(y)}return g}var u={trace:function(){},JisonParserError:n,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(g){return'"'+g+'"'},getSymbolName:function(g){if(this.terminals_[g])return this.terminals_[g];var v=this.symbols_;for(var d in v)if(v[d]===g)return d;return null},describeSymbol:function(g){if(g!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[g])return this.terminal_descriptions_[g];if(g===this.EOF)return"end of input";var v=this.getSymbolName(g);return v?this.quoteName(v):null},collect_expected_token_set:function(g,v){var d=this.TERROR,y=[],m={};if(!v&&this.state_descriptions_&&this.state_descriptions_[g])return[this.state_descriptions_[g]];for(var b in this.table[g])if(b=+b,b!==d){var p=v?b:this.describeSymbol(b);p&&!m[p]&&(y.push(p),m[p]=!0)}return y},productions_:r({pop:l([29,o,[30,10],31,31,32,32,o,[33,15]]),rule:l([2,o,[3,5],4,7,o,[1,4],2,4,6,o,[1,14],2])}),performAction:function(g,v,d){var y=this.yy;switch(y.parser,y.lexer,g){case 0:this.$=d[v-1];break;case 1:return this.$=d[v-1],d[v-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:d[v-1],left:d[v-2],right:d[v]};break;case 6:this.$=d[v-1];break;case 7:this.$={type:"Calc",value:d[v-1]};break;case 8:this.$={type:"Calc",value:d[v-1],prefix:d[v-5]};break;case 9:case 10:case 11:this.$=d[v];break;case 12:this.$={type:"Value",value:parseFloat(d[v])};break;case 13:this.$={type:"Value",value:parseFloat(d[v])*-1};break;case 14:this.$={type:"CssVariable",value:d[v-1]};break;case 15:this.$={type:"CssVariable",value:d[v-3],fallback:d[v-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(d[v]),unit:/[a-z]+/.exec(d[v])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(d[v]),unit:/[a-z]+/.exec(d[v])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(d[v]),unit:/[a-z]+/.exec(d[v])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(d[v]),unit:/[a-z]+/.exec(d[v])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(d[v]),unit:/[a-z]+/.exec(d[v])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(d[v]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(d[v]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(d[v]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(d[v]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(d[v]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(d[v]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(d[v]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(d[v]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(d[v]),unit:"%"};break;case 30:var m=d[v];m.value*=-1,this.$=m;break}},table:a({len:l([24,1,5,23,1,18,o,[0,3],1,o,[0,16],o,[23,4],s,[28,3],0,0,16,1,6,6,o,[0,3],5,1,2,s,[37,3],s,[20,3],5,0,0]),symbol:l([4,7,9,11,12,o,[15,19,1],1,1,o,[3,4,1],s,[30,19],s,[29,4],7,4,10,11,s,[22,14],s,[19,3],s,[43,22],s,[23,69],s,[139,4],8,s,[51,24],4,s,[138,15],13,s,[186,5],8,s,[6,6],s,[5,5],9,8,14,s,[159,47],s,[60,10]]),type:l([o,[2,19],o,[0,5],1,o,[2,24],o,[0,4],s,[22,19],s,[43,42],s,[23,70],s,[28,25],s,[45,25],s,[113,54]]),state:l([1,2,8,6,7,30,s,[4,3],33,37,s,[5,3],38,s,[4,3],39,s,[4,3],40,s,[4,3],42,s,[21,4],50,s,[5,3],51,s,[4,3]]),mode:l([o,[1,179],o,[2,3],s,[5,5],s,[6,4],o,[1,57]]),goto:l([5,3,4,24,o,[9,15,1],o,[25,5,1],s,[24,19],31,35,32,34,s,[18,14],36,s,[38,19],s,[19,57],s,[118,4],41,s,[24,19],43,35,s,[16,14],44,o,[2,3],28,29,2,o,[3,3],28,29,3,s,[53,4],o,[45,5,1],s,[100,42],52,s,[5,4],53])}),defaultActions:i({idx:l([6,7,8,o,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:l([9,10,11,o,[16,14,1],12,1,30,13,o,[4,4,1],14,15,8])}),parseError:function(g,v,d){if(v.recoverable)typeof this.trace=="function"&&this.trace(g),v.destroy();else throw typeof this.trace=="function"&&this.trace(g),d||(d=this.JisonParserError),new d(g,v)},parse:function(g){var v=this,d=new Array(128),y=new Array(128),m=new Array(128),b=this.table,p=0,_=0;this.TERROR;var w=this.EOF;this.options.errorRecoveryTokenDiscardCount|0;var x=[0,54],S;this.__lexer__?S=this.__lexer__:S=this.__lexer__=Object.create(this.lexer);var O={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};typeof assert!="function"||assert,this.yyGetSharedState=function(){return O};function A(ie,j){for(var G in j)typeof ie[G]>"u"&&Object.prototype.hasOwnProperty.call(j,G)&&(ie[G]=j[G])}A(O,this.yy),O.lexer=S,O.parser=this,typeof O.parseError=="function"?this.parseError=function(j,G,Y){return Y||(Y=this.JisonParserError),O.parseError.call(this,j,G,Y)}:this.parseError=this.originalParseError,typeof O.quoteName=="function"?this.quoteName=function(j){return O.quoteName.call(this,j)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(j,G,Y){var N;if(G){var fe;(O.post_parse||this.post_parse)&&(fe=this.constructParseErrorInfo(null,null,null,!1)),O.post_parse&&(N=O.post_parse.call(this,O,j,fe),typeof N<"u"&&(j=N)),this.post_parse&&(N=this.post_parse.call(this,O,j,fe),typeof N<"u"&&(j=N)),fe&&fe.destroy&&fe.destroy()}if(this.__reentrant_call_depth>1)return j;if(S.cleanupAfterLex&&S.cleanupAfterLex(Y),O&&(O.lexer=void 0,O.parser=void 0,S.yy===O&&(S.yy=void 0)),O=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,d.length=0,y.length=0,m.length=0,p=0,!Y){for(var re=this.__error_infos.length-1;re>=0;re--){var Ee=this.__error_infos[re];Ee&&typeof Ee.destroy=="function"&&Ee.destroy()}this.__error_infos.length=0}return j},this.constructParseErrorInfo=function(j,G,Y,N){var fe={errStr:j,exception:G,text:S.match,value:S.yytext,token:this.describeSymbol(_)||_,token_id:_,line:S.yylineno,expected:Y,recoverable:N,state:P,action:M,new_state:Q,symbol_stack:d,state_stack:y,value_stack:m,stack_pointer:p,yy:O,lexer:S,parser:this,destroy:function(){var Ee=!!this.recoverable;for(var Ce in this)this.hasOwnProperty(Ce)&&typeof Ce=="object"&&(this[Ce]=void 0);this.recoverable=Ee}};return this.__error_infos.push(fe),fe};function $(){var ie=S.lex();return typeof ie!="number"&&(ie=v.symbols_[ie]||ie),ie||w}function E(){var ie=S.fastLex();return typeof ie!="number"&&(ie=v.symbols_[ie]||ie),ie||w}var C=$,P,M,I,R,U={$:!0,_$:void 0,yy:O},D,W,ae,Q,ne=!1;try{if(this.__reentrant_call_depth++,S.setInput(g,O),typeof S.canIUse=="function"){var Te=S.canIUse();Te.fastLex&&typeof E=="function"&&(C=E)}for(m[p]=null,y[p]=0,d[p]=0,++p,this.pre_parse&&this.pre_parse.call(this,O),O.pre_parse&&O.pre_parse.call(this,O),Q=y[p-1];;){if(P=Q,this.defaultActions[P])M=2,Q=this.defaultActions[P];else if(_||(_=C()),R=b[P]&&b[P][_]||x,Q=R[1],M=R[0],!M){var be,He=this.describeSymbol(_)||_,wt=this.collect_expected_token_set(P);typeof S.yylineno=="number"?be="Parse error on line "+(S.yylineno+1)+": ":be="Parse error: ",typeof S.showPosition=="function"&&(be+=`
`+S.showPosition(79-10,10)+`
`),wt.length?be+="Expecting "+wt.join(", ")+", got unexpected "+He:be+="Unexpected "+He,D=this.constructParseErrorInfo(be,null,wt,!1),I=this.parseError(D.errStr,D,this.JisonParserError),typeof I<"u"&&(ne=I);break}switch(M){default:if(M instanceof Array){D=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+P+", token: "+_,null,null,!1),I=this.parseError(D.errStr,D,this.JisonParserError),typeof I<"u"&&(ne=I);break}D=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),I=this.parseError(D.errStr,D,this.JisonParserError),typeof I<"u"&&(ne=I);break;case 1:d[p]=_,m[p]=S.yytext,y[p]=Q,++p,_=0;continue;case 2:if(ae=this.productions_[Q-1],W=ae[1],I=this.performAction.call(U,Q,p-1,m),typeof I<"u"){ne=I;break}p-=W;var Ye=ae[0];d[p]=Ye,m[p]=U.$,Q=b[y[p-1]][Ye],y[p]=Q,++p;continue;case 3:p!==-2&&(ne=!0,p--,typeof m[p]<"u"&&(ne=m[p]));break}break}}catch(ie){if(ie instanceof this.JisonParserError)throw ie;if(S&&typeof S.JisonLexerError=="function"&&ie instanceof S.JisonLexerError)throw ie;D=this.constructParseErrorInfo("Parsing aborted due to exception.",ie,null,!1),ne=!1,I=this.parseError(D.errStr,D,this.JisonParserError),typeof I<"u"&&(ne=I)}finally{ne=this.cleanupAfterParse(ne,!0,!0),this.__reentrant_call_depth--}return ne}};u.originalParseError=u.parseError,u.originalQuoteName=u.quoteName;var f=function(){function h(v,d){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),v==null&&(v="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:v}),this.hash=d;var y;if(d&&d.exception instanceof Error){var m=d.exception;this.message=m.message||v,y=m.stack}y||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):y=new Error(v).stack),y&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:y})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(h.prototype,Error.prototype):h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="JisonLexerError";var g={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(d,y,m){if(d=""+d,m==null&&(m=!(d.indexOf(`
`)>0&&d.indexOf("^")>0)),this.yylloc&&m){if(typeof this.prettyPrintRange=="function")this.prettyPrintRange(this.yylloc),/\n\s*$/.test(d)||(d+=`
`),d+=`
  Erroneous area:
`+this.prettyPrintRange(this.yylloc);else if(typeof this.showPosition=="function"){var b=this.showPosition();b&&(d.length&&d[d.length-1]!==`
`&&b[0]!==`
`?d+=`
`+b:d+=b)}}var p={errStr:d,recoverable:!!y,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var w=!!this.recoverable;for(var x in this)this.hasOwnProperty(x)&&typeof x=="object"&&(this[x]=void 0);this.recoverable=w}};return this.__error_infos.push(p),p},parseError:function(d,y,m){if(m||(m=this.JisonLexerError),this.yy){if(this.yy.parser&&typeof this.yy.parser.parseError=="function")return this.yy.parser.parseError.call(this,d,y,m)||this.ERROR;if(typeof this.yy.parseError=="function")return this.yy.parseError.call(this,d,y,m)||this.ERROR}throw new m(d,y)},yyerror:function(d){var y="";this.yylloc&&(y=" on line "+(this.yylineno+1));var m=this.constructLexErrorInfo("Lexical error"+y+": "+d,this.options.lexerErrorsAreRecoverable),b=Array.prototype.slice.call(arguments,1);return b.length&&(m.extra_error_attributes=b),this.parseError(m.errStr,m,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(d){if(this.setInput("",{}),!d){for(var y=this.__error_infos.length-1;y>=0;y--){var m=this.__error_infos[y];m&&typeof m.destroy=="function"&&m.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var d=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:d,last_line:this.yylineno+1,last_column:d,range:[this.offset,this.offset]}},setInput:function(d,y){if(this.yy=y||this.yy||{},!this.__decompressed){for(var m=this.rules,b=0,p=m.length;b<p;b++){var _=m[b];typeof _=="number"&&(m[b]=m[_])}var w=this.conditions;for(var x in w){for(var S=w[x],O=S.rules,p=O.length,A=new Array(p+1),$=new Array(p+1),b=0;b<p;b++){var E=O[b],_=m[E];A[b+1]=_,$[b+1]=E}S.rules=$,S.__rule_regexes=A,S.__rule_count=p}this.__decompressed=!0}return this._input=d||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(d,y){var m=d.call(this,this._input,y);return typeof m!="string"?m&&(this._input=""+m):this._input=m,this},input:function(){if(!this._input)return null;var d=this._input[0];this.yytext+=d,this.yyleng++,this.offset++,this.match+=d,this.matched+=d;var y=1,m=!1;if(d===`
`)m=!0;else if(d==="\r"){m=!0;var b=this._input[1];b===`
`&&(y++,d+=b,this.yytext+=b,this.yyleng++,this.offset++,this.match+=b,this.matched+=b,this.yylloc.range[1]++)}return m?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(y),d},unput:function(d){var y=d.length,m=d.split(/(?:\r\n?|\n)/g);if(this._input=d+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-y),this.yyleng=this.yytext.length,this.offset-=y,this.match=this.match.substr(0,this.match.length-y),this.matched=this.matched.substr(0,this.matched.length-y),m.length>1){this.yylineno-=m.length-1,this.yylloc.last_line=this.yylineno+1;var b=this.match,p=b.split(/(?:\r\n?|\n)/g);p.length===1&&(b=this.matched,p=b.split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=p[p.length-1].length}else this.yylloc.last_column-=y;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var d="";this.yylloc&&(d=" on line "+(this.yylineno+1));var y=this.constructLexErrorInfo("Lexical error"+d+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(y.errStr,y,this.JisonLexerError)||this.ERROR}return this},less:function(d){return this.unput(this.match.slice(d))},pastInput:function(d,y){var m=this.matched.substring(0,this.matched.length-this.match.length);d<0?d=m.length:d||(d=20),y<0?y=m.length:y||(y=1),m=m.substr(-d*2-2);var b=m.replace(/\r\n|\r/g,`
`).split(`
`);return b=b.slice(-y),m=b.join(`
`),m.length>d&&(m="..."+m.substr(-d)),m},upcomingInput:function(d,y){var m=this.match;d<0?d=m.length+this._input.length:d||(d=20),y<0?y=d:y||(y=1),m.length<d*2+2&&(m+=this._input.substring(0,d*2+2));var b=m.replace(/\r\n|\r/g,`
`).split(`
`);return b=b.slice(0,y),m=b.join(`
`),m.length>d&&(m=m.substring(0,d)+"..."),m},showPosition:function(d,y){var m=this.pastInput(d).replace(/\s/g," "),b=new Array(m.length+1).join("-");return m+this.upcomingInput(y).replace(/\s/g," ")+`
`+b+"^"},deriveLocationInfo:function(d,y,m,b){var p={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return d&&(p.first_line=d.first_line|0,p.last_line=d.last_line|0,p.first_column=d.first_column|0,p.last_column=d.last_column|0,d.range&&(p.range[0]=d.range[0]|0,p.range[1]=d.range[1]|0)),(p.first_line<=0||p.last_line<p.first_line)&&(p.first_line<=0&&y&&(p.first_line=y.last_line|0,p.first_column=y.last_column|0,y.range&&(p.range[0]=d.range[1]|0)),(p.last_line<=0||p.last_line<p.first_line)&&m&&(p.last_line=m.first_line|0,p.last_column=m.first_column|0,m.range&&(p.range[1]=d.range[0]|0)),p.first_line<=0&&b&&(p.last_line<=0||b.last_line<=p.last_line)&&(p.first_line=b.first_line|0,p.first_column=b.first_column|0,b.range&&(p.range[0]=b.range[0]|0)),p.last_line<=0&&b&&(p.first_line<=0||b.first_line>=p.first_line)&&(p.last_line=b.last_line|0,p.last_column=b.last_column|0,b.range&&(p.range[1]=b.range[1]|0))),p.last_line<=0&&(p.first_line<=0?(p.first_line=this.yylloc.first_line,p.last_line=this.yylloc.last_line,p.first_column=this.yylloc.first_column,p.last_column=this.yylloc.last_column,p.range[0]=this.yylloc.range[0],p.range[1]=this.yylloc.range[1]):(p.last_line=this.yylloc.last_line,p.last_column=this.yylloc.last_column,p.range[1]=this.yylloc.range[1])),p.first_line<=0&&(p.first_line=p.last_line,p.first_column=0,p.range[1]=p.range[0]),p.first_column<0&&(p.first_column=0),p.last_column<0&&(p.last_column=p.first_column>0?p.first_column:80),p},prettyPrintRange:function(d,y,m){d=this.deriveLocationInfo(d,y,m);const b=3,p=1,_=2;var w=this.matched+this._input,x=w.split(`
`),S=Math.max(1,y?y.first_line:d.first_line-b),O=Math.max(1,m?m.last_line:d.last_line+p),A=1+Math.log10(O|1)|0,$=new Array(A).join(" "),E=[],C=x.slice(S-1,O+1).map(function(U,D){var W=D+S,ae=($+W).substr(-A),Q=ae+": "+U,ne=new Array(A+1).join("^"),Te=2+1,be=0;if(W===d.first_line?(Te+=d.first_column,be=Math.max(2,(W===d.last_line?d.last_column:U.length)-d.first_column+1)):W===d.last_line?be=Math.max(2,d.last_column+1):W>d.first_line&&W<d.last_line&&(be=Math.max(2,U.length+1)),be){var He=new Array(Te).join("."),wt=new Array(be).join("^");Q+=`
`+ne+He+wt,U.trim().length>0&&E.push(D)}return Q=Q.replace(/\t/g," "),Q});if(E.length>2*_){var P=E[_-1]+1,M=E[E.length-_]-1,I=new Array(A+1).join(" ")+"  (...continued...)";I+=`
`+new Array(A+1).join("-")+"  (---------------)",C.splice(P,M-P+1,I)}return C.join(`
`)},describeYYLLOC:function(d,y){var m=d.first_line,b=d.last_line,p=d.first_column,_=d.last_column,w=b-m,x=_-p,S;if(w===0?(S="line "+m+", ",x<=1?S+="column "+p:S+="columns "+p+" .. "+_):S="lines "+m+"(column "+p+") .. "+b+"(column "+_+")",d.range&&y){var O=d.range[0],A=d.range[1]-1;A<=O?S+=" {String Offset: "+O+"}":S+=" {String Offset range: "+O+" .. "+A+"}"}return S},test_match:function(d,y){var m,b,p,_,w;if(this.options.backtrack_lexer&&(p={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),_=d[0],w=_.length,b=_.split(/(?:\r\n?|\n)/g),b.length>1?(this.yylineno+=b.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=b[b.length-1].length):this.yylloc.last_column+=w,this.yytext+=_,this.match+=_,this.matched+=_,this.matches=d,this.yyleng=this.yytext.length,this.yylloc.range[1]+=w,this.offset+=w,this._more=!1,this._backtrack=!1,this._input=this._input.slice(w),m=this.performAction.call(this,this.yy,y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var x in p)this[x]=p[x];return this.__currentRuleSet__=null,!1}else if(this._signaled_error_token)return m=this._signaled_error_token,this._signaled_error_token=!1,m;return!1},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var d,y,m,b;this._more||this.clear();var p=this.__currentRuleSet__;if(!p&&(p=this.__currentRuleSet__=this._currentRules(),!p||!p.rules)){var _="";this.options.trackPosition&&(_=" on line "+(this.yylineno+1));var w=this.constructLexErrorInfo("Internal lexer engine error"+_+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(w.errStr,w,this.JisonLexerError)||this.ERROR}for(var x=p.rules,S=p.__rule_regexes,O=p.__rule_count,A=1;A<=O;A++)if(m=this._input.match(S[A]),m&&(!y||m[0].length>y[0].length)){if(y=m,b=A,this.options.backtrack_lexer){if(d=this.test_match(m,x[A]),d!==!1)return d;if(this._backtrack){y=void 0;continue}else return!1}else if(!this.options.flex)break}if(y)return d=this.test_match(y,x[b]),d!==!1?d:!1;if(this._input){var _="";this.options.trackPosition&&(_=" on line "+(this.yylineno+1));var w=this.constructLexErrorInfo("Lexical error"+_+": Unrecognized text.",this.options.lexerErrorsAreRecoverable),$=this._input,E=this.topState(),C=this.conditionStack.length;return d=this.parseError(w.errStr,w,this.JisonLexerError)||this.ERROR,d===this.ERROR&&!this.matches&&$===this._input&&E===this.topState()&&C===this.conditionStack.length&&this.input(),d}else return this.done=!0,this.clear(),this.EOF},lex:function(){var d;for(typeof this.pre_lex=="function"&&(d=this.pre_lex.call(this,0)),typeof this.options.pre_lex=="function"&&(d=this.options.pre_lex.call(this,d)||d),this.yy&&typeof this.yy.pre_lex=="function"&&(d=this.yy.pre_lex.call(this,d)||d);!d;)d=this.next();return this.yy&&typeof this.yy.post_lex=="function"&&(d=this.yy.post_lex.call(this,d)||d),typeof this.options.post_lex=="function"&&(d=this.options.post_lex.call(this,d)||d),typeof this.post_lex=="function"&&(d=this.post_lex.call(this,d)||d),d},fastLex:function(){for(var d;!d;)d=this.next();return d},canIUse:function(){var d={fastLex:!(typeof this.pre_lex=="function"||typeof this.options.pre_lex=="function"||this.yy&&typeof this.yy.pre_lex=="function"||this.yy&&typeof this.yy.post_lex=="function"||typeof this.options.post_lex=="function"||typeof this.post_lex=="function")&&typeof this.fastLex=="function"};return d},begin:function(d){return this.pushState(d)},pushState:function(d){return this.conditionStack.push(d),this.__currentRuleSet__=null,this},popState:function(){var d=this.conditionStack.length-1;return d>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(d){return d=this.conditionStack.length-1-Math.abs(d||0),d>=0?this.conditionStack[d]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:h,performAction:function(d,y,m){switch(y){case 1:break;default:return this.simpleCaseActionClusters[y]}},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return g}();u.lexer=f;function c(){this.yy={}}return c.prototype=u,u.Parser=c,new c}();typeof jj<"u"&&(e.parser=t,e.Parser=t.Parser,e.parse=function(){return t.parse.apply(t,arguments)})})(w_);var ca={},bo={},Lj={get exports(){return bo},set exports(e){bo=e}},Sl={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:1/1e3},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:1/1e3,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}},Fj=function(e,t,n,r){if(!Sl.hasOwnProperty(n))throw new Error("Cannot convert to "+n);if(!Sl[n].hasOwnProperty(t))throw new Error("Cannot convert from "+t+" to "+n);var i=Sl[n][t]*e;return r!==!1?(r=Math.pow(10,parseInt(r)||5),Math.round(i*r)/r):i};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Fj,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,l,u){switch(s.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return o(s,l,u);default:return{left:s,right:l}}}function o(s,l,u){return l.type===s.type&&(l={type:s.type,value:(0,r.default)(l.value,l.unit,s.unit,u),unit:s.unit}),{left:s,right:l}}t.default=a,e.exports=t.default})(Lj,bo);Object.defineProperty(ca,"__esModule",{value:!0});ca.flip=Mu;var Bj=bo,Ol=Wj(Bj);function Wj(e){return e&&e.__esModule?e:{default:e}}function Ve(e,t){return e.type==="MathExpression"?qj(e,t):e.type==="Calc"?Ve(e.value,t):e}function Ip(e,t){return e.type===t.type&&e.value===t.value}function Ze(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function Uj(e,t){var n=(0,Ol.default)(e.left,e.right,t),r=Ve(n.left,t),i=Ve(n.right,t);return r.type==="MathExpression"&&i.type==="MathExpression"&&(r.operator==="/"&&i.operator==="*"||r.operator==="-"&&i.operator==="+"||r.operator==="*"&&i.operator==="/"||r.operator==="+"&&i.operator==="-")&&(Ip(r.right,i.right)?n=(0,Ol.default)(r.left,i.left,t):Ip(r.right,i.left)&&(n=(0,Ol.default)(r.left,i.right,t)),r=Ve(n.left,t),i=Ve(n.right,t)),e.left=r,e.right=i,e}function Mu(e){return e==="+"?"-":"+"}function Nu(e){return Ze(e.type)?e.value=-e.value:e.type=="MathExpression"&&(e.left=Nu(e.left),e.right=Nu(e.right)),e}function Hj(e,t){var n=e,r=n.left,i=n.right,a=n.operator;if(r.type==="CssVariable"||i.type==="CssVariable")return e;if(i.value===0)return r;if(r.value===0&&a==="+")return i;if(r.value===0&&a==="-")return Nu(i);if(r.type===i.type&&Ze(r.type)&&(e=Object.assign({},r),a==="+"?e.value=r.value+i.value:e.value=r.value-i.value),Ze(r.type)&&(i.operator==="+"||i.operator==="-")&&i.type==="MathExpression"){if(r.type===i.left.type)return e=Object.assign({},e),e.left=Ve({type:"MathExpression",operator:a,left:r,right:i.left},t),e.right=i.right,e.operator=a==="-"?Mu(i.operator):i.operator,Ve(e,t);if(r.type===i.right.type)return e=Object.assign({},e),e.left=Ve({type:"MathExpression",operator:a==="-"?Mu(i.operator):i.operator,left:r,right:i.right},t),e.right=i.left,Ve(e,t)}if(r.type==="MathExpression"&&(r.operator==="+"||r.operator==="-")&&Ze(i.type)){if(i.type===r.left.type)return e=Object.assign({},r),e.left=Ve({type:"MathExpression",operator:a,left:r.left,right:i},t),Ve(e,t);if(i.type===r.right.type)return e=Object.assign({},r),r.operator==="-"?(e.right=Ve({type:"MathExpression",operator:a==="-"?"+":"-",left:i,right:r.right},t),e.operator=a==="-"?"-":"+"):e.right=Ve({type:"MathExpression",operator:a,left:r.right,right:i},t),e.right.value<0&&(e.right.value*=-1,e.operator=e.operator==="-"?"+":"-"),Ve(e,t)}return e}function Gj(e,t){if(!Ze(e.right.type))return e;if(e.right.type!=="Value")throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(e.right.value===0)throw new Error("Cannot divide by zero");return e.left.type==="MathExpression"?Ze(e.left.left.type)&&Ze(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,Ve(e.left,t)):e:Ze(e.left.type)?(e.left.value/=e.right.value,e.left):e}function zj(e){if(e.left.type==="MathExpression"&&e.right.type==="Value"){if(Ze(e.left.left.type)&&Ze(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(Ze(e.left.type)&&e.right.type==="Value")return e.left.value*=e.right.value,e.left;if(e.left.type==="Value"&&e.right.type==="MathExpression"){if(Ze(e.right.left.type)&&Ze(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if(e.left.type==="Value"&&Ze(e.right.type))return e.right.value*=e.left.value,e.right}return e}function qj(e,t){switch(e=Uj(e,t),e.operator){case"+":case"-":return Hj(e,t);case"/":return Gj(e,t);case"*":return zj(e)}return e}ca.default=Ve;var xo={},Vj={get exports(){return xo},set exports(e){xo=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o,s,l){var u=a(s,l);return s.type==="MathExpression"&&(u=o+"("+u+")"),u};var n=ca,r={"*":0,"/":0,"+":1,"-":1};function i(o,s){if(s!==!1){var l=Math.pow(10,s);return Math.round(o*l)/l}return o}function a(o,s){switch(o.type){case"MathExpression":{var l=o.left,u=o.right,f=o.operator,c="";return l.type==="MathExpression"&&r[f]<r[l.operator]?c+="("+a(l,s)+")":c+=a(l,s),c+=" "+o.operator+" ",u.type==="MathExpression"&&r[f]<r[u.operator]?c+="("+a(u,s)+")":(u.type==="MathExpression"&&f==="-"&&["+","-"].includes(u.operator)&&(u.operator=(0,n.flip)(u.operator)),c+=a(u,s)),c}case"Value":return i(o.value,s);case"CssVariable":return o.fallback?"var("+o.value+", "+a(o.fallback,s)+")":"var("+o.value+")";case"Calc":return o.prefix?"-"+o.prefix+"-calc("+a(o.value,s)+")":"calc("+a(o.value,s)+")";default:return i(o.value,s)+o.unit}}e.exports=t.default})(Vj,xo);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Dj,r=u(n),i=w_,a=ca,o=u(a),s=xo,l=u(s);function u(c){return c&&c.__esModule?c:{default:c}}var f=/((?:\-[a-z]+\-)?calc)/;t.default=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return(0,r.default)(c).walk(function(g){if(!(g.type!=="function"||!f.test(g.value))){var v=r.default.stringify(g.nodes);if(!(v.indexOf("constant")>=0||v.indexOf("env")>=0)){var d=i.parser.parse(v),y=(0,o.default)(d,h);g.type="word",g.value=(0,l.default)(g.value,y,h)}}},!0).toString()},e.exports=t.default})(Ij,_o);const El=m0(_o);function Mi(e){return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}function $p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$p(Object(n),!0).forEach(function(r){Kj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$p(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kj(e,t,n){return t=Yj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yj(e){var t=Xj(e,"string");return Mi(t)==="symbol"?t:String(t)}function Xj(e,t){if(Mi(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mp(e){return eL(e)||Zj(e)||Jj(e)||Qj()}function Qj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jj(e,t){if(e){if(typeof e=="string")return Ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ru(e,t)}}function Zj(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eL(e){if(Array.isArray(e))return Ru(e)}function Ru(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yn={widthCache:{},cacheCount:0},tL=2e3,nL={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rL=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],Np="recharts_measurement_span";function iL(e,t){return rL.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}function aL(e){var t=e.split(""),n=t.reduce(function(r,i){return i===i.toUpperCase()?[].concat(Mp(r),["-",i.toLowerCase()]):[].concat(Mp(r),[i])},[]);return n.join("")}var oL=function(t){return Object.keys(t).reduce(function(n,r){return"".concat(n).concat(aL(r),":").concat(iL(r,t[r]),";")},"")},An=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vt.isSsr)return{width:0,height:0};var r="".concat(t),i=oL(n),a="".concat(r,"-").concat(i);if(Yn.widthCache[a])return Yn.widthCache[a];try{var o=document.getElementById(Np);o||(o=document.createElement("span"),o.setAttribute("id",Np),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=kp(kp({},nL),n);Object.keys(s).map(function(f){return o.style[f]=s[f],f}),o.textContent=r;var l=o.getBoundingClientRect(),u={width:l.width,height:l.height};return Yn.widthCache[a]=u,++Yn.cacheCount>tL&&(Yn.cacheCount=0,Yn.widthCache={}),u}catch{return{width:0,height:0}}},sL=function(t){var n=t.ownerDocument.documentElement,r={top:0,left:0};return typeof t.getBoundingClientRect<"u"&&(r=t.getBoundingClientRect()),{top:r.top+window.pageYOffset-n.clientTop,left:r.left+window.pageXOffset-n.clientLeft}},lL=function(t,n){return{chartX:Math.round(t.pageX-n.left),chartY:Math.round(t.pageY-n.top)}},uL=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function xr(e){return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(e)}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Du.apply(this,arguments)}function cL(e,t){if(e==null)return{};var n=fL(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fL(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function hL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O_(r.key),r)}}function dL(e,t,n){return t&&Rp(e.prototype,t),n&&Rp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ju(e,t)}function ju(e,t){return ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ju(e,t)}function vL(e){var t=yL();return function(){var r=wo(e),i;if(t){var a=wo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return gL(this,i)}}function gL(e,t){if(t&&(xr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S_(e)}function S_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wo(e)}function Dp(e,t){return xL(e)||bL(e,t)||_L(e,t)||mL()}function mL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _L(e,t){if(e){if(typeof e=="string")return jp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jp(e,t)}}function jp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bL(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function xL(e){if(Array.isArray(e))return e}function Lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lp(Object(n),!0).forEach(function(r){$f(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $f(e,t,n){return t=O_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O_(e){var t=wL(e,"string");return xr(t)==="symbol"?t:String(t)}function wL(e,t){if(xr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E_=/[ \f\n\r\t\v\u2028\u2029]+/,A_=function(t){try{var n=[];z(t.children)||(t.breakAll?n=t.children.toString().split(""):n=t.children.toString().split(E_));var r=n.map(function(a){return{word:a,width:An(a,t.style).width}}),i=t.breakAll?0:An(" ",t.style).width;return{wordsWithComputedWidth:r,spaceWidth:i}}catch{return null}},SL=function(t,n,r,i,a){var o=F(t.maxLines),s=t.children,l=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce(function(C,P){var M=P.word,I=P.width,R=C[C.length-1];if(R&&(i==null||a||R.width+I+r<i))R.words.push(M),R.width+=I+r;else{var U={words:[M],width:I};C.push(U)}return C},[])},u=l(n),f=function(E){return E.reduce(function(C,P){return C.width>P.width?C:P})};if(!o)return u;for(var c="…",h=function(E){var C=s.slice(0,E),P=A_(Fp(Fp({},t),{},{children:C+c})).wordsWithComputedWidth,M=l(P),I=M.length>t.maxLines||f(M).width>i;return[I,M]},g=0,v=s.length-1,d=0,y;g<=v&&d<=s.length-1;){var m=Math.floor((g+v)/2),b=m-1,p=h(b),_=Dp(p,2),w=_[0],x=_[1],S=h(m),O=Dp(S,1),A=O[0];if(!w&&!A&&(g=m+1),w&&A&&(v=m-1),!w&&A){y=x;break}d++}return y||u},Bp=function(t){var n=z(t)?[]:t.toString().split(E_);return[{words:n}]},OL=function(t,n){if((t.width||t.scaleToFit)&&!Vt.isSsr){var r,i;if(n){var a=A_(t);if(a){var o=a.wordsWithComputedWidth,s=a.spaceWidth;r=o,i=s}else return Bp(t.children);return SL(t,r,i,t.width,t.scaleToFit)}}return Bp(t.children)},Ni=function(e){pL(n,e);var t=vL(n);function n(){var r;hL(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),$f(S_(r),"state",{}),r}return dL(n,[{key:"render",value:function(){var i=this.props,a=i.dx,o=i.dy,s=i.textAnchor,l=i.verticalAnchor,u=i.scaleToFit,f=i.angle,c=i.lineHeight,h=i.capHeight,g=i.className,v=i.breakAll,d=cL(i,uL),y=this.state.wordsByLines;if(!ke(d.x)||!ke(d.y))return null;var m=d.x+(F(a)?a:0),b=d.y+(F(o)?o:0),p;switch(l){case"start":p=El("calc(".concat(h,")"));break;case"middle":p=El("calc(".concat((y.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:p=El("calc(".concat(y.length-1," * -").concat(c,")"));break}var _=[];if(u){var w=y[0].width,x=this.props.width;_.push("scale(".concat((F(x)?x/w:1)/w,")"))}return f&&_.push("rotate(".concat(f,", ").concat(m,", ").concat(b,")")),_.length&&(d.transform=_.join(" ")),T.createElement("text",Du({},se(d,!0),{x:m,y:b,className:ge("recharts-text",g),textAnchor:s,fill:d.fill.includes("url")?n.defaultProps.fill:d.fill}),y.map(function(S,O){return T.createElement("tspan",{x:m,dy:O===0?p:c,key:O},S.words.join(v?"":" "))}))}}],[{key:"getDerivedStateFromProps",value:function(i,a){if(i.width!==a.prevWidth||i.scaleToFit!==a.prevScaleToFit||i.children!==a.prevChildren||i.style!==a.prevStyle||i.breakAll!==a.prevBreakAll){var o=i.children!==a.prevChildren||i.style!==a.prevStyle||i.breakAll!==a.prevBreakAll;return{prevWidth:i.width,prevScaleToFit:i.scaleToFit,prevChildren:i.children,prevStyle:i.style,wordsByLines:OL(i,o)}}return null}}]),n}(B.Component);$f(Ni,"defaultProps",{x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"});var EL=_f;function AL(e,t){return EL(e,t)}var kf=AL,TL=Wr;function CL(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(s===void 0?o===o&&!TL(o):n(o,s)))var s=o,l=a}return l}var T_=CL;function PL(e,t){return e>t}var IL=PL,$L=T_,kL=IL,ML=Vr;function NL(e){return e&&e.length?$L(e,ML,kL):void 0}var Ns=NL;function RL(e,t){return e<t}var DL=RL,jL=T_,LL=DL,FL=Vr;function BL(e){return e&&e.length?jL(e,FL,LL):void 0}var Rs=BL,WL=lf,UL=mn,HL=l_,GL=ce;function zL(e,t){var n=GL(e)?WL:HL;return n(e,UL(t))}var qL=zL,VL=o_,KL=qL;function YL(e,t){return VL(KL(e,t),1)}var XL=YL;function fn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mf(e){let t,n,r;e.length!==2?(t=fn,n=(s,l)=>fn(e(s),l),r=(s,l)=>e(s)-l):(t=e===fn||e===QL?e:JL,n=e,r=e);function i(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<0?u=c+1:f=c}while(u<f)}return u}function a(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function o(s,l,u=0,f=s.length){const c=i(s,l,u,f-1);return c>u&&r(s[c-1],l)>-r(s[c],l)?c-1:c}return{left:i,center:o,right:a}}function JL(){return 0}function C_(e){return e===null?NaN:+e}function*ZL(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const eF=Mf(fn),tF=eF.right;Mf(C_).center;const fa=tF;class Wp extends Map{constructor(t,n=iF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Up(this,t))}has(t){return super.has(Up(this,t))}set(t,n){return super.set(nF(this,t),n)}delete(t){return super.delete(rF(this,t))}}function Up({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function nF({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function rF({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function iF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function aF(e=fn){if(e===fn)return P_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function P_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const oF=Math.sqrt(50),sF=Math.sqrt(10),lF=Math.sqrt(2);function So(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=oF?10:a>=sF?5:a>=lF?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?So(e,t,n*2):[s,l,u]}function Lu(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?So(t,e,n):So(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Fu(e,t,n){return t=+t,e=+e,n=+n,So(e,t,n)[2]}function Bu(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Fu(t,e,n):Fu(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Hp(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Gp(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function I_(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?P_:aF(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(t-u*c/l+h)),v=Math.min(r,Math.floor(t+(l-u)*c/l+h));I_(e,t,g,v,i)}const a=e[t];let o=n,s=r;for(li(e,n,t),i(e[r],a)>0&&li(e,n,r);o<s;){for(li(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?li(e,n,s):(++s,li(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function li(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function uF(e,t,n){if(e=Float64Array.from(ZL(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Gp(e);if(t>=1)return Hp(e);var r,i=(r-1)*t,a=Math.floor(i),o=Hp(I_(e,a).subarray(0,a+1)),s=Gp(e.subarray(a+1));return o+(s-o)*(i-a)}}function cF(e,t,n=C_){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function fF(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function xt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Wu=Symbol("implicit");function Nf(){var e=new Wp,t=[],n=[],r=Wu;function i(a){let o=e.get(a);if(o===void 0){if(r!==Wu)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Wp;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Nf(t,n).unknown(r)},xt.apply(i,arguments),i}function Ri(){var e=Nf().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,u=0,f=.5;delete e.unknown;function c(){var h=t().length,g=i<r,v=g?i:r,d=g?r:i;a=(d-v)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),v+=(d-v-a*(h-l))*f,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var y=fF(h).map(function(m){return v+a*m});return n(g?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),c()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,c()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},e.copy=function(){return Ri(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},xt.apply(c(),arguments)}function $_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $_(t())},e}function xi(){return $_(Ri.apply(null,arguments).paddingInner(1))}function Rf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function k_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ha(){}var Di=.7,Oo=1/Di,or="\\s*([+-]?\\d+)\\s*",ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hF=/^#([0-9a-f]{3,8})$/,dF=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),pF=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),vF=new RegExp(`^rgba\\(${or},${or},${or},${ji}\\)$`),gF=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${ji}\\)$`),yF=new RegExp(`^hsl\\(${ji},${Rt},${Rt}\\)$`),mF=new RegExp(`^hsla\\(${ji},${Rt},${Rt},${ji}\\)$`),zp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rf(ha,Li,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qp,formatHex:qp,formatHex8:_F,formatHsl:bF,formatRgb:Vp,toString:Vp});function qp(){return this.rgb().formatHex()}function _F(){return this.rgb().formatHex8()}function bF(){return M_(this).formatHsl()}function Vp(){return this.rgb().formatRgb()}function Li(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=hF.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Kp(t):n===3?new tt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ia(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ia(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dF.exec(e))?new tt(t[1],t[2],t[3],1):(t=pF.exec(e))?new tt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vF.exec(e))?Ia(t[1],t[2],t[3],t[4]):(t=gF.exec(e))?Ia(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yF.exec(e))?Qp(t[1],t[2]/100,t[3]/100,1):(t=mF.exec(e))?Qp(t[1],t[2]/100,t[3]/100,t[4]):zp.hasOwnProperty(e)?Kp(zp[e]):e==="transparent"?new tt(NaN,NaN,NaN,0):null}function Kp(e){return new tt(e>>16&255,e>>8&255,e&255,1)}function Ia(e,t,n,r){return r<=0&&(e=t=n=NaN),new tt(e,t,n,r)}function xF(e){return e instanceof ha||(e=Li(e)),e?(e=e.rgb(),new tt(e.r,e.g,e.b,e.opacity)):new tt}function Uu(e,t,n,r){return arguments.length===1?xF(e):new tt(e,t,n,r??1)}function tt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Rf(tt,Uu,k_(ha,{brighter(e){return e=e==null?Oo:Math.pow(Oo,e),new tt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Di:Math.pow(Di,e),new tt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tt(Dn(this.r),Dn(this.g),Dn(this.b),Eo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yp,formatHex:Yp,formatHex8:wF,formatRgb:Xp,toString:Xp}));function Yp(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}`}function wF(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}${Mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xp(){const e=Eo(this.opacity);return`${e===1?"rgb(":"rgba("}${Dn(this.r)}, ${Dn(this.g)}, ${Dn(this.b)}${e===1?")":`, ${e})`}`}function Eo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mn(e){return e=Dn(e),(e<16?"0":"")+e.toString(16)}function Qp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Tt(e,t,n,r)}function M_(e){if(e instanceof Tt)return new Tt(e.h,e.s,e.l,e.opacity);if(e instanceof ha||(e=Li(e)),!e)return new Tt;if(e instanceof Tt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Tt(o,s,l,e.opacity)}function SF(e,t,n,r){return arguments.length===1?M_(e):new Tt(e,t,n,r??1)}function Tt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Rf(Tt,SF,k_(ha,{brighter(e){return e=e==null?Oo:Math.pow(Oo,e),new Tt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Di:Math.pow(Di,e),new Tt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new tt(Al(e>=240?e-240:e+120,i,r),Al(e,i,r),Al(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Tt(Jp(this.h),$a(this.s),$a(this.l),Eo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Eo(this.opacity);return`${e===1?"hsl(":"hsla("}${Jp(this.h)}, ${$a(this.s)*100}%, ${$a(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Jp(e){return e=(e||0)%360,e<0?e+360:e}function $a(e){return Math.max(0,Math.min(1,e||0))}function Al(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Df=e=>()=>e;function OF(e,t){return function(n){return e+n*t}}function EF(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function AF(e){return(e=+e)==1?N_:function(t,n){return n-t?EF(t,n,e):Df(isNaN(t)?n:t)}}function N_(e,t){var n=t-e;return n?OF(e,n):Df(isNaN(e)?t:e)}const Zp=function e(t){var n=AF(t);function r(i,a){var o=n((i=Uu(i)).r,(a=Uu(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=N_(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function TF(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function CF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function PF(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Kr(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function IF(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ao(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $F(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Kr(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Hu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tl=new RegExp(Hu.source,"g");function kF(e){return function(){return e}}function MF(e){return function(t){return e(t)+""}}function NF(e,t){var n=Hu.lastIndex=Tl.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Hu.exec(e))&&(i=Tl.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Ao(r,i)})),n=Tl.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?MF(l[0].x):kF(t):(t=l.length,function(u){for(var f=0,c;f<t;++f)s[(c=l[f]).i]=c.x(u);return s.join("")})}function Kr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Df(t):(n==="number"?Ao:n==="string"?(r=Li(t))?(t=r,Zp):NF:t instanceof Li?Zp:t instanceof Date?IF:CF(t)?TF:Array.isArray(t)?PF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$F:Ao)(e,t)}function jf(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function RF(e,t){t===void 0&&(t=e,e=Kr);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function DF(e){return function(){return e}}function To(e){return+e}var ev=[0,1];function Je(e){return e}function Gu(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:DF(isNaN(t)?NaN:.5)}function jF(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function LF(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Gu(i,r),a=n(o,a)):(r=Gu(r,i),a=n(a,o)),function(s){return a(r(s))}}function FF(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Gu(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=fa(e,s,1,r)-1;return a[l](i[l](s))}}function da(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ds(){var e=ev,t=ev,n=Kr,r,i,a,o=Je,s,l,u;function f(){var h=Math.min(e.length,t.length);return o!==Je&&(o=jF(e[0],e[h-1])),s=h>2?FF:LF,l=u=null,c}function c(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(r),t,n)))(r(o(h)))}return c.invert=function(h){return o(i((u||(u=s(t,e.map(r),Ao)))(h)))},c.domain=function(h){return arguments.length?(e=Array.from(h,To),f()):e.slice()},c.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},c.rangeRound=function(h){return t=Array.from(h),n=jf,f()},c.clamp=function(h){return arguments.length?(o=h?!0:Je,f()):o!==Je},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(a=h,c):a},function(h,g){return r=h,i=g,f()}}function Lf(){return Ds()(Je,Je)}function BF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Co(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function wr(e){return e=Co(Math.abs(e)),e?e[1]:NaN}function WF(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function UF(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var HF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fi(e){if(!(t=HF.exec(e)))throw new Error("invalid format: "+e);var t;return new Ff({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fi.prototype=Ff.prototype;function Ff(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ff.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GF(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var R_;function zF(e,t){var n=Co(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(R_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Co(e,Math.max(0,t+a-1))[0]}function tv(e,t){var n=Co(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nv={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:BF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tv(e*100,t),r:tv,s:zF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rv(e){return e}var iv=Array.prototype.map,av=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function qF(e){var t=e.grouping===void 0||e.thousands===void 0?rv:WF(iv.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?rv:UF(iv.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(c){c=Fi(c);var h=c.fill,g=c.align,v=c.sign,d=c.symbol,y=c.zero,m=c.width,b=c.comma,p=c.precision,_=c.trim,w=c.type;w==="n"?(b=!0,w="g"):nv[w]||(p===void 0&&(p=12),_=!0,w="g"),(y||h==="0"&&g==="=")&&(y=!0,h="0",g="=");var x=d==="$"?n:d==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=d==="$"?r:/[%p]/.test(w)?o:"",O=nv[w],A=/[defgprs%]/.test(w);p=p===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function $(E){var C=x,P=S,M,I,R;if(w==="c")P=O(E)+P,E="";else{E=+E;var U=E<0||1/E<0;if(E=isNaN(E)?l:O(Math.abs(E),p),_&&(E=GF(E)),U&&+E==0&&v!=="+"&&(U=!1),C=(U?v==="("?v:s:v==="-"||v==="("?"":v)+C,P=(w==="s"?av[8+R_/3]:"")+P+(U&&v==="("?")":""),A){for(M=-1,I=E.length;++M<I;)if(R=E.charCodeAt(M),48>R||R>57){P=(R===46?i+E.slice(M+1):E.slice(M))+P,E=E.slice(0,M);break}}}b&&!y&&(E=t(E,1/0));var D=C.length+E.length+P.length,W=D<m?new Array(m-D+1).join(h):"";switch(b&&y&&(E=t(W+E,W.length?m-P.length:1/0),W=""),g){case"<":E=C+E+P+W;break;case"=":E=C+W+E+P;break;case"^":E=W.slice(0,D=W.length>>1)+C+E+P+W.slice(D);break;default:E=W+C+E+P;break}return a(E)}return $.toString=function(){return c+""},$}function f(c,h){var g=u((c=Fi(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(wr(h)/3)))*3,d=Math.pow(10,-v),y=av[8+v/3];return function(m){return g(d*m)+y}}return{format:u,formatPrefix:f}}var ka,Bf,D_;VF({thousands:",",grouping:[3],currency:["$",""]});function VF(e){return ka=qF(e),Bf=ka.format,D_=ka.formatPrefix,ka}function KF(e){return Math.max(0,-wr(Math.abs(e)))}function YF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wr(t)/3)))*3-wr(Math.abs(e)))}function XF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wr(t)-wr(e))+1}function j_(e,t,n,r){var i=Bu(e,t,n),a;switch(r=Fi(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=YF(i,o))&&(r.precision=a),D_(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=XF(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=KF(i))&&(r.precision=a-(r.type==="%")*2);break}}return Bf(r)}function _n(e){var t=e.domain;return e.ticks=function(n){var r=t();return Lu(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return j_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=Fu(o,s,n),u===l)return r[i]=o,r[a]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function Po(){var e=Lf();return e.copy=function(){return da(e,Po())},xt.apply(e,arguments),_n(e)}function L_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,To),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return L_(e).unknown(t)},e=arguments.length?Array.from(e,To):[0,1],_n(n)}function F_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function ov(e){return Math.log(e)}function sv(e){return Math.exp(e)}function QF(e){return-Math.log(-e)}function JF(e){return-Math.exp(-e)}function ZF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eB(e){return e===10?ZF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function lv(e){return(t,n)=>-e(-t,n)}function Wf(e){const t=e(ov,sv),n=t.domain;let r=10,i,a;function o(){return i=tB(r),a=eB(r),n()[0]<0?(i=lv(i),a=lv(a),e(QF,JF)):e(ov,sv),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let h=i(u),g=i(f),v,d;const y=s==null?10:+s;let m=[];if(!(r%1)&&g-h<y){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(d=h<0?v/a(-h):v*a(h),!(d<u)){if(d>f)break;m.push(d)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(d=h>0?v/a(-h):v*a(h),!(d<u)){if(d>f)break;m.push(d)}m.length*2<y&&(m=Lu(u,f,y))}else m=Lu(h,g,Math.min(g-h,y)).map(a);return c?m.reverse():m},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Fi(l)).precision==null&&(l.trim=!0),l=Bf(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return f=>{let c=f/a(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},t.nice=()=>n(F_(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function B_(){const e=Wf(Ds()).domain([1,10]);return e.copy=()=>da(e,B_()).base(e.base()),xt.apply(e,arguments),e}function uv(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Uf(e){var t=1,n=e(uv(t),cv(t));return n.constant=function(r){return arguments.length?e(uv(t=+r),cv(t)):t},_n(n)}function W_(){var e=Uf(Ds());return e.copy=function(){return da(e,W_()).constant(e.constant())},xt.apply(e,arguments)}function fv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rB(e){return e<0?-e*e:e*e}function Hf(e){var t=e(Je,Je),n=1;function r(){return n===1?e(Je,Je):n===.5?e(nB,rB):e(fv(n),fv(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},_n(t)}function Gf(){var e=Hf(Ds());return e.copy=function(){return da(e,Gf()).exponent(e.exponent())},xt.apply(e,arguments),e}function iB(){return Gf.apply(null,arguments).exponent(.5)}function hv(e){return Math.sign(e)*e*e}function aB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function U_(){var e=Lf(),t=[0,1],n=!1,r;function i(a){var o=aB(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(hv(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,To)).map(hv)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return U_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},xt.apply(i,arguments),_n(i)}function H_(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=cF(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[fa(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(fn),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return H_().domain(e).range(t).unknown(r)},xt.apply(a,arguments)}function G_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[fa(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return G_().domain([e,t]).range(i).unknown(a)},xt.apply(_n(o),arguments)}function z_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[fa(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return z_().domain(e).range(t).unknown(n)},xt.apply(i,arguments)}const Cl=new Date,Pl=new Date;function Me(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>Me(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Cl.setTime(+a),Pl.setTime(+o),e(Cl),e(Pl),Math.floor(n(Cl,Pl))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Io=Me(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Io.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Me(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Io);Io.range;const Gt=1e3,mt=Gt*60,zt=mt*60,Qt=zt*24,zf=Qt*7,dv=Qt*30,Il=Qt*365,Nn=Me(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gt)},(e,t)=>(t-e)/Gt,e=>e.getUTCSeconds());Nn.range;const qf=Me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gt)},(e,t)=>{e.setTime(+e+t*mt)},(e,t)=>(t-e)/mt,e=>e.getMinutes());qf.range;const Vf=Me(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mt)},(e,t)=>(t-e)/mt,e=>e.getUTCMinutes());Vf.range;const Kf=Me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gt-e.getMinutes()*mt)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getHours());Kf.range;const Yf=Me(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getUTCHours());Yf.range;const pa=Me(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mt)/Qt,e=>e.getDate()-1);pa.range;const js=Me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qt,e=>e.getUTCDate()-1);js.range;const q_=Me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qt,e=>Math.floor(e/Qt));q_.range;function zn(e){return Me(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*mt)/zf)}const Ls=zn(0),$o=zn(1),oB=zn(2),sB=zn(3),Sr=zn(4),lB=zn(5),uB=zn(6);Ls.range;$o.range;oB.range;sB.range;Sr.range;lB.range;uB.range;function qn(e){return Me(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/zf)}const Fs=qn(0),ko=qn(1),cB=qn(2),fB=qn(3),Or=qn(4),hB=qn(5),dB=qn(6);Fs.range;ko.range;cB.range;fB.range;Or.range;hB.range;dB.range;const Xf=Me(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Xf.range;const Qf=Me(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Qf.range;const Jt=Me(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Jt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Me(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Jt.range;const Zt=Me(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Me(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Zt.range;function V_(e,t,n,r,i,a){const o=[[Nn,1,Gt],[Nn,5,5*Gt],[Nn,15,15*Gt],[Nn,30,30*Gt],[a,1,mt],[a,5,5*mt],[a,15,15*mt],[a,30,30*mt],[i,1,zt],[i,3,3*zt],[i,6,6*zt],[i,12,12*zt],[r,1,Qt],[r,2,2*Qt],[n,1,zf],[t,1,dv],[t,3,3*dv],[e,1,Il]];function s(u,f,c){const h=f<u;h&&([u,f]=[f,u]);const g=c&&typeof c.range=="function"?c:l(u,f,c),v=g?g.range(u,+f+1):[];return h?v.reverse():v}function l(u,f,c){const h=Math.abs(f-u)/c,g=Mf(([,,y])=>y).right(o,h);if(g===o.length)return e.every(Bu(u/Il,f/Il,c));if(g===0)return Io.every(Math.max(Bu(u,f,c),1));const[v,d]=o[h/o[g-1][2]<o[g][2]/h?g-1:g];return v.every(d)}return[s,l]}const[pB,vB]=V_(Zt,Qf,Fs,q_,Yf,Vf),[gB,yB]=V_(Jt,Xf,Ls,pa,Kf,qf);function $l(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kl(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ui(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function mB(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=ci(i),f=fi(i),c=ci(a),h=fi(a),g=ci(o),v=fi(o),d=ci(s),y=fi(s),m=ci(l),b=fi(l),p={a:U,A:D,b:W,B:ae,c:null,d:_v,e:_v,f:WB,g:QB,G:ZB,H:LB,I:FB,j:BB,L:K_,m:UB,M:HB,p:Q,q:ne,Q:wv,s:Sv,S:GB,u:zB,U:qB,V:VB,w:KB,W:YB,x:null,X:null,y:XB,Y:JB,Z:e3,"%":xv},_={a:Te,A:be,b:He,B:wt,c:null,d:bv,e:bv,f:i3,g:p3,G:g3,H:t3,I:n3,j:r3,L:X_,m:a3,M:o3,p:Ye,q:ie,Q:wv,s:Sv,S:s3,u:l3,U:u3,V:c3,w:f3,W:h3,x:null,X:null,y:d3,Y:v3,Z:y3,"%":xv},w={a:$,A:E,b:C,B:P,c:M,d:yv,e:yv,f:NB,g:gv,G:vv,H:mv,I:mv,j:IB,L:MB,m:PB,M:$B,p:A,q:CB,Q:DB,s:jB,S:kB,u:SB,U:OB,V:EB,w:wB,W:AB,x:I,X:R,y:gv,Y:vv,Z:TB,"%":RB};p.x=x(n,p),p.X=x(r,p),p.c=x(t,p),_.x=x(n,_),_.X=x(r,_),_.c=x(t,_);function x(j,G){return function(Y){var N=[],fe=-1,re=0,Ee=j.length,Ce,ft,Qr;for(Y instanceof Date||(Y=new Date(+Y));++fe<Ee;)j.charCodeAt(fe)===37&&(N.push(j.slice(re,fe)),(ft=pv[Ce=j.charAt(++fe)])!=null?Ce=j.charAt(++fe):ft=Ce==="e"?" ":"0",(Qr=G[Ce])&&(Ce=Qr(Y,ft)),N.push(Ce),re=fe+1);return N.push(j.slice(re,fe)),N.join("")}}function S(j,G){return function(Y){var N=ui(1900,void 0,1),fe=O(N,j,Y+="",0),re,Ee;if(fe!=Y.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if(G&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(re=kl(ui(N.y,0,1)),Ee=re.getUTCDay(),re=Ee>4||Ee===0?ko.ceil(re):ko(re),re=js.offset(re,(N.V-1)*7),N.y=re.getUTCFullYear(),N.m=re.getUTCMonth(),N.d=re.getUTCDate()+(N.w+6)%7):(re=$l(ui(N.y,0,1)),Ee=re.getDay(),re=Ee>4||Ee===0?$o.ceil(re):$o(re),re=pa.offset(re,(N.V-1)*7),N.y=re.getFullYear(),N.m=re.getMonth(),N.d=re.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),Ee="Z"in N?kl(ui(N.y,0,1)).getUTCDay():$l(ui(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(Ee+5)%7:N.w+N.U*7-(Ee+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,kl(N)):$l(N)}}function O(j,G,Y,N){for(var fe=0,re=G.length,Ee=Y.length,Ce,ft;fe<re;){if(N>=Ee)return-1;if(Ce=G.charCodeAt(fe++),Ce===37){if(Ce=G.charAt(fe++),ft=w[Ce in pv?G.charAt(fe++):Ce],!ft||(N=ft(j,Y,N))<0)return-1}else if(Ce!=Y.charCodeAt(N++))return-1}return N}function A(j,G,Y){var N=u.exec(G.slice(Y));return N?(j.p=f.get(N[0].toLowerCase()),Y+N[0].length):-1}function $(j,G,Y){var N=g.exec(G.slice(Y));return N?(j.w=v.get(N[0].toLowerCase()),Y+N[0].length):-1}function E(j,G,Y){var N=c.exec(G.slice(Y));return N?(j.w=h.get(N[0].toLowerCase()),Y+N[0].length):-1}function C(j,G,Y){var N=m.exec(G.slice(Y));return N?(j.m=b.get(N[0].toLowerCase()),Y+N[0].length):-1}function P(j,G,Y){var N=d.exec(G.slice(Y));return N?(j.m=y.get(N[0].toLowerCase()),Y+N[0].length):-1}function M(j,G,Y){return O(j,t,G,Y)}function I(j,G,Y){return O(j,n,G,Y)}function R(j,G,Y){return O(j,r,G,Y)}function U(j){return o[j.getDay()]}function D(j){return a[j.getDay()]}function W(j){return l[j.getMonth()]}function ae(j){return s[j.getMonth()]}function Q(j){return i[+(j.getHours()>=12)]}function ne(j){return 1+~~(j.getMonth()/3)}function Te(j){return o[j.getUTCDay()]}function be(j){return a[j.getUTCDay()]}function He(j){return l[j.getUTCMonth()]}function wt(j){return s[j.getUTCMonth()]}function Ye(j){return i[+(j.getUTCHours()>=12)]}function ie(j){return 1+~~(j.getUTCMonth()/3)}return{format:function(j){var G=x(j+="",p);return G.toString=function(){return j},G},parse:function(j){var G=S(j+="",!1);return G.toString=function(){return j},G},utcFormat:function(j){var G=x(j+="",_);return G.toString=function(){return j},G},utcParse:function(j){var G=S(j+="",!0);return G.toString=function(){return j},G}}}var pv={"-":"",_:" ",0:"0"},Ue=/^\s*\d+/,_B=/^%/,bB=/[\\^$*+?|[\]().{}]/g;function le(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function xB(e){return e.replace(bB,"\\$&")}function ci(e){return new RegExp("^(?:"+e.map(xB).join("|")+")","i")}function fi(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function wB(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function SB(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function OB(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function EB(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function AB(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function vv(e,t,n){var r=Ue.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function gv(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function TB(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function CB(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function PB(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function yv(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function IB(e,t,n){var r=Ue.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function mv(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function $B(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kB(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function MB(e,t,n){var r=Ue.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function NB(e,t,n){var r=Ue.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function RB(e,t,n){var r=_B.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function DB(e,t,n){var r=Ue.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function jB(e,t,n){var r=Ue.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function _v(e,t){return le(e.getDate(),t,2)}function LB(e,t){return le(e.getHours(),t,2)}function FB(e,t){return le(e.getHours()%12||12,t,2)}function BB(e,t){return le(1+pa.count(Jt(e),e),t,3)}function K_(e,t){return le(e.getMilliseconds(),t,3)}function WB(e,t){return K_(e,t)+"000"}function UB(e,t){return le(e.getMonth()+1,t,2)}function HB(e,t){return le(e.getMinutes(),t,2)}function GB(e,t){return le(e.getSeconds(),t,2)}function zB(e){var t=e.getDay();return t===0?7:t}function qB(e,t){return le(Ls.count(Jt(e)-1,e),t,2)}function Y_(e){var t=e.getDay();return t>=4||t===0?Sr(e):Sr.ceil(e)}function VB(e,t){return e=Y_(e),le(Sr.count(Jt(e),e)+(Jt(e).getDay()===4),t,2)}function KB(e){return e.getDay()}function YB(e,t){return le($o.count(Jt(e)-1,e),t,2)}function XB(e,t){return le(e.getFullYear()%100,t,2)}function QB(e,t){return e=Y_(e),le(e.getFullYear()%100,t,2)}function JB(e,t){return le(e.getFullYear()%1e4,t,4)}function ZB(e,t){var n=e.getDay();return e=n>=4||n===0?Sr(e):Sr.ceil(e),le(e.getFullYear()%1e4,t,4)}function e3(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+le(t/60|0,"0",2)+le(t%60,"0",2)}function bv(e,t){return le(e.getUTCDate(),t,2)}function t3(e,t){return le(e.getUTCHours(),t,2)}function n3(e,t){return le(e.getUTCHours()%12||12,t,2)}function r3(e,t){return le(1+js.count(Zt(e),e),t,3)}function X_(e,t){return le(e.getUTCMilliseconds(),t,3)}function i3(e,t){return X_(e,t)+"000"}function a3(e,t){return le(e.getUTCMonth()+1,t,2)}function o3(e,t){return le(e.getUTCMinutes(),t,2)}function s3(e,t){return le(e.getUTCSeconds(),t,2)}function l3(e){var t=e.getUTCDay();return t===0?7:t}function u3(e,t){return le(Fs.count(Zt(e)-1,e),t,2)}function Q_(e){var t=e.getUTCDay();return t>=4||t===0?Or(e):Or.ceil(e)}function c3(e,t){return e=Q_(e),le(Or.count(Zt(e),e)+(Zt(e).getUTCDay()===4),t,2)}function f3(e){return e.getUTCDay()}function h3(e,t){return le(ko.count(Zt(e)-1,e),t,2)}function d3(e,t){return le(e.getUTCFullYear()%100,t,2)}function p3(e,t){return e=Q_(e),le(e.getUTCFullYear()%100,t,2)}function v3(e,t){return le(e.getUTCFullYear()%1e4,t,4)}function g3(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Or(e):Or.ceil(e),le(e.getUTCFullYear()%1e4,t,4)}function y3(){return"+0000"}function xv(){return"%"}function wv(e){return+e}function Sv(e){return Math.floor(+e/1e3)}var Xn,J_,Z_;m3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function m3(e){return Xn=mB(e),J_=Xn.format,Xn.parse,Z_=Xn.utcFormat,Xn.utcParse,Xn}function _3(e){return new Date(e)}function b3(e){return e instanceof Date?+e:+new Date(+e)}function Jf(e,t,n,r,i,a,o,s,l,u){var f=Lf(),c=f.invert,h=f.domain,g=u(".%L"),v=u(":%S"),d=u("%I:%M"),y=u("%I %p"),m=u("%a %d"),b=u("%b %d"),p=u("%B"),_=u("%Y");function w(x){return(l(x)<x?g:s(x)<x?v:o(x)<x?d:a(x)<x?y:r(x)<x?i(x)<x?m:b:n(x)<x?p:_)(x)}return f.invert=function(x){return new Date(c(x))},f.domain=function(x){return arguments.length?h(Array.from(x,b3)):h().map(_3)},f.ticks=function(x){var S=h();return e(S[0],S[S.length-1],x??10)},f.tickFormat=function(x,S){return S==null?w:u(S)},f.nice=function(x){var S=h();return(!x||typeof x.range!="function")&&(x=t(S[0],S[S.length-1],x??10)),x?h(F_(S,x)):f},f.copy=function(){return da(f,Jf(e,t,n,r,i,a,o,s,l,u))},f}function x3(){return xt.apply(Jf(gB,yB,Jt,Xf,Ls,pa,Kf,qf,Nn,J_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function w3(){return xt.apply(Jf(pB,vB,Zt,Qf,Fs,js,Yf,Vf,Nn,Z_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bs(){var e=0,t=1,n,r,i,a,o=Je,s=!1,l;function u(c){return c==null||isNaN(c=+c)?l:o(i===0?.5:(c=(a(c)-n)*i,s?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([e,t]=c,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(c){return arguments.length?(s=!!c,u):s},u.interpolator=function(c){return arguments.length?(o=c,u):o};function f(c){return function(h){var g,v;return arguments.length?([g,v]=h,o=c(g,v),u):[o(0),o(1)]}}return u.range=f(Kr),u.rangeRound=f(jf),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return a=c,n=c(e),r=c(t),i=n===r?0:1/(r-n),u}}function bn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eb(){var e=_n(Bs()(Je));return e.copy=function(){return bn(e,eb())},nn.apply(e,arguments)}function tb(){var e=Wf(Bs()).domain([1,10]);return e.copy=function(){return bn(e,tb()).base(e.base())},nn.apply(e,arguments)}function nb(){var e=Uf(Bs());return e.copy=function(){return bn(e,nb()).constant(e.constant())},nn.apply(e,arguments)}function Zf(){var e=Hf(Bs());return e.copy=function(){return bn(e,Zf()).exponent(e.exponent())},nn.apply(e,arguments)}function S3(){return Zf.apply(null,arguments).exponent(.5)}function rb(){var e=[],t=Je;function n(r){if(r!=null&&!isNaN(r=+r))return t((fa(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(fn),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>uF(e,a/r))},n.copy=function(){return rb(t).domain(e)},nn.apply(n,arguments)}function Ws(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,u=Je,f,c=!1,h;function g(d){return isNaN(d=+d)?h:(d=.5+((d=+f(d))-a)*(r*d<r*a?s:l),u(c?Math.max(0,Math.min(1,d)):d))}g.domain=function(d){return arguments.length?([e,t,n]=d,i=f(e=+e),a=f(t=+t),o=f(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,g):[e,t,n]},g.clamp=function(d){return arguments.length?(c=!!d,g):c},g.interpolator=function(d){return arguments.length?(u=d,g):u};function v(d){return function(y){var m,b,p;return arguments.length?([m,b,p]=y,u=RF(d,[m,b,p]),g):[u(0),u(.5),u(1)]}}return g.range=v(Kr),g.rangeRound=v(jf),g.unknown=function(d){return arguments.length?(h=d,g):h},function(d){return f=d,i=d(e),a=d(t),o=d(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,g}}function ib(){var e=_n(Ws()(Je));return e.copy=function(){return bn(e,ib())},nn.apply(e,arguments)}function ab(){var e=Wf(Ws()).domain([.1,1,10]);return e.copy=function(){return bn(e,ab()).base(e.base())},nn.apply(e,arguments)}function ob(){var e=Uf(Ws());return e.copy=function(){return bn(e,ob()).constant(e.constant())},nn.apply(e,arguments)}function eh(){var e=Hf(Ws());return e.copy=function(){return bn(e,eh()).exponent(e.exponent())},nn.apply(e,arguments)}function O3(){return eh.apply(null,arguments).exponent(.5)}const Ov=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ri,scaleDiverging:ib,scaleDivergingLog:ab,scaleDivergingPow:eh,scaleDivergingSqrt:O3,scaleDivergingSymlog:ob,scaleIdentity:L_,scaleImplicit:Wu,scaleLinear:Po,scaleLog:B_,scaleOrdinal:Nf,scalePoint:xi,scalePow:Gf,scaleQuantile:H_,scaleQuantize:G_,scaleRadial:U_,scaleSequential:eb,scaleSequentialLog:tb,scaleSequentialPow:Zf,scaleSequentialQuantile:rb,scaleSequentialSqrt:S3,scaleSequentialSymlog:nb,scaleSqrt:iB,scaleSymlog:W_,scaleThreshold:z_,scaleTime:x3,scaleUtc:w3,tickFormat:j_},Symbol.toStringTag,{value:"Module"}));var Yr=1e9,E3={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nh,Oe=!0,bt="[DecimalError] ",jn=bt+"Invalid argument: ",th=bt+"Exponent out of range: ",Xr=Math.floor,On=Math.pow,A3=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ot,je=1e7,Se=7,sb=9007199254740991,Mo=Xr(sb/Se),H={};H.absoluteValue=H.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};H.comparedTo=H.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};H.decimalPlaces=H.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Se;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};H.dividedBy=H.div=function(e){return Kt(this,new this.constructor(e))};H.dividedToIntegerBy=H.idiv=function(e){var t=this,n=t.constructor;return ve(Kt(t,new n(e),0,1),n.precision)};H.equals=H.eq=function(e){return!this.cmp(e)};H.exponent=function(){return Pe(this)};H.greaterThan=H.gt=function(e){return this.cmp(e)>0};H.greaterThanOrEqualTo=H.gte=function(e){return this.cmp(e)>=0};H.isInteger=H.isint=function(){return this.e>this.d.length-2};H.isNegative=H.isneg=function(){return this.s<0};H.isPositive=H.ispos=function(){return this.s>0};H.isZero=function(){return this.s===0};H.lessThan=H.lt=function(e){return this.cmp(e)<0};H.lessThanOrEqualTo=H.lte=function(e){return this.cmp(e)<1};H.logarithm=H.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ot))throw Error(bt+"NaN");if(n.s<1)throw Error(bt+(n.s?"NaN":"-Infinity"));return n.eq(ot)?new r(0):(Oe=!1,t=Kt(Bi(n,a),Bi(e,a),a),Oe=!0,ve(t,i))};H.minus=H.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cb(t,e):lb(t,(e.s=-e.s,e))};H.modulo=H.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(bt+"NaN");return n.s?(Oe=!1,t=Kt(n,e,0,1).times(e),Oe=!0,n.minus(t)):ve(new r(n),i)};H.naturalExponential=H.exp=function(){return ub(this)};H.naturalLogarithm=H.ln=function(){return Bi(this)};H.negated=H.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};H.plus=H.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lb(t,e):cb(t,(e.s=-e.s,e))};H.precision=H.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jn+e);if(t=Pe(i)+1,r=i.d.length-1,n=r*Se+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};H.squareRoot=H.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(bt+"NaN")}for(e=Pe(s),Oe=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Nt(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Xr((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Kt(s,a,o+2)).times(.5),Nt(a.d).slice(0,o)===(t=Nt(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ve(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return Oe=!0,ve(r,n)};H.times=H.mul=function(e){var t,n,r,i,a,o,s,l,u,f=this,c=f.constructor,h=f.d,g=(e=new c(e)).d;if(!f.s||!e.s)return new c(0);for(e.s*=f.s,n=f.e+e.e,l=h.length,u=g.length,l<u&&(a=h,h=g,g=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+g[r]*h[i-r-1]+t,a[i--]=s%je|0,t=s/je|0;a[i]=(a[i]+t)%je|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Oe?ve(e,c.precision):e};H.toDecimalPlaces=H.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Lt(e,0,Yr),t===void 0?t=r.rounding:Lt(t,0,8),ve(n,e+Pe(n)+1,t))};H.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Un(r,!0):(Lt(e,0,Yr),t===void 0?t=i.rounding:Lt(t,0,8),r=ve(new i(r),e+1,t),n=Un(r,!0,e+1)),n};H.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Un(i):(Lt(e,0,Yr),t===void 0?t=a.rounding:Lt(t,0,8),r=ve(new a(i),e+Pe(i)+1,t),n=Un(r.abs(),!1,e+Pe(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};H.toInteger=H.toint=function(){var e=this,t=e.constructor;return ve(new t(e),Pe(e)+1,t.rounding)};H.toNumber=function(){return+this};H.toPower=H.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,u=12,f=+(e=new l(e));if(!e.s)return new l(ot);if(s=new l(s),!s.s){if(e.s<1)throw Error(bt+"Infinity");return s}if(s.eq(ot))return s;if(r=l.precision,e.eq(ot))return ve(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=f<0?-f:f)<=sb){for(i=new l(ot),t=Math.ceil(r/Se+4),Oe=!1;n%2&&(i=i.times(s),Av(i.d,t)),n=Xr(n/2),n!==0;)s=s.times(s),Av(s.d,t);return Oe=!0,e.s<0?new l(ot).div(i):ve(i,r)}}else if(a<0)throw Error(bt+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Oe=!1,i=e.times(Bi(s,r+u)),Oe=!0,i=ub(i),i.s=a,i};H.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Pe(i),r=Un(i,n<=a.toExpNeg||n>=a.toExpPos)):(Lt(e,1,Yr),t===void 0?t=a.rounding:Lt(t,0,8),i=ve(new a(i),e,t),n=Pe(i),r=Un(i,e<=n||n<=a.toExpNeg,e)),r};H.toSignificantDigits=H.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Lt(e,1,Yr),t===void 0?t=r.rounding:Lt(t,0,8)),ve(new r(n),e,t)};H.toString=H.valueOf=H.val=H.toJSON=H[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pe(e),n=e.constructor;return Un(e,t<=n.toExpNeg||t>=n.toExpPos)};function lb(e,t){var n,r,i,a,o,s,l,u,f=e.constructor,c=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Oe?ve(t,c):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(c/Se),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/je|0,l[a]%=je;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Oe?ve(t,c):t}function Lt(e,t,n){if(e!==~~e||e<t||e>n)throw Error(jn+e)}function Nt(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Se-r.length,n&&(a+=on(n)),a+=r;o=e[t],r=o+"",n=Se-r.length,n&&(a+=on(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Kt=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%je|0,o=a/je|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*je+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,f,c,h,g,v,d,y,m,b,p,_,w,x,S,O,A=r.constructor,$=r.s==i.s?1:-1,E=r.d,C=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(bt+"Division by zero");for(l=r.e-i.e,S=C.length,w=E.length,g=new A($),v=g.d=[],u=0;C[u]==(E[u]||0);)++u;if(C[u]>(E[u]||0)&&--l,a==null?b=a=A.precision:o?b=a+(Pe(r)-Pe(i))+1:b=a,b<0)return new A(0);if(b=b/Se+2|0,u=0,S==1)for(f=0,C=C[0],b++;(u<w||f)&&b--;u++)p=f*je+(E[u]||0),v[u]=p/C|0,f=p%C|0;else{for(f=je/(C[0]+1)|0,f>1&&(C=e(C,f),E=e(E,f),S=C.length,w=E.length),_=S,d=E.slice(0,S),y=d.length;y<S;)d[y++]=0;O=C.slice(),O.unshift(0),x=C[0],C[1]>=je/2&&++x;do f=0,s=t(C,d,S,y),s<0?(m=d[0],S!=y&&(m=m*je+(d[1]||0)),f=m/x|0,f>1?(f>=je&&(f=je-1),c=e(C,f),h=c.length,y=d.length,s=t(c,d,h,y),s==1&&(f--,n(c,S<h?O:C,h))):(f==0&&(s=f=1),c=C.slice()),h=c.length,h<y&&c.unshift(0),n(d,c,y),s==-1&&(y=d.length,s=t(C,d,S,y),s<1&&(f++,n(d,S<y?O:C,y))),y=d.length):s===0&&(f++,d=[0]),v[u++]=f,s&&d[0]?d[y++]=E[_]||0:(d=[E[_]],y=1);while((_++<w||d[0]!==void 0)&&b--)}return v[0]||v.shift(),g.e=l,ve(g,o?a+Pe(g)+1:a)}}();function ub(e,t){var n,r,i,a,o,s,l=0,u=0,f=e.constructor,c=f.precision;if(Pe(e)>16)throw Error(th+Pe(e));if(!e.s)return new f(ot);for(t==null?(Oe=!1,s=c):s=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(On(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new f(ot),f.precision=s;;){if(i=ve(i.times(e),s),n=n.times(++l),o=a.plus(Kt(i,n,s)),Nt(o.d).slice(0,s)===Nt(a.d).slice(0,s)){for(;u--;)a=ve(a.times(a),s);return f.precision=c,t==null?(Oe=!0,ve(a,c)):a}a=o}}function Pe(e){for(var t=e.e*Se,n=e.d[0];n>=10;n/=10)t++;return t}function Ml(e,t,n){if(t>e.LN10.sd())throw Oe=!0,n&&(e.precision=n),Error(bt+"LN10 precision limit exceeded");return ve(new e(e.LN10),t)}function on(e){for(var t="";e--;)t+="0";return t}function Bi(e,t){var n,r,i,a,o,s,l,u,f,c=1,h=10,g=e,v=g.d,d=g.constructor,y=d.precision;if(g.s<1)throw Error(bt+(g.s?"NaN":"-Infinity"));if(g.eq(ot))return new d(0);if(t==null?(Oe=!1,u=y):u=t,g.eq(10))return t==null&&(Oe=!0),Ml(d,u);if(u+=h,d.precision=u,n=Nt(v),r=n.charAt(0),a=Pe(g),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=Nt(g.d),r=n.charAt(0),c++;a=Pe(g),r>1?(g=new d("0."+n),a++):g=new d(r+"."+n.slice(1))}else return l=Ml(d,u+2,y).times(a+""),g=Bi(new d(r+"."+n.slice(1)),u-h).plus(l),d.precision=y,t==null?(Oe=!0,ve(g,y)):g;for(s=o=g=Kt(g.minus(ot),g.plus(ot),u),f=ve(g.times(g),u),i=3;;){if(o=ve(o.times(f),u),l=s.plus(Kt(o,new d(i),u)),Nt(l.d).slice(0,u)===Nt(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Ml(d,u+2,y).times(a+""))),s=Kt(s,new d(c),u),d.precision=y,t==null?(Oe=!0,ve(s,y)):s;s=l,i+=2}}function Ev(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Xr(n/Se),e.d=[],r=(n+1)%Se,n<0&&(r+=Se),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Se;r<i;)e.d.push(+t.slice(r,r+=Se));t=t.slice(r),r=Se-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Oe&&(e.e>Mo||e.e<-Mo))throw Error(th+n)}else e.s=0,e.e=0,e.d=[0];return e}function ve(e,t,n){var r,i,a,o,s,l,u,f,c=e.d;for(o=1,a=c[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Se,i=t,u=c[f=0];else{if(f=Math.ceil((r+1)/Se),a=c.length,f>=a)return e;for(u=a=c[f],o=1;a>=10;a/=10)o++;r%=Se,i=r-Se+o}if(n!==void 0&&(a=On(10,o-i-1),s=u/a%10|0,l=t<0||c[f+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/On(10,o-i):0:c[f-1])%10&1||n==(e.s<0?8:7))),t<1||!c[0])return l?(a=Pe(e),c.length=1,t=t-a-1,c[0]=On(10,(Se-t%Se)%Se),e.e=Xr(-t/Se)||0):(c.length=1,c[0]=e.e=e.s=0),e;if(r==0?(c.length=f,a=1,f--):(c.length=f+1,a=On(10,Se-r),c[f]=i>0?(u/On(10,o-i)%On(10,i)|0)*a:0),l)for(;;)if(f==0){(c[0]+=a)==je&&(c[0]=1,++e.e);break}else{if(c[f]+=a,c[f]!=je)break;c[f--]=0,a=1}for(r=c.length;c[--r]===0;)c.pop();if(Oe&&(e.e>Mo||e.e<-Mo))throw Error(th+Pe(e));return e}function cb(e,t){var n,r,i,a,o,s,l,u,f,c,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Oe?ve(t,g):t;if(l=e.d,c=t.d,r=t.e,u=e.e,l=l.slice(),o=u-r,o){for(f=o<0,f?(n=l,o=-o,s=c.length):(n=c,r=u,s=l.length),i=Math.max(Math.ceil(g/Se),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=c.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=c[i]){f=l[i]<c[i];break}o=0}for(f&&(n=l,l=c,c=n,t.s=-t.s),s=l.length,i=c.length-s;i>0;--i)l[s++]=0;for(i=c.length;i>o;){if(l[--i]<c[i]){for(a=i;a&&l[--a]===0;)l[a]=je-1;--l[a],l[i]+=je}l[i]-=c[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Oe?ve(t,g):t):new h(0)}function Un(e,t,n){var r,i=Pe(e),a=Nt(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+on(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+on(-i-1)+a,n&&(r=n-o)>0&&(a+=on(r))):i>=o?(a+=on(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+on(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=on(r))),e.s<0?"-"+a:a}function Av(e,t){if(e.length>t)return e.length=t,!0}function fb(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(jn+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Ev(o,a.toString())}else if(typeof a!="string")throw Error(jn+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,A3.test(a))Ev(o,a);else throw Error(jn+a)}if(i.prototype=H,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fb,i.config=i.set=T3,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function T3(e){if(!e||typeof e!="object")throw Error(bt+"Object expected");var t,n,r,i=["precision",1,Yr,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Xr(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(jn+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(jn+n+": "+r);return this}var nh=fb(E3);ot=new nh(1);const pe=nh;function C3(e){return k3(e)||$3(e)||I3(e)||P3()}function P3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3(e,t){if(e){if(typeof e=="string")return zu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zu(e,t)}}function $3(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function k3(e){if(Array.isArray(e))return zu(e)}function zu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M3=function(t){return t},hb={"@@functional/placeholder":!0},db=function(t){return t===hb},Tv=function(t){return function n(){return arguments.length===0||arguments.length===1&&db(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},N3=function e(t,n){return t===1?n:Tv(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==hb}).length;return o>=t?n.apply(void 0,i):e(t-o,Tv(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(c){return db(c)?l.shift():c});return n.apply(void 0,C3(f).concat(l))}))})},Us=function(t){return N3(t.length,t)},qu=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},R3=Us(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),D3=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return M3;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Vu=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},pb=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=t.apply(void 0,a)),r}};function j3(e){var t;return e===0?t=1:t=Math.floor(new pe(e).abs().log(10).toNumber())+1,t}function L3(e,t,n){for(var r=new pe(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var F3=Us(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),B3=Us(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),W3=Us(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Hs={rangeStep:L3,getDigitCount:j3,interpolateNumber:F3,uninterpolateNumber:B3,uninterpolateTruncation:W3};function Ku(e){return G3(e)||H3(e)||vb(e)||U3()}function U3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H3(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function G3(e){if(Array.isArray(e))return Yu(e)}function Wi(e,t){return V3(e)||q3(e,t)||vb(e,t)||z3()}function z3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vb(e,t){if(e){if(typeof e=="string")return Yu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yu(e,t)}}function Yu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q3(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function V3(e){if(Array.isArray(e))return e}function gb(e){var t=Wi(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function yb(e,t,n){if(e.lte(0))return new pe(0);var r=Hs.getDigitCount(e.toNumber()),i=new pe(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new pe(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return t?l:new pe(Math.ceil(l))}function K3(e,t,n){var r=1,i=new pe(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new pe(10).pow(Hs.getDigitCount(e)-1),i=new pe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new pe(Math.floor(e)))}else e===0?i=new pe(Math.floor((t-1)/2)):n||(i=new pe(Math.floor(e)));var o=Math.floor((t-1)/2),s=D3(R3(function(l){return i.add(new pe(l-o).mul(r)).toNumber()}),qu);return s(0,t)}function mb(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new pe(0),tickMin:new pe(0),tickMax:new pe(0)};var a=yb(new pe(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new pe(0):(o=new pe(e).add(t).div(2),o=o.sub(new pe(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new pe(t).sub(o).div(a).toNumber()),u=s+l+1;return u>n?mb(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new pe(s).mul(a)),tickMax:o.add(new pe(l).mul(a))})}function Y3(e){var t=Wi(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=gb([n,r]),l=Wi(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var c=f===1/0?[u].concat(Ku(qu(0,i-1).map(function(){return 1/0}))):[].concat(Ku(qu(0,i-1).map(function(){return-1/0})),[f]);return n>r?Vu(c):c}if(u===f)return K3(u,i,a);var h=mb(u,f,o,a),g=h.step,v=h.tickMin,d=h.tickMax,y=Hs.rangeStep(v,d.add(new pe(.1).mul(g)),g);return n>r?Vu(y):y}function X3(e,t){var n=Wi(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=gb([r,i]),s=Wi(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(t,2),c=yb(new pe(u).sub(l).div(f-1),a,0),h=[].concat(Ku(Hs.rangeStep(new pe(l),new pe(u).sub(new pe(.99).mul(c)),c)),[u]);return r>i?Vu(h):h}var Q3=pb(Y3),J3=pb(X3),Z3=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No.apply(this,arguments)}function eW(e,t){return iW(e)||rW(e,t)||nW(e,t)||tW()}function tW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nW(e,t){if(e){if(typeof e=="string")return Cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cv(e,t)}}function Cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function iW(e){if(Array.isArray(e))return e}function aW(e,t){if(e==null)return{};var n=oW(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oW(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function va(e){var t=e.offset,n=e.layout,r=e.width,i=e.dataKey,a=e.data,o=e.dataPointFormatter,s=e.xAxis,l=e.yAxis,u=aW(e,Z3),f=se(u),c=a.map(function(h,g){var v=o(h,i),d=v.x,y=v.y,m=v.value,b=v.errorVal;if(!b)return null;var p=[],_,w;if(Array.isArray(b)){var x=eW(b,2);_=x[0],w=x[1]}else _=w=b;if(n==="vertical"){var S=s.scale,O=y+t,A=O+r,$=O-r,E=S(m-_),C=S(m+w);p.push({x1:C,y1:A,x2:C,y2:$}),p.push({x1:E,y1:O,x2:C,y2:O}),p.push({x1:E,y1:A,x2:E,y2:$})}else if(n==="horizontal"){var P=l.scale,M=d+t,I=M-r,R=M+r,U=P(m-_),D=P(m+w);p.push({x1:I,y1:D,x2:R,y2:D}),p.push({x1:M,y1:U,x2:M,y2:D}),p.push({x1:I,y1:U,x2:R,y2:U})}return T.createElement(Be,No({className:"recharts-errorBar",key:"bar-".concat(g)},f),p.map(function(W,ae){return T.createElement("line",No({},W,{key:"line-".concat(ae)}))}))});return T.createElement(Be,{className:"recharts-errorBars"},c)}va.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};va.displayName="ErrorBar";function Ui(e){return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function Pv(e){return cW(e)||uW(e)||lW(e)||sW()}function sW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lW(e,t){if(e){if(typeof e=="string")return Xu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xu(e,t)}}function uW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cW(e){if(Array.isArray(e))return Xu(e)}function Xu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iv(Object(n),!0).forEach(function(r){sr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sr(e,t,n){return t=fW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fW(e){var t=hW(e,"string");return Ui(t)==="symbol"?t:String(t)}function hW(e,t){if(Ui(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ui(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lt(e,t,n){return z(e)||z(t)?n:ke(t)?st(e,t,n):K(t)?t(e):n}function Ro(e,t,n,r){var i=XL(e,function(s){return lt(s,t)});if(n==="number"){var a=i.filter(function(s){return F(s)||parseFloat(s)});return a.length?[Rs(a),Ns(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!z(s)}):i;return o.map(function(s){return ke(s)||s instanceof Date?s:""})}var dW=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,c=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(yt(c-f)!==yt(h-c)){var v=[];if(yt(h-c)===yt(l[1]-l[0])){g=h;var d=c+l[1]-l[0];v[0]=Math.min(d,(d+f)/2),v[1]=Math.max(d,(d+f)/2)}else{g=f;var y=h+l[1]-l[0];v[0]=Math.min(c,(y+c)/2),v[1]=Math.max(c,(y+c)/2)}var m=[Math.min(c,(g+c)/2),Math.max(c,(g+c)/2)];if(t>m[0]&&t<=m[1]||t>=v[0]&&t<=v[1]){o=i[u].index;break}}else{var b=Math.min(f,h),p=Math.max(f,h);if(t>(b+c)/2&&t<=(p+c)/2){o=i[u].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<s-1&&t>(r[_].coordinate+r[_-1].coordinate)/2&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_===s-1&&t>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},rh=function(t){var n=t,r=n.type.displayName,i=t.props,a=i.stroke,o=i.fill,s;switch(r){case"Line":s=a;break;case"Area":case"Radar":s=a&&a!=="none"?a:o;break;default:s=o;break}return s},_b=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Ht(n,yr);if(!o)return null;var s;return o.props&&o.props.payload?s=o.props&&o.props.payload:a==="children"?s=(r||[]).reduce(function(l,u){var f=u.item,c=u.props,h=c.sectors||c.data||[];return l.concat(h.map(function(g){return{type:o.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):s=(r||[]).map(function(l){var u=l.item,f=u.props,c=f.dataKey,h=f.name,g=f.legendType,v=f.hide;return{inactive:v,dataKey:c,type:o.props.iconType||g||"square",color:rh(u),value:h||c,payload:u.props}}),Xe(Xe(Xe({},o.props),yr.getWithHeight(o,i)),{},{payload:s,item:o})},pW=function(t){var n=t.barSize,r=t.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var a={},o=Object.keys(i),s=0,l=o.length;s<l;s++)for(var u=i[o[s]].stackGroups,f=Object.keys(u),c=0,h=f.length;c<h;c++){var g=u[f[c]],v=g.items,d=g.cateAxisId,y=v.filter(function(p){return cn(p.type).indexOf("Bar")>=0});if(y&&y.length){var m=y[0].props.barSize,b=y[0].props[d];a[b]||(a[b]=[]),a[b].push({item:y[0],stackList:y.slice(1),barSize:z(m)?n:m})}}return a},vW=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var u=hr(n,i,0,!0),f;if(o[0].barSize===+o[0].barSize){var c=!1,h=i/l,g=o.reduce(function(p,_){return p+_.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&h>0&&(c=!0,h*=.9,g=l*h);var v=(i-g)/2>>0,d={offset:v-u,size:0};f=o.reduce(function(p,_){var w=[].concat(Pv(p),[{item:_.item,position:{offset:d.offset+d.size+u,size:c?h:_.barSize}}]);return d=w[w.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(x){w.push({item:x,position:d})}),w},[])}else{var y=hr(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var m=(i-2*y-(l-1)*u)/l;m>1&&(m>>=0);var b=s===+s?Math.min(m,s):m;f=o.reduce(function(p,_,w){var x=[].concat(Pv(p),[{item:_.item,position:{offset:y+(m+u)*w+(m-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(S){x.push({item:S,position:x[x.length-1].position})}),x},[])}return f},gW=function(t,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=_b({children:a,legendWidth:l}),f=t;if(u){var c=i||{},h=u.align,g=u.verticalAlign,v=u.layout;(v==="vertical"||v==="horizontal"&&g==="middle")&&F(t[h])&&(f=Xe(Xe({},t),{},sr({},h,f[h]+(c.width||0)))),(v==="horizontal"||v==="vertical"&&h==="center")&&F(t[g])&&(f=Xe(Xe({},t),{},sr({},g,f[g]+(c.height||0))))}return f},yW=function(t,n,r){return z(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},bb=function(t,n,r,i,a){var o=n.props.children,s=_t(o,va).filter(function(u){return yW(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var c=lt(f,r,0),h=ce(c)?[Rs(c),Ns(c)]:[c,c],g=l.reduce(function(v,d){var y=lt(f,d,0),m=h[0]-Math.abs(ce(y)?y[0]:y),b=h[1]+Math.abs(ce(y)?y[1]:y);return[Math.min(m,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},mW=function(t,n,r,i,a){var o=n.map(function(s){return bb(t,s,r,a,i)}).filter(function(s){return!z(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},xb=function(t,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&bb(t,l,u,i)||Ro(t,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var f=0,c=u.length;f<c;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},wb=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},$v=function(t,n,r){var i,a,o=t.map(function(s){return s.coordinate===n&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate});return i||o.push(n),a||o.push(r),o},an=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;return u=t.axisType==="angleAxis"?yt(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)?(t.ticks||t.niceTicks).map(function(f){var c=a?a.indexOf(f):f;return{coordinate:i(c)+u,value:f,offset:u}}):t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,c){return{coordinate:i(f)+u,value:f,index:c,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,c){return{coordinate:i(f)+u,value:a?a[f]:f,index:c,offset:u}})},Ma=function(t,n,r){var i;return K(r)?i=r:K(n)&&(i=n),K(t)||i?function(a,o,s,l){K(t)&&t(a,o,s,l),K(i)&&i(a,o,s,l)}:null},_W=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Ri(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Po(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xi(),realScaleType:"point"}:a==="category"?{scale:Ri(),realScaleType:"band"}:{scale:Po(),realScaleType:"linear"};if(sa(i)){var l="scale".concat(Ts(i));return{scale:(Ov[l]||xi)(),realScaleType:Ov[l]?l:"point"}}return K(i)?{scale:i}:{scale:xi(),realScaleType:"point"}},kv=1e-4,bW=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-kv,o=Math.max(i[0],i[1])+kv,s=t(n[0]),l=t(n[r-1]);(s<a||s>o||l<a||l>o)&&t.domain([n[0],n[r-1]])}},xW=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},wW=function(t,n){if(!n||n.length!==2||!F(n[0])||!F(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!F(t[0])||t[0]<r)&&(a[0]=r),(!F(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},SW=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Es(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1]):(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1])}},OW=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Es(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},EW={sign:SW,expand:mM,none:dr,silhouette:_M,wiggle:bM,positive:OW},AW=function(t,n,r){var i=n.map(function(o){return o.props.dataKey}),a=yM().keys(i).value(function(o,s){return+lt(o,s,0)}).order(hu).offset(EW[r]);return a(t)},TW=function(t,n,r,i,a,o){if(!t)return null;var s=o?n.reverse():n,l=s.reduce(function(u,f){var c=f.props,h=c.stackId,g=c.hide;if(g)return u;var v=f.props[r],d=u[v]||{hasStack:!1,stackGroups:{}};if(ke(h)){var y=d.stackGroups[h]||{numericAxisId:r,cateAxisId:i,items:[]};y.items.push(f),d.hasStack=!0,d.stackGroups[h]=y}else d.stackGroups[la("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Xe(Xe({},u),{},sr({},v,d))},{});return Object.keys(l).reduce(function(u,f){var c=l[f];return c.hasStack&&(c.stackGroups=Object.keys(c.stackGroups).reduce(function(h,g){var v=c.stackGroups[g];return Xe(Xe({},h),{},sr({},g,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:AW(t,v.items,a)}))},{})),Xe(Xe({},u),{},sr({},f,c))},{})},CW=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=Q3(u,a,s);return t.domain([Rs(f),Ns(f)]),{niceTicks:f}}if(a&&i==="number"){var c=t.domain(),h=J3(c,a,s);return{niceTicks:h}}return null},Mv=function(t){var n=t.axis,r=t.ticks,i=t.bandSize,a=t.entry,o=t.index,s=t.dataKey;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!z(a[n.dataKey])){var l=Ja(r,"value",a[n.dataKey]);if(l)return l.coordinate+i/2}return r[o]?r[o].coordinate+i/2:null}var u=lt(a,z(s)?n.dataKey:s);return z(u)?null:n.scale(u)},Nv=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=lt(o,n.dataKey,n.domain[s]);return z(l)?null:n.scale(l)-a/2+i},PW=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},IW=function(t,n){var r=t.props.stackId;if(ke(r)){var i=n[r];if(i&&i.items.length){for(var a=-1,o=0,s=i.items.length;o<s;o++)if(i.items[o]===t){a=o;break}return a>=0?i.stackedData[a]:null}}return null},$W=function(t){return t.reduce(function(n,r){return[Rs(r.concat([n[0]]).filter(F)),Ns(r.concat([n[1]]).filter(F))]},[1/0,-1/0])},Sb=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(u,f){var c=$W(f.slice(n,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Rv=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dv=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ob=function(t,n,r){if(K(t))return t(n,r);if(!ce(t))return n;var i=[];if(F(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(Rv.test(t[0])){var a=+Rv.exec(t[0])[1];i[0]=n[0]-a}else K(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(F(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(Dv.test(t[1])){var o=+Dv.exec(t[1])[1];i[1]=n[1]+o}else K(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},Do=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=Tf(n,function(c){return c.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},jv=function(t,n,r){return!t||!t.length||kf(t,st(r,"type.defaultProps.domain"))?n:t},Eb=function(t,n){var r=t.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType;return Xe(Xe({},se(t)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:rh(t),value:lt(n,i),type:l,payload:n,chartType:u})};function Hi(e){return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function Lv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lv(Object(n),!0).forEach(function(r){kW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kW(e,t,n){return t=MW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=NW(e,"string");return Hi(t)==="symbol"?t:String(t)}function NW(e,t){if(Hi(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jo=Math.PI/180,RW=function(t){return t*180/Math.PI},qe=function(t,n,r,i){return{x:t+Math.cos(-jo*i)*r,y:n+Math.sin(-jo*i)*r}},DW=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},jW=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,s=DW({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:RW(u),angleInRadian:u}},LW=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},FW=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},Bv=function(t,n){var r=t.x,i=t.y,a=jW({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=LW(n),c=f.startAngle,h=f.endAngle,g=s,v;if(c<=h){for(;g>h;)g-=360;for(;g<c;)g+=360;v=g>=c&&g<=h}else{for(;g>c;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=c}return v?Fv(Fv({},n),{},{radius:o,angle:FW(g,n)}):null};function Gi(e){return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function BW(e){return GW(e)||HW(e)||UW(e)||WW()}function WW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UW(e,t){if(e){if(typeof e=="string")return Qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qu(e,t)}}function HW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GW(e){if(Array.isArray(e))return Qu(e)}function Qu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wv(Object(n),!0).forEach(function(r){zW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zW(e,t,n){return t=qW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qW(e){var t=VW(e,"string");return Gi(t)==="symbol"?t:String(t)}function VW(e,t){if(Gi(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zi.apply(this,arguments)}var KW=function(t){var n=t.value,r=t.formatter,i=z(t.children)?n:t.children;return K(r)?r(i):i},YW=function(t,n){var r=yt(n-t),i=Math.min(Math.abs(n-t),360);return r*i},XW=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,u=l.cx,f=l.cy,c=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,d=l.clockWise,y=(c+h)/2,m=YW(g,v),b=m>=0?1:-1,p,_;i==="insideStart"?(p=g+b*o,_=d):i==="insideEnd"?(p=v-b*o,_=!d):i==="end"&&(p=v+b*o,_=d),_=m<=0?_:!_;var w=qe(u,f,y,p),x=qe(u,f,y,p+(_?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(x.x,",").concat(x.y),O=z(t.id)?la("recharts-radial-line-"):t.id;return T.createElement("text",zi({},r,{dominantBaseline:"central",className:ge("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:O,d:S})),T.createElement("textPath",{xlinkHref:"#".concat(O)},n))},QW=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,f=a.startAngle,c=a.endAngle,h=(f+c)/2;if(i==="outside"){var g=qe(o,s,u+r,h),v=g.x,d=g.y;return{x:v,y:d,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,m=qe(o,s,y,h),b=m.x,p=m.y;return{x:b,y:p,textAnchor:"middle",verticalAnchor:"middle"}},JW=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,s=o.x,l=o.y,u=o.width,f=o.height,c=f>=0?1:-1,h=c*i,g=c>0?"end":"start",v=c>0?"start":"end",d=u>=0?1:-1,y=d*i,m=d>0?"end":"start",b=d>0?"start":"end";if(a==="top"){var p={x:s+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:g};return Ne(Ne({},p),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var _={x:s+u/2,y:l+f+h,textAnchor:"middle",verticalAnchor:v};return Ne(Ne({},_),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(a==="left"){var w={x:s-y,y:l+f/2,textAnchor:m,verticalAnchor:"middle"};return Ne(Ne({},w),r?{width:Math.max(w.x-r.x,0),height:f}:{})}if(a==="right"){var x={x:s+u+y,y:l+f/2,textAnchor:b,verticalAnchor:"middle"};return Ne(Ne({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:f}:{})}var S=r?{width:u,height:f}:{};return a==="insideLeft"?Ne({x:s+y,y:l+f/2,textAnchor:b,verticalAnchor:"middle"},S):a==="insideRight"?Ne({x:s+u-y,y:l+f/2,textAnchor:m,verticalAnchor:"middle"},S):a==="insideTop"?Ne({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},S):a==="insideBottom"?Ne({x:s+u/2,y:l+f-h,textAnchor:"middle",verticalAnchor:g},S):a==="insideTopLeft"?Ne({x:s+y,y:l+h,textAnchor:b,verticalAnchor:v},S):a==="insideTopRight"?Ne({x:s+u-y,y:l+h,textAnchor:m,verticalAnchor:v},S):a==="insideBottomLeft"?Ne({x:s+y,y:l+f-h,textAnchor:b,verticalAnchor:g},S):a==="insideBottomRight"?Ne({x:s+u-y,y:l+f-h,textAnchor:m,verticalAnchor:g},S):ut(a)&&(F(a.x)||$n(a.x))&&(F(a.y)||$n(a.y))?Ne({x:s+hr(a.x,u),y:l+hr(a.y,f),textAnchor:"end",verticalAnchor:"end"},S):Ne({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},S)},ZW=function(t){return F(t.cx)};function ze(e){var t=e.viewBox,n=e.position,r=e.value,i=e.children,a=e.content,o=e.className,s=o===void 0?"":o,l=e.textBreakAll;if(!t||z(r)&&z(i)&&!B.isValidElement(a)&&!K(a))return null;if(B.isValidElement(a))return B.cloneElement(a,e);var u;if(K(a)){if(u=B.createElement(a,e),B.isValidElement(u))return u}else u=KW(e);var f=ZW(t),c=se(e,!0);if(f&&(n==="insideStart"||n==="insideEnd"||n==="end"))return XW(e,u,c);var h=f?QW(e):JW(e);return T.createElement(Ni,zi({className:ge("recharts-label",s)},c,h,{breakAll:l}),u)}ze.displayName="Label";ze.defaultProps={offset:5};var Ab=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,f=t.outerRadius,c=t.x,h=t.y,g=t.top,v=t.left,d=t.width,y=t.height,m=t.clockWise,b=t.labelViewBox;if(b)return b;if(F(d)&&F(y)){if(F(c)&&F(h))return{x:c,y:h,width:d,height:y};if(F(g)&&F(v))return{x:g,y:v,width:d,height:y}}return F(c)&&F(h)?{x:c,y:h,width:0,height:0}:F(n)&&F(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:m}:t.viewBox?t.viewBox:{}},eU=function(t,n){return t?t===!0?T.createElement(ze,{key:"label-implicit",viewBox:n}):ke(t)?T.createElement(ze,{key:"label-implicit",viewBox:n,value:t}):B.isValidElement(t)?t.type===ze?B.cloneElement(t,{key:"label-implicit",viewBox:n}):T.createElement(ze,{key:"label-implicit",content:t,viewBox:n}):K(t)?T.createElement(ze,{key:"label-implicit",content:t,viewBox:n}):ut(t)?T.createElement(ze,zi({viewBox:n},t,{key:"label-implicit"})):null:null},tU=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=Ab(t),o=_t(i,ze).map(function(l,u){return B.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=eU(t.label,n||a);return[s].concat(BW(o))};ze.parseViewBox=Ab;ze.renderCallByParent=tU;function nU(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var rU=nU;function qi(e){return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}var iU=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function aU(e){return uU(e)||lU(e)||sU(e)||oU()}function oU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sU(e,t){if(e){if(typeof e=="string")return Ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ju(e,t)}}function lU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uU(e){if(Array.isArray(e))return Ju(e)}function Ju(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(this,arguments)}function Uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uv(Object(n),!0).forEach(function(r){cU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cU(e,t,n){return t=fU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fU(e){var t=hU(e,"string");return qi(t)==="symbol"?t:String(t)}function hU(e,t){if(qi(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dU(e,t){if(e==null)return{};var n=pU(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var vU={valueAccessor:function(t){return ce(t.value)?rU(t.value):t.value}};function Yt(e){var t=e.data,n=e.valueAccessor,r=e.dataKey,i=e.clockWise,a=e.id,o=e.textBreakAll,s=dU(e,iU);return!t||!t.length?null:T.createElement(Be,{className:"recharts-label-list"},t.map(function(l,u){var f=z(r)?n(l,u):lt(l&&l.payload,r),c=z(a)?{}:{id:"".concat(a,"-").concat(u)};return T.createElement(ze,Lo({},se(l,!0),s,c,{parentViewBox:l.parentViewBox,index:u,value:f,textBreakAll:o,viewBox:ze.parseViewBox(z(i)?l:Hv(Hv({},l),{},{clockWise:i})),key:"label-".concat(u)}))}))}Yt.displayName="LabelList";function gU(e,t){return e?e===!0?T.createElement(Yt,{key:"labelList-implicit",data:t}):T.isValidElement(e)||K(e)?T.createElement(Yt,{key:"labelList-implicit",data:t,content:e}):ut(e)?T.createElement(Yt,Lo({data:t},e,{key:"labelList-implicit"})):null:null}function yU(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=_t(r,Yt).map(function(o,s){return B.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var a=gU(e.label,t);return[a].concat(aU(i))}Yt.renderCallByParent=yU;Yt.defaultProps=vU;function Er(e){return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Er(e)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zu.apply(this,arguments)}function mU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tb(r.key),r)}}function _U(e,t,n){return t&&Gv(e.prototype,t),n&&Gv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ec(e,t)}function ec(e,t){return ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ec(e,t)}function xU(e){var t=OU();return function(){var r=Fo(e),i;if(t){var a=Fo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return wU(this,i)}}function wU(e,t){if(t&&(Er(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SU(e)}function SU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fo(e)}function EU(e,t,n){return t=Tb(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tb(e){var t=AU(e,"string");return Er(t)==="symbol"?t:String(t)}function AU(e,t){if(Er(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Er(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TU=function(t,n){var r=yt(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Na=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,f=l*(s?1:-1)+i,c=Math.asin(l/f)/jo,h=u?a:a+o*c,g=qe(n,r,f,h),v=qe(n,r,i,h),d=u?a-o*c:a,y=qe(n,r,f*Math.cos(c*jo),d);return{center:g,circleTangency:v,lineTangency:y,theta:c}},Cb=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=TU(o,s),u=o+l,f=qe(n,r,a,o),c=qe(n,r,a,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var g=qe(n,r,i,o),v=qe(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},CU=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,c=yt(f-u),h=Na({cx:n,cy:r,radius:a,angle:u,sign:c,cornerRadius:o,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,d=h.theta,y=Na({cx:n,cy:r,radius:a,angle:f,sign:-c,cornerRadius:o,cornerIsExternal:l}),m=y.circleTangency,b=y.lineTangency,p=y.theta,_=l?Math.abs(u-f):Math.abs(u-f)-d-p;if(_<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Cb({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var x=Na({cx:n,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=x.circleTangency,O=x.lineTangency,A=x.theta,$=Na({cx:n,cy:r,radius:i,angle:f,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=$.circleTangency,C=$.lineTangency,P=$.theta,M=l?Math.abs(u-f):Math.abs(u-f)-A-P;if(M<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(c>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(O.x,",").concat(O.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},Pb=function(e){bU(n,e);var t=xU(n);function n(){return mU(this,n),t.apply(this,arguments)}return _U(n,[{key:"render",value:function(){var i=this.props,a=i.cx,o=i.cy,s=i.innerRadius,l=i.outerRadius,u=i.cornerRadius,f=i.forceCornerRadius,c=i.cornerIsExternal,h=i.startAngle,g=i.endAngle,v=i.className;if(l<s||h===g)return null;var d=ge("recharts-sector",v),y=l-s,m=hr(u,y,0,!0),b;return m>0&&Math.abs(h-g)<360?b=CU({cx:a,cy:o,innerRadius:s,outerRadius:l,cornerRadius:Math.min(m,y/2),forceCornerRadius:f,cornerIsExternal:c,startAngle:h,endAngle:g}):b=Cb({cx:a,cy:o,innerRadius:s,outerRadius:l,startAngle:h,endAngle:g}),T.createElement("path",Zu({},se(this.props,!0),{className:d,d:b,role:"img"}))}}]),n}(B.PureComponent);EU(Pb,"defaultProps",{cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1});function Ar(e){return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(e)}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tc.apply(this,arguments)}function zv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zv(Object(n),!0).forEach(function(r){Ib(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$b(r.key),r)}}function IU(e,t,n){return t&&Vv(e.prototype,t),n&&Vv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $U(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nc(e,t)}function nc(e,t){return nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nc(e,t)}function kU(e){var t=RU();return function(){var r=Bo(e),i;if(t){var a=Bo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return MU(this,i)}}function MU(e,t){if(t&&(Ar(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NU(e)}function NU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bo(e)}function Ib(e,t,n){return t=$b(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $b(e){var t=DU(e,"string");return Ar(t)==="symbol"?t:String(t)}function DU(e,t){if(Ar(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ar(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kv={curveBasisClosed:oM,curveBasisOpen:sM,curveBasis:aM,curveLinearClosed:lM,curveLinear:Ps,curveMonotoneX:uM,curveMonotoneY:cM,curveNatural:fM,curveStep:hM,curveStepAfter:pM,curveStepBefore:dM},Ra=function(t){return t.x===+t.x&&t.y===+t.y},hi=function(t){return t.x},di=function(t){return t.y},jU=function(t,n){if(K(t))return t;var r="curve".concat(Ts(t));return r==="curveMonotone"&&n?Kv["".concat(r).concat(n==="vertical"?"Y":"X")]:Kv[r]||Ps},Wo=function(e){$U(n,e);var t=kU(n);function n(){return PU(this,n),t.apply(this,arguments)}return IU(n,[{key:"getPath",value:function(){var i=this.props,a=i.type,o=i.points,s=i.baseLine,l=i.layout,u=i.connectNulls,f=jU(a,l),c=u?o.filter(function(d){return Ra(d)}):o,h;if(ce(s)){var g=u?s.filter(function(d){return Ra(d)}):s,v=c.map(function(d,y){return qv(qv({},d),{},{base:g[y]})});return l==="vertical"?h=Aa().y(di).x1(hi).x0(function(d){return d.base.x}):h=Aa().x(hi).y1(di).y0(function(d){return d.base.y}),h.defined(Ra).curve(f),h(v)}return l==="vertical"&&F(s)?h=Aa().y(di).x1(hi).x0(s):F(s)?h=Aa().x(hi).y1(di).y0(s):h=Lm().x(hi).y(di),h.defined(Ra).curve(f),h(c)}},{key:"render",value:function(){var i=this.props,a=i.className,o=i.points,s=i.path,l=i.pathRef;if((!o||!o.length)&&!s)return null;var u=o&&o.length?this.getPath():s;return T.createElement("path",tc({},se(this.props),Za(this.props),{className:ge("recharts-curve",a),d:u,ref:l}))}}]),n}(B.PureComponent);Ib(Wo,"defaultProps",{type:"linear",points:[],connectNulls:!1});function Tr(e){return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(e)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uo.apply(this,arguments)}function LU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nb(r.key),r)}}function FU(e,t,n){return t&&Yv(e.prototype,t),n&&Yv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rc(e,t)}function rc(e,t){return rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rc(e,t)}function WU(e){var t=HU();return function(){var r=Ho(e),i;if(t){var a=Ho(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return UU(this,i)}}function UU(e,t){if(t&&(Tr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kb(e)}function kb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ho(e)}function Mb(e,t,n){return t=Nb(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nb(e){var t=GU(e,"string");return Tr(t)==="symbol"?t:String(t)}function GU(e,t){if(Tr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xv=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var c=[0,0,0,0],h=0,g=4;h<g;h++)c[h]=a[h]>o?o:a[h];f="M".concat(t,",").concat(n+s*c[0]),c[0]>0&&(f+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(t+l*c[0],",").concat(n)),f+="L ".concat(t+r-l*c[1],",").concat(n),c[1]>0&&(f+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*c[1])),f+="L ".concat(t+r,",").concat(n+i-s*c[2]),c[2]>0&&(f+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(t+r-l*c[2],",").concat(n+i)),f+="L ".concat(t+l*c[3],",").concat(n+i),c[3]>0&&(f+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-s*c[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);f="M ".concat(t,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(n,`
            L `).concat(t+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*v,`
            L `).concat(t+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r-l*v,",").concat(n+i,`
            L `).concat(t+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(n+i-s*v," Z")}else f="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},zU=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),c=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=f&&i>=c&&i<=h}return!1},Gs=function(e){BU(n,e);var t=WU(n);function n(){var r;LU(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Mb(kb(r),"state",{totalLength:-1}),r}return FU(n,[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var i=this.node.getTotalLength();i&&this.setState({totalLength:i})}catch{}}},{key:"render",value:function(){var i=this,a=this.props,o=a.x,s=a.y,l=a.width,u=a.height,f=a.radius,c=a.className,h=this.state.totalLength,g=this.props,v=g.animationEasing,d=g.animationDuration,y=g.animationBegin,m=g.isAnimationActive,b=g.isUpdateAnimationActive;if(o!==+o||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var p=ge("recharts-rectangle",c);return b?T.createElement(Wn,{canBegin:h>0,from:{width:l,height:u,x:o,y:s},to:{width:l,height:u,x:o,y:s},duration:d,animationEasing:v,isActive:b},function(_){var w=_.width,x=_.height,S=_.x,O=_.y;return T.createElement(Wn,{canBegin:h>0,from:"0px ".concat(h===-1?1:h,"px"),to:"".concat(h,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:d,isActive:m,easing:v},T.createElement("path",Uo({},se(i.props,!0),{className:p,d:Xv(S,O,w,x,f),ref:function($){i.node=$}})))}):T.createElement("path",Uo({},se(this.props,!0),{className:p,d:Xv(o,s,l,u,f)}))}}]),n}(B.PureComponent);Mb(Gs,"defaultProps",{x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"});function Cr(e){return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(e)}function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ic.apply(this,arguments)}function qU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KU(r.key),r)}}function VU(e,t,n){return t&&Qv(e.prototype,t),n&&Qv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KU(e){var t=YU(e,"string");return Cr(t)==="symbol"?t:String(t)}function YU(e,t){if(Cr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ac(e,t)}function ac(e,t){return ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ac(e,t)}function QU(e){var t=e5();return function(){var r=Go(e),i;if(t){var a=Go(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return JU(this,i)}}function JU(e,t){if(t&&(Cr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZU(e)}function ZU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Go(e)}var ih=function(e){XU(n,e);var t=QU(n);function n(){return qU(this,n),t.apply(this,arguments)}return VU(n,[{key:"render",value:function(){var i=this.props,a=i.cx,o=i.cy,s=i.r,l=i.className,u=ge("recharts-dot",l);return a===+a&&o===+o&&s===+s?T.createElement("circle",ic({},se(this.props),Za(this.props),{className:u,cx:a,cy:o,r:s})):null}}]),n}(B.PureComponent);function Pr(e){return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(e)}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oc.apply(this,arguments)}function t5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rb(r.key),r)}}function n5(e,t,n){return t&&Jv(e.prototype,t),n&&Jv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sc(e,t)}function sc(e,t){return sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sc(e,t)}function i5(e){var t=s5();return function(){var r=zo(e),i;if(t){var a=zo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return a5(this,i)}}function a5(e,t){if(t&&(Pr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o5(e)}function o5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zo(e)}function l5(e,t,n){return t=Rb(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rb(e){var t=u5(e,"string");return Pr(t)==="symbol"?t:String(t)}function u5(e,t){if(Pr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Db=function(e){r5(n,e);var t=i5(n);function n(){return t5(this,n),t.apply(this,arguments)}return n5(n,[{key:"render",value:function(){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.top,f=i.left,c=i.className;return!F(a)||!F(o)||!F(s)||!F(l)||!F(u)||!F(f)?null:T.createElement("path",oc({},se(this.props,!0),{className:ge("recharts-cross",c),d:n.getPath(a,o,s,l,u,f)}))}}],[{key:"getPath",value:function(i,a,o,s,l,u){return"M".concat(i,",").concat(l,"v").concat(s,"M").concat(u,",").concat(a,"h").concat(o)}}]),n}(B.PureComponent);l5(Db,"defaultProps",{x:0,y:0,top:0,left:0,width:0,height:0});var c5=Math.ceil,f5=Math.max;function h5(e,t,n,r){for(var i=-1,a=f5(c5((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var d5=h5,p5=h_,Zv=1/0,v5=17976931348623157e292;function g5(e){if(!e)return e===0?e:0;if(e=p5(e),e===Zv||e===-Zv){var t=e<0?-1:1;return t*v5}return e===e?e:0}var jb=g5,y5=d5,m5=Ms,Nl=jb;function _5(e){return function(t,n,r){return r&&typeof r!="number"&&m5(t,n,r)&&(n=r=void 0),t=Nl(t),n===void 0?(n=t,t=0):n=Nl(n),r=r===void 0?t<n?1:-1:Nl(r),y5(t,n,r,e)}}var b5=_5,x5=b5,w5=x5(),qo=w5;function Vi(e){return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eg(Object(n),!0).forEach(function(r){Lb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lb(e,t,n){return t=S5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S5(e){var t=O5(e,"string");return Vi(t)==="symbol"?t:String(t)}function O5(e,t){if(Vi(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E5=["Webkit","Moz","O","ms"],A5=function(t,n){if(!t)return null;var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=E5.reduce(function(a,o){return tg(tg({},a),{},Lb({},o+r,n))},{});return i[t]=n,i};function Ir(e){return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(e)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(this,arguments)}function ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(n),!0).forEach(function(r){gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fb(r.key),r)}}function C5(e,t,n){return t&&rg(e.prototype,t),n&&rg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lc(e,t)}function lc(e,t){return lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lc(e,t)}function I5(e){var t=k5();return function(){var r=Ko(e),i;if(t){var a=Ko(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return $5(this,i)}}function $5(e,t){if(t&&(Ir(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kt(e)}function kt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ko(e){return Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ko(e)}function gt(e,t,n){return t=Fb(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fb(e){var t=M5(e,"string");return Ir(t)==="symbol"?t:String(t)}function M5(e,t){if(Ir(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ir(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N5=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=xi().domain(qo(0,l)).range([a,a+o-s]),f=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},ig=function(t){return t.changedTouches&&!!t.changedTouches.length},Ki=function(e){P5(n,e);var t=I5(n);function n(r){var i;return T5(this,n),i=t.call(this,r),gt(kt(i),"handleDrag",function(a){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(a):i.state.isSlideMoving&&i.handleSlideDrag(a)}),gt(kt(i),"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&i.handleDrag(a.changedTouches[0])}),gt(kt(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1}),i.detachDragEndListener()}),gt(kt(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),gt(kt(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),gt(kt(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),gt(kt(i),"handleSlideDragStart",function(a){var o=ig(a)?a.changedTouches[0]:a;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(kt(i),"startX"),endX:i.handleTravellerDragStart.bind(kt(i),"endX")},i.state={},i}return C5(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var a=i.startX,o=i.endX,s=this.state.scaleValues,l=this.props,u=l.gap,f=l.data,c=f.length-1,h=Math.min(a,o),g=Math.max(a,o),v=n.getIndexInRange(s,h),d=n.getIndexInRange(s,g);return{startIndex:v-v%u,endIndex:d===c?c:d-d%u}}},{key:"getTextOfTick",value:function(i){var a=this.props,o=a.data,s=a.tickFormatter,l=a.dataKey,u=lt(o[i],l,i);return K(s)?s(u,i):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var a=this.state,o=a.slideMoveStartX,s=a.startX,l=a.endX,u=this.props,f=u.x,c=u.width,h=u.travellerWidth,g=u.startIndex,v=u.endIndex,d=u.onChange,y=i.pageX-o;y>0?y=Math.min(y,f+c-h-l,f+c-h-s):y<0&&(y=Math.max(y,f-s,f-l));var m=this.getIndex({startX:s+y,endX:l+y});(m.startIndex!==g||m.endIndex!==v)&&d&&d(m),this.setState({startX:s+y,endX:l+y,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,a){var o=ig(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var a,o=this.state,s=o.brushMoveStartX,l=o.movingTravellerId,u=o.endX,f=o.startX,c=this.state[l],h=this.props,g=h.x,v=h.width,d=h.travellerWidth,y=h.onChange,m=h.gap,b=h.data,p={startX:this.state.startX,endX:this.state.endX},_=i.pageX-s;_>0?_=Math.min(_,g+v-d-c):_<0&&(_=Math.max(_,g-c)),p[l]=c+_;var w=this.getIndex(p),x=w.startIndex,S=w.endIndex,O=function(){var $=b.length-1;return l==="startX"&&(u>f?x%m===0:S%m===0)||u<f&&S===$||l==="endX"&&(u>f?S%m===0:x%m===0)||u>f&&S===$};this.setState((a={},gt(a,l,c+_),gt(a,"brushMoveStartX",i.pageX),a),function(){y&&O()&&y(w)})}},{key:"renderBackground",value:function(){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.fill,f=i.stroke;return T.createElement("rect",{stroke:f,fill:u,x:a,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.data,f=i.children,c=i.padding,h=B.Children.only(f);return h?T.cloneElement(h,{x:a,y:o,width:s,height:l,margin:c,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(i,a){var o=this.props,s=o.y,l=o.travellerWidth,u=o.height,f=o.traveller,c=Math.max(i,this.props.x),h=Rl(Rl({},se(this.props)),{},{x:c,y:s,width:l,height:u});return T.createElement(Be,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],style:{cursor:"col-resize"}},n.renderTraveller(f,h))}},{key:"renderSlide",value:function(i,a){var o=this.props,s=o.y,l=o.height,u=o.stroke,f=o.travellerWidth,c=Math.min(i,a)+f,h=Math.max(Math.abs(a-i)-f,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:c,y:s,width:h,height:l})}},{key:"renderText",value:function(){var i=this.props,a=i.startIndex,o=i.endIndex,s=i.y,l=i.height,u=i.travellerWidth,f=i.stroke,c=this.state,h=c.startX,g=c.endX,v=5,d={pointerEvents:"none",fill:f};return T.createElement(Be,{className:"recharts-brush-texts"},T.createElement(Ni,Vo({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-v,y:s+l/2},d),this.getTextOfTick(a)),T.createElement(Ni,Vo({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+u+v,y:s+l/2},d),this.getTextOfTick(o)))}},{key:"render",value:function(){var i=this.props,a=i.data,o=i.className,s=i.children,l=i.x,u=i.y,f=i.width,c=i.height,h=i.alwaysShowText,g=this.state,v=g.startX,d=g.endX,y=g.isTextActive,m=g.isSlideMoving,b=g.isTravellerMoving;if(!a||!a.length||!F(l)||!F(u)||!F(f)||!F(c)||f<=0||c<=0)return null;var p=ge("recharts-brush",o),_=T.Children.count(s)===1,w=A5("userSelect","none");return T.createElement(Be,{className:p,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(v,d),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(d,"endX"),(y||m||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var a=i.x,o=i.y,s=i.width,l=i.height,u=i.stroke,f=Math.floor(o+l/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:a,y:o,width:s,height:l,fill:u,stroke:"none"}),T.createElement("line",{x1:a+1,y1:f,x2:a+s-1,y2:f,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:a+1,y1:f+2,x2:a+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,a){var o;return T.isValidElement(i)?o=T.cloneElement(i,a):K(i)?o=i(a):o=n.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(i,a){var o=i.data,s=i.width,l=i.x,u=i.travellerWidth,f=i.updateId,c=i.startIndex,h=i.endIndex;if(o!==a.prevData||f!==a.prevUpdateId)return Rl({prevData:o,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:s},o&&o.length?N5({data:o,width:s,x:l,travellerWidth:u,startIndex:c,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||u!==a.prevTravellerWidth)){a.scale.range([l,l+s-u]);var g=a.scale.domain().map(function(v){return a.scale(v)});return{prevData:o,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:s,startX:a.scale(i.startIndex),endX:a.scale(i.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(i,a){for(var o=i.length,s=0,l=o-1;l-s>1;){var u=Math.floor((s+l)/2);i[u]>a?l=u:s=u}return a>=i[l]?l:s}}]),n}(B.PureComponent);gt(Ki,"displayName","Brush");gt(Ki,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var R5=Af;function D5(e,t){var n;return R5(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var j5=D5,L5=dm,F5=mn,B5=j5,W5=ce,U5=Ms;function H5(e,t,n){var r=W5(e)?L5:B5;return n&&U5(e,t,n)&&(t=void 0),r(e,F5(t))}var G5=H5,Dt=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n};function z5(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var q5=z5,V5=Af;function K5(e,t){var n=!0;return V5(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var Y5=K5,X5=q5,Q5=Y5,J5=mn,Z5=ce,e4=Ms;function t4(e,t,n){var r=Z5(e)?X5:Q5;return n&&e4(e,t,n)&&(t=void 0),r(e,J5(t))}var Bb=t4,ag=u_;function n4(e,t,n){t=="__proto__"&&ag?ag(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var r4=n4,i4=r4,a4=s_,o4=mn;function s4(e,t){var n={};return t=o4(t),a4(e,function(r,i,a){i4(n,i,t(r,i,a))}),n}var l4=s4,u4=["value","background"];function $r(e){return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(e)}function c4(e,t){if(e==null)return{};var n=f4(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function f4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uc.apply(this,arguments)}function og(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?og(Object(n),!0).forEach(function(r){sn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):og(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wb(r.key),r)}}function d4(e,t,n){return t&&sg(e.prototype,t),n&&sg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cc(e,t)}function cc(e,t){return cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cc(e,t)}function v4(e){var t=y4();return function(){var r=Yo(e),i;if(t){var a=Yo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return g4(this,i)}}function g4(e,t){if(t&&($r(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vi(e)}function vi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yo(e){return Yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yo(e)}function sn(e,t,n){return t=Wb(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wb(e){var t=m4(e,"string");return $r(t)==="symbol"?t:String(t)}function m4(e,t){if($r(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($r(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zs=function(e){p4(n,e);var t=v4(n);function n(){var r;h4(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),sn(vi(r),"state",{isAnimationFinished:!1}),sn(vi(r),"id",la("recharts-bar-")),sn(vi(r),"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),sn(vi(r),"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return d4(n,[{key:"renderRectanglesStatically",value:function(i){var a=this,o=this.props.shape,s=se(this.props);return i&&i.map(function(l,u){var f=Re(Re(Re({},s),l),{},{index:u});return T.createElement(Be,uc({className:"recharts-bar-rectangle"},eo(a.props,l,u),{key:"rectangle-".concat(u),role:"img"}),n.renderRectangle(o,f))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,a=this.props,o=a.data,s=a.layout,l=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,c=a.animationEasing,h=a.animationId,g=this.state.prevData;return T.createElement(Wn,{begin:u,duration:f,isActive:l,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var d=v.t,y=o.map(function(m,b){var p=g&&g[b];if(p){var _=Et(p.x,m.x),w=Et(p.y,m.y),x=Et(p.width,m.width),S=Et(p.height,m.height);return Re(Re({},m),{},{x:_(d),y:w(d),width:x(d),height:S(d)})}if(s==="horizontal"){var O=Et(0,m.height),A=O(d);return Re(Re({},m),{},{y:m.y+m.height-A,height:A})}var $=Et(0,m.width),E=$(d);return Re(Re({},m),{},{width:E})});return T.createElement(Be,null,i.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var i=this.props,a=i.data,o=i.isAnimationActive,s=this.state.prevData;return o&&a&&a.length&&(!s||!kf(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var i=this,a=this.props.data,o=se(this.props.background);return a.map(function(s,l){s.value;var u=s.background,f=c4(s,u4);if(!u)return null;var c=Re(Re(Re(Re(Re({},f),{},{fill:"#eee"},u),o),eo(i.props,s,l)),{},{index:l,key:"background-bar-".concat(l),className:"recharts-bar-background-rectangle"});return n.renderRectangle(i.props.background,c)})}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.data,o=i.xAxis,s=i.yAxis,l=i.layout,u=i.children,f=_t(u,va);if(!f)return null;var c=l==="vertical"?a[0].height/2:a[0].width/2;function h(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:lt(g,v)}}return f.map(function(g,v){return T.cloneElement(g,{key:"error-bar-".concat(v),data:a,xAxis:o,yAxis:s,layout:l,offset:c,dataPointFormatter:h})})}},{key:"render",value:function(){var i=this.props,a=i.hide,o=i.data,s=i.className,l=i.xAxis,u=i.yAxis,f=i.left,c=i.top,h=i.width,g=i.height,v=i.isAnimationActive,d=i.background,y=i.id;if(a||!o||!o.length)return null;var m=this.state.isAnimationFinished,b=ge("recharts-bar",s),p=l&&l.allowDataOverflow||u&&u.allowDataOverflow,_=z(y)?this.id:y;return T.createElement(Be,{className:b},p?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(_)},T.createElement("rect",{x:f,y:c,width:h,height:g}))):null,T.createElement(Be,{className:"recharts-bar-rectangles",clipPath:p?"url(#clipPath-".concat(_,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(),(!v||m)&&Yt.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:a.curData}:i.data!==a.curData?{curData:i.data}:null}},{key:"renderRectangle",value:function(i,a){var o;return T.isValidElement(i)?o=T.cloneElement(i,a):K(i)?o=i(a):o=T.createElement(Gs,a),o}}]),n}(B.PureComponent);sn(zs,"displayName","Bar");sn(zs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!Vt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});sn(zs,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,c=e.displayedData,h=e.offset,g=xW(r,n);if(!g)return null;var v=t.layout,d=n.props,y=d.dataKey,m=d.children,b=d.minPointSize,p=v==="horizontal"?o:a,_=u?p.scale.domain():null,w=PW({numericAxis:p}),x=_t(m,m_),S=c.map(function(O,A){var $,E,C,P,M,I;if(u?$=wW(u[f+A],_):($=lt(O,y),ce($)||($=[w,$])),v==="horizontal"){if(E=Nv({axis:a,ticks:s,bandSize:i,offset:g.offset,entry:O,index:A}),C=o.scale($[1]),P=g.size,M=o.scale($[0])-o.scale($[1]),I={x:E,y:o.y,width:P,height:o.height},Math.abs(b)>0&&Math.abs(M)<Math.abs(b)){var R=yt(M||b)*(Math.abs(b)-Math.abs(M));C-=R,M+=R}}else if(E=a.scale($[0]),C=Nv({axis:o,ticks:l,bandSize:i,offset:g.offset,entry:O,index:A}),P=a.scale($[1])-a.scale($[0]),M=g.size,I={x:a.x,y:C,width:a.width,height:M},Math.abs(b)>0&&Math.abs(P)<Math.abs(b)){var U=yt(P||b)*(Math.abs(b)-Math.abs(P));P+=U}return Re(Re(Re({},O),{},{x:E,y:C,width:P,height:M,value:u?$:$[1],payload:O,background:I},x&&x[A]&&x[A].props),{},{tooltipPayload:[Eb(n,O)],tooltipPosition:{x:E+P/2,y:C+M/2}})});return Re({data:S,layout:v},h)});function Yi(e){return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function _4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ub(r.key),r)}}function b4(e,t,n){return t&&lg(e.prototype,t),n&&lg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ug(Object(n),!0).forEach(function(r){qs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ug(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qs(e,t,n){return t=Ub(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ub(e){var t=x4(e,"string");return Yi(t)==="symbol"?t:String(t)}function x4(e,t){if(Yi(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w4=function(t,n,r,i,a){var o=t.width,s=t.height,l=t.layout,u=t.children,f=Object.keys(n),c={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ht(u,zs);return f.reduce(function(g,v){var d=n[v],y=d.orientation,m=d.domain,b=d.padding,p=b===void 0?{}:b,_=d.mirror,w=d.reversed,x="".concat(y).concat(_?"Mirror":""),S,O,A,$,E;if(d.type==="number"&&(d.padding==="gap"||d.padding==="no-gap")){var C=m[1]-m[0],P=1/0,M=d.categoricalDomain.sort();M.forEach(function(be,He){He>0&&(P=Math.min((be||0)-(M[He-1]||0),P))});var I=P/C,R=d.layout==="vertical"?r.height:r.width;if(d.padding==="gap"&&(S=I*R/2),d.padding==="no-gap"){var U=hr(t.barCategoryGap,I*R),D=I*R/2;S=D-U-(D-U)/R*U}}i==="xAxis"?O=[r.left+(p.left||0)+(S||0),r.left+r.width-(p.right||0)-(S||0)]:i==="yAxis"?O=l==="horizontal"?[r.top+r.height-(p.bottom||0),r.top+(p.top||0)]:[r.top+(p.top||0)+(S||0),r.top+r.height-(p.bottom||0)-(S||0)]:O=d.range,w&&(O=[O[1],O[0]]);var W=_W(d,a,h),ae=W.scale,Q=W.realScaleType;ae.domain(m).range(O),bW(ae);var ne=CW(ae,Ot(Ot({},d),{},{realScaleType:Q}));i==="xAxis"?(E=y==="top"&&!_||y==="bottom"&&_,A=r.left,$=c[x]-E*d.height):i==="yAxis"&&(E=y==="left"&&!_||y==="right"&&_,A=c[x]-E*d.width,$=r.top);var Te=Ot(Ot(Ot({},d),ne),{},{realScaleType:Q,x:A,y:$,scale:ae,width:i==="xAxis"?r.width:d.width,height:i==="yAxis"?r.height:d.height});return Te.bandSize=Do(Te,ne),!d.hide&&i==="xAxis"?c[x]+=(E?-1:1)*Te.height:d.hide||(c[x]+=(E?-1:1)*Te.width),Ot(Ot({},g),{},qs({},v,Te))},{})},Hb=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},S4=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return Hb({x:n,y:r},{x:i,y:a})},Gb=function(){function e(t){_4(this,e),this.scale=t}return b4(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}]),e}();qs(Gb,"EPS",1e-4);var ah=function(t){var n=Object.keys(t).reduce(function(r,i){return Ot(Ot({},r),{},qs({},i,Gb.create(t[i])))},{});return Ot(Ot({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return l4(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return Bb(i,function(a,o){return n[o].isInRange(a)})}})};function Xi(e){return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cg(Object(n),!0).forEach(function(r){O4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O4(e,t,n){return t=E4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E4(e){var t=A4(e,"string");return Xi(t)==="symbol"?t:String(t)}function A4(e,t){if(Xi(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T4(e,t){return $4(e)||I4(e,t)||P4(e,t)||C4()}function C4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P4(e,t){if(e){if(typeof e=="string")return hg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hg(e,t)}}function hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I4(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $4(e){if(Array.isArray(e))return e}function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fc.apply(this,arguments)}var k4=function(t,n){var r;return T.isValidElement(t)?r=T.cloneElement(t,n):K(t)?r=t(n):r=T.createElement("line",fc({},n,{className:"recharts-reference-line-line"})),r},M4=function(t,n,r,i,a){var o=a.viewBox,s=o.x,l=o.y,u=o.width,f=o.height,c=a.position;if(r){var h=a.y,g=a.yAxis.orientation,v=t.y.apply(h,{position:c});if(Dt(a,"discard")&&!t.y.isInRange(v))return null;var d=[{x:s+u,y:v},{x:s,y:v}];return g==="left"?d.reverse():d}if(n){var y=a.x,m=a.xAxis.orientation,b=t.x.apply(y,{position:c});if(Dt(a,"discard")&&!t.x.isInRange(b))return null;var p=[{x:b,y:l+f},{x:b,y:l}];return m==="top"?p.reverse():p}if(i){var _=a.segment,w=_.map(function(x){return t.apply(x,{position:c})});return Dt(a,"discard")&&G5(w,function(x){return!t.isInRange(x)})?null:w}return null};function oh(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxis,a=e.yAxis,o=e.shape,s=e.className,l=e.alwaysShow,u=e.clipPathId;ar(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ah({x:i.scale,y:a.scale}),c=ke(t),h=ke(n),g=r&&r.length===2,v=M4(f,c,h,g,e);if(!v)return null;var d=T4(v,2),y=d[0],m=y.x,b=y.y,p=d[1],_=p.x,w=p.y,x=Dt(e,"hidden")?"url(#".concat(u,")"):void 0,S=fg(fg({clipPath:x},se(e,!0)),{},{x1:m,y1:b,x2:_,y2:w});return T.createElement(Be,{className:ge("recharts-reference-line",s)},k4(o,S),ze.renderCallByParent(e,S4({x1:m,y1:b,x2:_,y2:w})))}oh.displayName="ReferenceLine";oh.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Qi(e){return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hc.apply(this,arguments)}function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dg(Object(n),!0).forEach(function(r){N4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N4(e,t,n){return t=R4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R4(e){var t=D4(e,"string");return Qi(t)==="symbol"?t:String(t)}function D4(e,t){if(Qi(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j4=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=ah({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Dt(t,"discard")&&!o.isInRange(s)?null:s};function ga(e){var t=e.x,n=e.y,r=e.r,i=e.alwaysShow,a=e.clipPathId,o=ke(t),s=ke(n);if(ar(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!s)return null;var l=j4(e);if(!l)return null;var u=l.x,f=l.y,c=e.shape,h=e.className,g=Dt(e,"hidden")?"url(#".concat(a,")"):void 0,v=pg(pg({clipPath:g},se(e,!0)),{},{cx:u,cy:f});return T.createElement(Be,{className:ge("recharts-reference-dot",h)},ga.renderDot(c,v),ze.renderCallByParent(e,{x:u-r,y:f-r,width:2*r,height:2*r}))}ga.displayName="ReferenceDot";ga.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};ga.renderDot=function(e,t){var n;return T.isValidElement(e)?n=T.cloneElement(e,t):K(e)?n=e(t):n=T.createElement(ih,hc({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n};function Ji(e){return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dc.apply(this,arguments)}function vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vg(Object(n),!0).forEach(function(r){L4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L4(e,t,n){return t=F4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F4(e){var t=B4(e,"string");return Ji(t)==="symbol"?t:String(t)}function B4(e,t){if(Ji(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ji(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W4=function(t,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,f=a.xAxis,c=a.yAxis;if(!f||!c)return null;var h=ah({x:f.scale,y:c.scale}),g={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Dt(a,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:Hb(g,v)};function ya(e){var t=e.x1,n=e.x2,r=e.y1,i=e.y2,a=e.className,o=e.alwaysShow,s=e.clipPathId;ar(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=ke(t),u=ke(n),f=ke(r),c=ke(i),h=e.shape;if(!l&&!u&&!f&&!c&&!h)return null;var g=W4(l,u,f,c,e);if(!g&&!h)return null;var v=Dt(e,"hidden")?"url(#".concat(s,")"):void 0;return T.createElement(Be,{className:ge("recharts-reference-area",a)},ya.renderRect(h,gg(gg({clipPath:v},se(e,!0)),g)),ze.renderCallByParent(e,g))}ya.displayName="ReferenceArea";ya.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};ya.renderRect=function(e,t){var n;return T.isValidElement(e)?n=T.cloneElement(e,t):K(e)?n=e(t):n=T.createElement(Gs,dc({},t,{className:"recharts-reference-area-rect"})),n};var U4=["viewBox"],H4=["viewBox"],G4=["ticks"];function kr(e){return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(e)}function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yg(Object(n),!0).forEach(function(r){sh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dl(e,t){if(e==null)return{};var n=z4(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function z4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function q4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zb(r.key),r)}}function V4(e,t,n){return t&&mg(e.prototype,t),n&&mg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function K4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pc(e,t)}function pc(e,t){return pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pc(e,t)}function Y4(e){var t=J4();return function(){var r=Xo(e),i;if(t){var a=Xo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return X4(this,i)}}function X4(e,t){if(t&&(kr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q4(e)}function Q4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xo(e){return Xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xo(e)}function sh(e,t,n){return t=zb(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zb(e){var t=Z4(e,"string");return kr(t)==="symbol"?t:String(t)}function Z4(e,t){if(kr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tn=function(e){K4(n,e);var t=Y4(n);function n(r){var i;return q4(this,n),i=t.call(this,r),i.state={fontSize:"",letterSpacing:""},i}return V4(n,[{key:"shouldComponentUpdate",value:function(i,a){var o=i.viewBox,s=Dl(i,U4),l=this.props,u=l.viewBox,f=Dl(l,H4);return!ir(o,u)||!ir(s,f)||!ir(a,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var a=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var a=this.props,o=a.x,s=a.y,l=a.width,u=a.height,f=a.orientation,c=a.tickSize,h=a.mirror,g=a.tickMargin,v,d,y,m,b,p,_=h?-1:1,w=i.tickSize||c,x=F(i.tickCoord)?i.tickCoord:i.coordinate;switch(f){case"top":v=d=i.coordinate,m=s+ +!h*u,y=m-_*w,p=y-_*g,b=x;break;case"left":y=m=i.coordinate,d=o+ +!h*l,v=d-_*w,b=v-_*g,p=x;break;case"right":y=m=i.coordinate,d=o+ +h*l,v=d+_*w,b=v+_*g,p=x;break;default:v=d=i.coordinate,m=s+ +h*u,y=m+_*w,p=y+_*g,b=x;break}return{line:{x1:v,y1:y,x2:d,y2:m},tick:{x:b,y:p}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,a=i.orientation,o=i.mirror,s;switch(a){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,a=i.orientation,o=i.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,f=i.mirror,c=i.axisLine,h=ue(ue(ue({},se(this.props)),se(c)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!f||u==="bottom"&&f);h=ue(ue({},h),{},{x1:a,y1:o+g*l,x2:a+s,y2:o+g*l})}else{var v=+(u==="left"&&!f||u==="right"&&f);h=ue(ue({},h),{},{x1:a+v*s,y1:o,x2:a+v*s,y2:o+l})}return T.createElement("line",Zn({},h,{className:ge("recharts-cartesian-axis-line",st(c,"className"))}))}},{key:"renderTicks",value:function(i,a,o){var s=this,l=this.props,u=l.tickLine,f=l.stroke,c=l.tick,h=l.tickFormatter,g=l.unit,v=n.getTicks(ue(ue({},this.props),{},{ticks:i}),a,o),d=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),m=se(this.props),b=se(c),p=ue(ue({},m),{},{fill:"none"},se(u)),_=v.map(function(w,x){var S=s.getTickLineCoord(w),O=S.line,A=S.tick,$=ue(ue(ue(ue({textAnchor:d,verticalAnchor:y},m),{},{stroke:"none",fill:f},b),A),{},{index:x,payload:w,visibleTicksCount:v.length,tickFormatter:h});return T.createElement(Be,Zn({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x)},eo(s.props,w,x)),u&&T.createElement("line",Zn({},p,O,{className:ge("recharts-cartesian-axis-tick-line",st(u,"className"))})),c&&n.renderTickItem(c,$,"".concat(K(h)?h(w.value,x):w.value).concat(g||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var i=this,a=this.props,o=a.axisLine,s=a.width,l=a.height,u=a.ticksGenerator,f=a.className,c=a.hide;if(c)return null;var h=this.props,g=h.ticks,v=Dl(h,G4),d=g;return K(u)&&(d=g&&g.length>0?u(this.props):u(v)),s<=0||l<=0||!d||!d.length?null:T.createElement(Be,{className:ge("recharts-cartesian-axis",f),ref:function(m){i.layerReference=m}},o&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),ze.renderCallByParent(this.props))}}],[{key:"getTicks",value:function(i,a,o){var s=i.tick,l=i.ticks,u=i.viewBox,f=i.minTickGap,c=i.orientation,h=i.interval,g=i.tickFormatter,v=i.unit;return!l||!l.length||!s?[]:F(h)||Vt.isSsr?n.getNumberIntervalTicks(l,typeof h=="number"&&F(h)?h:0):h==="preserveStartEnd"?n.getTicksStart({ticks:l,tickFormatter:g,viewBox:u,orientation:c,minTickGap:f,unit:v,fontSize:a,letterSpacing:o},!0):h==="preserveStart"?n.getTicksStart({ticks:l,tickFormatter:g,viewBox:u,orientation:c,minTickGap:f,unit:v,fontSize:a,letterSpacing:o}):n.getTicksEnd({ticks:l,tickFormatter:g,viewBox:u,orientation:c,minTickGap:f,unit:v,fontSize:a,letterSpacing:o})}},{key:"getNumberIntervalTicks",value:function(i,a){return i.filter(function(o,s){return s%(a+1)===0})}},{key:"getTicksStart",value:function(i,a){var o=i.ticks,s=i.tickFormatter,l=i.viewBox,u=i.orientation,f=i.minTickGap,c=i.unit,h=i.fontSize,g=i.letterSpacing,v=l.x,d=l.y,y=l.width,m=l.height,b=u==="top"||u==="bottom"?"width":"height",p=(o||[]).slice(),_=c&&b==="width"?An(c,{fontSize:h,letterSpacing:g})[b]:0,w=p.length,x=w>=2?yt(p[1].coordinate-p[0].coordinate):1,S,O;if(x===1?(S=b==="width"?v:d,O=b==="width"?v+y:d+m):(S=b==="width"?v+y:d+m,O=b==="width"?v:d),a){var A=o[w-1],$=K(s)?s(A.value,w-1):A.value,E=An($,{fontSize:h,letterSpacing:g})[b]+_,C=x*(A.coordinate+x*E/2-O);p[w-1]=A=ue(ue({},A),{},{tickCoord:C>0?A.coordinate-C*x:A.coordinate});var P=x*(A.tickCoord-x*E/2-S)>=0&&x*(A.tickCoord+x*E/2-O)<=0;P&&(O=A.tickCoord-x*(E/2+f),p[w-1]=ue(ue({},A),{},{isShow:!0}))}for(var M=a?w-1:w,I=0;I<M;I++){var R=p[I],U=K(s)?s(R.value,I):R.value,D=An(U,{fontSize:h,letterSpacing:g})[b]+_;if(I===0){var W=x*(R.coordinate-x*D/2-S);p[I]=R=ue(ue({},R),{},{tickCoord:W<0?R.coordinate-W*x:R.coordinate})}else p[I]=R=ue(ue({},R),{},{tickCoord:R.coordinate});var ae=x*(R.tickCoord-x*D/2-S)>=0&&x*(R.tickCoord+x*D/2-O)<=0;ae&&(S=R.tickCoord+x*(D/2+f),p[I]=ue(ue({},R),{},{isShow:!0}))}return p.filter(function(Q){return Q.isShow})}},{key:"getTicksEnd",value:function(i){var a=i.ticks,o=i.tickFormatter,s=i.viewBox,l=i.orientation,u=i.minTickGap,f=i.unit,c=i.fontSize,h=i.letterSpacing,g=s.x,v=s.y,d=s.width,y=s.height,m=l==="top"||l==="bottom"?"width":"height",b=f&&m==="width"?An(f,{fontSize:c,letterSpacing:h})[m]:0,p=(a||[]).slice(),_=p.length,w=_>=2?yt(p[1].coordinate-p[0].coordinate):1,x,S;w===1?(x=m==="width"?g:v,S=m==="width"?g+d:v+y):(x=m==="width"?g+d:v+y,S=m==="width"?g:v);for(var O=_-1;O>=0;O--){var A=p[O],$=K(o)?o(A.value,_-O-1):A.value,E=An($,{fontSize:c,letterSpacing:h})[m]+b;if(O===_-1){var C=w*(A.coordinate+w*E/2-S);p[O]=A=ue(ue({},A),{},{tickCoord:C>0?A.coordinate-C*w:A.coordinate})}else p[O]=A=ue(ue({},A),{},{tickCoord:A.coordinate});var P=w*(A.tickCoord-w*E/2-x)>=0&&w*(A.tickCoord+w*E/2-S)<=0;P&&(S=A.tickCoord-w*(E/2+u),p[O]=ue(ue({},A),{},{isShow:!0}))}return p.filter(function(M){return M.isShow})}},{key:"renderTickItem",value:function(i,a,o){var s;return T.isValidElement(i)?s=T.cloneElement(i,a):K(i)?s=i(a):s=T.createElement(Ni,Zn({},a,{className:"recharts-cartesian-axis-tick-value"}),o),s}}]),n}(B.Component);sh(Tn,"displayName","CartesianAxis");sh(Tn,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eH=["x1","y1","x2","y2","key"];function Mr(e){return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(e)}function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vc.apply(this,arguments)}function tH(e,t){if(e==null)return{};var n=nH(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_g(Object(n),!0).forEach(function(r){lh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_g(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qb(r.key),r)}}function iH(e,t,n){return t&&bg(e.prototype,t),n&&bg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gc(e,t)}function gc(e,t){return gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gc(e,t)}function oH(e){var t=uH();return function(){var r=Qo(e),i;if(t){var a=Qo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return sH(this,i)}}function sH(e,t){if(t&&(Mr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lH(e)}function lH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qo(e){return Qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qo(e)}function lh(e,t,n){return t=qb(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qb(e){var t=cH(e,"string");return Mr(t)==="symbol"?t:String(t)}function cH(e,t){if(Mr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uh=function(e){aH(n,e);var t=oH(n);function n(){return rH(this,n),t.apply(this,arguments)}return iH(n,[{key:"renderHorizontal",value:function(i){var a=this,o=this.props,s=o.x,l=o.width,u=o.horizontal;if(!i||!i.length)return null;var f=i.map(function(c,h){var g=Da(Da({},a.props),{},{x1:s,y1:c,x2:s+l,y2:c,key:"line-".concat(h),index:h});return n.renderLineItem(u,g)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}},{key:"renderVertical",value:function(i){var a=this,o=this.props,s=o.y,l=o.height,u=o.vertical;if(!i||!i.length)return null;var f=i.map(function(c,h){var g=Da(Da({},a.props),{},{x1:c,y1:s,x2:c,y2:s+l,key:"line-".concat(h),index:h});return n.renderLineItem(u,g)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}},{key:"renderVerticalStripes",value:function(i){var a=this.props.verticalFill;if(!a||!a.length)return null;var o=this.props,s=o.fillOpacity,l=o.x,u=o.y,f=o.width,c=o.height,h=i.map(function(v){return Math.round(v+l-l)}).sort(function(v,d){return v-d});l!==h[0]&&h.unshift(0);var g=h.map(function(v,d){var y=!h[d+1],m=y?l+f-v:h[d+1]-v;if(m<=0)return null;var b=d%a.length;return T.createElement("rect",{key:"react-".concat(d),x:v,y:u,width:m,height:c,stroke:"none",fill:a[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}},{key:"renderHorizontalStripes",value:function(i){var a=this.props.horizontalFill;if(!a||!a.length)return null;var o=this.props,s=o.fillOpacity,l=o.x,u=o.y,f=o.width,c=o.height,h=i.map(function(v){return Math.round(v+u-u)}).sort(function(v,d){return v-d});u!==h[0]&&h.unshift(0);var g=h.map(function(v,d){var y=!h[d+1],m=y?u+c-v:h[d+1]-v;if(m<=0)return null;var b=d%a.length;return T.createElement("rect",{key:"react-".concat(d),y:v,x:l,height:m,width:f,stroke:"none",fill:a[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var a=this.props,o=a.fillOpacity,s=a.x,l=a.y,u=a.width,f=a.height;return T.createElement("rect",{x:s,y:l,width:u,height:f,stroke:"none",fill:i,fillOpacity:o,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.horizontal,f=i.vertical,c=i.horizontalCoordinatesGenerator,h=i.verticalCoordinatesGenerator,g=i.xAxis,v=i.yAxis,d=i.offset,y=i.chartWidth,m=i.chartHeight;if(!F(s)||s<=0||!F(l)||l<=0||!F(a)||a!==+a||!F(o)||o!==+o)return null;var b=this.props,p=b.horizontalPoints,_=b.verticalPoints;return(!p||!p.length)&&K(c)&&(p=c({yAxis:v,width:y,height:m,offset:d})),(!_||!_.length)&&K(h)&&(_=h({xAxis:g,width:y,height:m,offset:d})),T.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),u&&this.renderHorizontal(p),f&&this.renderVertical(_),u&&this.renderHorizontalStripes(p),f&&this.renderVerticalStripes(_))}}],[{key:"renderLineItem",value:function(i,a){var o;if(T.isValidElement(i))o=T.cloneElement(i,a);else if(K(i))o=i(a);else{var s=a.x1,l=a.y1,u=a.x2,f=a.y2,c=a.key,h=tH(a,eH);o=T.createElement("line",vc({},se(h),{x1:s,y1:l,x2:u,y2:f,fill:"none",key:c}))}return o}}]),n}(B.PureComponent);lh(uh,"displayName","CartesianGrid");lh(uh,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var fH=["type","layout","connectNulls","ref"];function Nr(e){return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(e)}function hH(e,t){if(e==null)return{};var n=dH(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wi.apply(this,arguments)}function xg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xg(Object(n),!0).forEach(function(r){Mt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qn(e){return yH(e)||gH(e)||vH(e)||pH()}function pH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vH(e,t){if(e){if(typeof e=="string")return yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yc(e,t)}}function gH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yH(e){if(Array.isArray(e))return yc(e)}function yc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vb(r.key),r)}}function _H(e,t,n){return t&&wg(e.prototype,t),n&&wg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mc(e,t)}function mc(e,t){return mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mc(e,t)}function xH(e){var t=SH();return function(){var r=Jo(e),i;if(t){var a=Jo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return wH(this,i)}}function wH(e,t){if(t&&(Nr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return En(e)}function En(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jo(e){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jo(e)}function Mt(e,t,n){return t=Vb(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vb(e){var t=OH(e,"string");return Nr(t)==="symbol"?t:String(t)}function OH(e,t){if(Nr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ma=function(e){bH(n,e);var t=xH(n);function n(){var r;mH(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Mt(En(r),"state",{isAnimationFinished:!0,totalLength:0}),Mt(En(r),"getStrokeDasharray",function(s,l,u){for(var f=u.reduce(function(b,p){return b+p}),c=Math.floor(s/f),h=s%f,g=l-s,v=[],d=0,y=0;;y+=u[d],++d)if(y+u[d]>h){v=[].concat(Qn(u.slice(0,d)),[h-y]);break}var m=v.length%2===0?[0,g]:[g];return[].concat(Qn(n.repeat(u,c)),Qn(v),m).map(function(b){return"".concat(b,"px")}).join(", ")}),Mt(En(r),"id",la("recharts-line-")),Mt(En(r),"pathRef",function(s){r.mainCurve=s}),Mt(En(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Mt(En(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return _H(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,l=i.layout,u=i.children,f=_t(u,va);if(!f)return null;function c(h,g){return{x:h.x,y:h.y,value:h.value,errorVal:lt(h.payload,g)}}return f.map(function(h,g){return T.cloneElement(h,{key:"bar-".concat(g),data:a,xAxis:o,yAxis:s,layout:l,dataPointFormatter:c})})}},{key:"renderDots",value:function(i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,f=s.dataKey,c=se(this.props),h=se(l,!0),g=u.map(function(d,y){var m=it(it(it({key:"dot-".concat(y),r:3},c),h),{},{value:d.value,dataKey:f,cx:d.x,cy:d.y,index:y,payload:d.payload});return n.renderDotItem(l,m)}),v={clipPath:i?"url(#clipPath-".concat(a,")"):null};return T.createElement(Be,wi({className:"recharts-line-dots",key:"dots"},v,{role:"img"}),g)}},{key:"renderCurveStatically",value:function(i,a,o,s){var l=this.props,u=l.type,f=l.layout,c=l.connectNulls;l.ref;var h=hH(l,fH),g=it(it(it({},se(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:i},s),{},{type:u,layout:f,connectNulls:c});return T.createElement(Wo,wi({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,a){var o=this,s=this.props,l=s.points,u=s.strokeDasharray,f=s.isAnimationActive,c=s.animationBegin,h=s.animationDuration,g=s.animationEasing,v=s.animationId,d=s.animateNewValues,y=s.width,m=s.height,b=this.state,p=b.prevPoints,_=b.totalLength;return T.createElement(Wn,{begin:c,duration:h,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var x=w.t;if(p){var S=p.length/l.length,O=l.map(function(P,M){var I=Math.floor(M*S);if(p[I]){var R=p[I],U=Et(R.x,P.x),D=Et(R.y,P.y);return it(it({},P),{},{x:U(x),y:D(x)})}if(d){var W=Et(y*2,P.x),ae=Et(m/2,P.y);return it(it({},P),{},{x:W(x),y:ae(x)})}return it(it({},P),{},{x:P.x,y:P.y})});return o.renderCurveStatically(O,i,a)}var A=Et(0,_),$=A(x),E;if(u){var C="".concat(u).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});E=o.getStrokeDasharray($,_,C)}else E="".concat($,"px ").concat(_-$,"px");return o.renderCurveStatically(l,i,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(i,a){var o=this.props,s=o.points,l=o.isAnimationActive,u=this.state,f=u.prevPoints,c=u.totalLength;return l&&s&&s.length&&(!f&&c>0||!kf(f,s))?this.renderCurveWithAnimation(i,a):this.renderCurveStatically(s,i,a)}},{key:"render",value:function(){var i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,f=i.yAxis,c=i.top,h=i.left,g=i.width,v=i.height,d=i.isAnimationActive,y=i.id;if(a||!s||!s.length)return null;var m=this.state.isAnimationFinished,b=s.length===1,p=ge("recharts-line",l),_=u&&u.allowDataOverflow||f&&f.allowDataOverflow,w=z(y)?this.id:y;return T.createElement(Be,{className:p},_?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(w)},T.createElement("rect",{x:h,y:c,width:g,height:v}))):null,!b&&this.renderCurve(_,w),this.renderErrorBar(),(b||o)&&this.renderDots(_,w),(!d||m)&&Yt.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:a.curPoints}:i.points!==a.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,a){for(var o=i.length%2!==0?[].concat(Qn(i),[0]):i,s=[],l=0;l<a;++l)s=[].concat(Qn(s),Qn(o));return s}},{key:"renderDotItem",value:function(i,a){var o;if(T.isValidElement(i))o=T.cloneElement(i,a);else if(K(i))o=i(a);else{var s=ge("recharts-line-dot",i?i.className:"");o=T.createElement(ih,wi({},a,{className:s}))}return o}}]),n}(B.PureComponent);Mt(ma,"displayName","Line");Mt(ma,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Mt(ma,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,f=t.layout,c=l.map(function(h,g){var v=lt(h,o);return f==="horizontal"?{x:Mv({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:z(v)?null:r.scale(v),value:v,payload:h}:{x:z(v)?null:n.scale(v),y:Mv({axis:r,ticks:a,bandSize:s,entry:h,index:g}),value:v,payload:h}});return it({points:c,layout:f},u)});var Vs=function(){return null};Vs.displayName="XAxis";Vs.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",domain:[0,"auto"],padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var Ks=function(){return null};Ks.displayName="YAxis";Ks.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",domain:[0,"auto"],padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var EH=mn,AH=ua,TH=As;function CH(e){return function(t,n,r){var i=Object(t);if(!AH(t)){var a=EH(n);t=TH(t),n=function(s){return a(i[s],s,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var PH=CH,IH=jb;function $H(e){var t=IH(e),n=t%1;return t===t?n?t-n:t:0}var kH=$H,MH=Em,NH=mn,RH=kH,DH=Math.max;function jH(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:RH(n);return i<0&&(i=DH(r+i,0)),MH(e,NH(t),i)}var LH=jH,FH=PH,BH=LH,WH=FH(BH),UH=WH,HH=d_,GH=ut,zH="Expected a function";function qH(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(zH);return GH(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),HH(e,t,{leading:r,maxWait:t,trailing:i})}var VH=qH,KH=gn,YH=yn,XH="[object Boolean]";function QH(e){return e===!0||e===!1||YH(e)&&KH(e)==XH}var JH=QH;function Sg(e){return nG(e)||tG(e)||eG(e)||ZH()}function ZH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(e,t){if(e){if(typeof e=="string")return _c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _c(e,t)}}function tG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nG(e){if(Array.isArray(e))return _c(e)}function _c(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bc=function(t,n,r,i,a){var o=_t(t,oh),s=_t(t,ga),l=[].concat(Sg(o),Sg(s)),u=_t(t,ya),f="".concat(i,"Id"),c=i[0],h=n;if(l.length&&(h=l.reduce(function(d,y){if(y.props[f]===r&&Dt(y.props,"extendDomain")&&F(y.props[c])){var m=y.props[c];return[Math.min(d[0],m),Math.max(d[1],m)]}return d},h)),u.length){var g="".concat(c,"1"),v="".concat(c,"2");h=u.reduce(function(d,y){if(y.props[f]===r&&Dt(y.props,"extendDomain")&&F(y.props[g])&&F(y.props[v])){var m=y.props[g],b=y.props[v];return[Math.min(d[0],m,b),Math.max(d[1],m,b)]}return d},h)}return a&&a.length&&(h=a.reduce(function(d,y){return F(y)?[Math.min(d[0],y),Math.max(d[1],y)]:d},h)),h},xc={},rG={get exports(){return xc},set exports(e){xc=e}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function a(l,u,f,c,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,c||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,c;if(this._eventsCount===0)return u;for(c in f=this._events)t.call(f,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,c=this._events[f];if(!c)return[];if(c.fn)return[c.fn];for(var h=0,g=c.length,v=new Array(g);h<g;h++)v[h]=c[h].fn;return v},s.prototype.listenerCount=function(u){var f=n?n+u:u,c=this._events[f];return c?c.fn?1:c.length:0},s.prototype.emit=function(u,f,c,h,g,v){var d=n?n+u:u;if(!this._events[d])return!1;var y=this._events[d],m=arguments.length,b,p;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,c),!0;case 4:return y.fn.call(y.context,f,c,h),!0;case 5:return y.fn.call(y.context,f,c,h,g),!0;case 6:return y.fn.call(y.context,f,c,h,g,v),!0}for(p=1,b=new Array(m-1);p<m;p++)b[p-1]=arguments[p];y.fn.apply(y.context,b)}else{var _=y.length,w;for(p=0;p<_;p++)switch(y[p].once&&this.removeListener(u,y[p].fn,void 0,!0),m){case 1:y[p].fn.call(y[p].context);break;case 2:y[p].fn.call(y[p].context,f);break;case 3:y[p].fn.call(y[p].context,f,c);break;case 4:y[p].fn.call(y[p].context,f,c,h);break;default:if(!b)for(w=1,b=new Array(m-1);w<m;w++)b[w-1]=arguments[w];y[p].fn.apply(y[p].context,b)}}return!0},s.prototype.on=function(u,f,c){return a(this,u,f,c,!1)},s.prototype.once=function(u,f,c){return a(this,u,f,c,!0)},s.prototype.removeListener=function(u,f,c,h){var g=n?n+u:u;if(!this._events[g])return this;if(!f)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!h||v.once)&&(!c||v.context===c)&&o(this,g);else{for(var d=0,y=[],m=v.length;d<m;d++)(v[d].fn!==f||h&&!v[d].once||c&&v[d].context!==c)&&y.push(v[d]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(rG);const iG=xc;var at=new iG;at.setMaxListeners&&at.setMaxListeners(10);var jl="recharts.syncMouseEvents",aG=["item"],oG=["children","className","width","height","style","compact","title","desc"];function Rr(e){return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rr(e)}function Og(e,t){return uG(e)||lG(e,t)||Kb(e,t)||sG()}function sG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lG(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function uG(e){if(Array.isArray(e))return e}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}function Eg(e,t){if(e==null)return{};var n=cG(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cG(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function fG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ag(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yb(r.key),r)}}function hG(e,t,n){return t&&Ag(e.prototype,t),n&&Ag(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wc(e,t)}function wc(e,t){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wc(e,t)}function pG(e){var t=gG();return function(){var r=Zo(e),i;if(t){var a=Zo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return vG(this,i)}}function vG(e,t){if(t&&(Rr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}function ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zo(e){return Zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zo(e)}function Dr(e){return _G(e)||mG(e)||Kb(e)||yG()}function yG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kb(e,t){if(e){if(typeof e=="string")return Sc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sc(e,t)}}function mG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _G(e){if(Array.isArray(e))return Sc(e)}function Sc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tg(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q(e,t,n){return t=Yb(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yb(e){var t=bG(e,"string");return Rr(t)==="symbol"?t:String(t)}function bG(e,t){if(Rr(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xG={xAxis:["bottom","top"],yAxis:["left","right"]},Xb={x:0,y:0},wG=Number.isFinite?Number.isFinite:isFinite,Cg=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:setTimeout,Pg=typeof cancelAnimationFrame=="function"?cancelAnimationFrame:typeof clearImmediate=="function"?clearImmediate:clearTimeout,SG=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},OG=function(t,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return k(k(k({},i),qe(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return k(k(k({},i),qe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Xb},Ys=function(t,n,r){var i=n.graphicalItems,a=n.dataStartIndex,o=n.dataEndIndex,s=(i||[]).reduce(function(l,u){var f=u.props.data;return f&&f.length?[].concat(Dr(l),Dr(f)):l},[]);return s&&s.length>0?s:r&&r.props&&r.props.data&&r.props.data.length>0?r.props.data:t&&t.length&&F(a)&&F(o)?t.slice(a,o+1):[]},Qb=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,s=Ys(n,t);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var f=u.props.hide;if(f)return l;var c=u.props.data,h;if(o.dataKey&&!o.allowDuplicatedCategory){var g=c===void 0?s:c;h=Ja(g,o.dataKey,i)}else h=c&&c[r]||s[r];return h?[].concat(Dr(l),[Eb(u,h)]):l},[])},Ig=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=SG(a,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,f=dW(o,s,u,l);if(f>=0&&u){var c=u[f]&&u[f].value,h=Qb(t,n,f,c),g=OG(r,s,f,a);return{activeTooltipIndex:f,activeLabel:c,activePayload:h,activeCoordinate:g}}return null},EG=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,c=t.children,h=t.stackOffset,g=wb(f,a),v=r.reduce(function(d,y){var m=y.props,b=m.type,p=m.dataKey,_=m.allowDataOverflow,w=m.allowDuplicatedCategory,x=m.scale,S=m.ticks,O=y.props[o];if(d[O])return d;var A=Ys(t.data,{graphicalItems:i.filter(function(D){return D.props[o]===O}),dataStartIndex:l,dataEndIndex:u}),$=A.length,E,C,P;if(p){if(E=Ro(A,p,b),b==="category"&&g){var M=fA(E);w&&M?(C=E,E=qo(0,$)):w||(E=jv(y.props.domain,E,y).reduce(function(D,W){return D.indexOf(W)>=0?D:[].concat(Dr(D),[W])},[]))}else if(b==="category")w?E=E.filter(function(D){return D!==""&&!z(D)}):E=jv(y.props.domain,E,y).reduce(function(D,W){return D.indexOf(W)>=0||W===""||z(W)?D:[].concat(Dr(D),[W])},[]);else if(b==="number"){var I=mW(A,i.filter(function(D){return D.props[o]===O&&!D.props.hide}),p,a,f);I&&(E=I)}g&&(b==="number"||x!=="auto")&&(P=Ro(A,p,"category"))}else g?E=qo(0,$):s&&s[O]&&s[O].hasStack&&b==="number"?E=h==="expand"?[0,1]:Sb(s[O].stackGroups,l,u):E=xb(A,i.filter(function(D){return D.props[o]===O&&!D.props.hide}),b,f,!0);if(b==="number")E=bc(c,E,O,a,S),y.props.domain&&(E=Ob(y.props.domain,E,_));else if(b==="category"&&y.props.domain){var R=y.props.domain,U=E.every(function(D){return R.indexOf(D)>=0});U&&(E=R)}return k(k({},d),{},q({},O,k(k({},y.props),{},{axisType:a,domain:E,categoricalDomain:P,duplicateDomain:C,originalDomain:y.props.domain,isCategorical:g,layout:f})))},{});return v},AG=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,c=t.children,h=Ys(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=wb(f,a),d=-1,y=r.reduce(function(m,b){var p=b.props[o];if(!m[p]){d++;var _;return v?_=qo(0,g):s&&s[p]&&s[p].hasStack?(_=Sb(s[p].stackGroups,l,u),_=bc(c,_,p,a)):(_=Ob(i.defaultProps.domain,xb(h,r.filter(function(w){return w.props[o]===p&&!w.props.hide}),"number",f),i.defaultProps.allowDataOverflow),_=bc(c,_,p,a)),k(k({},m),{},q({},p,k(k({axisType:a},i.defaultProps),{},{hide:!0,orientation:st(xG,"".concat(a,".").concat(d%2),null),domain:_,originalDomain:i.defaultProps.domain,isCategorical:v,layout:f})))}return m},{});return y},TG=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=t.children,c="".concat(i,"Id"),h=_t(f,a),g={};return h&&h.length?g=EG(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(g=AG(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},CG=function(t){var n=rn(t),r=an(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Tf(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Do(n,r)}},$g=function(t){var n,r,i=t.children,a=t.defaultShowTooltip,o=Ht(i,Ki),s=o&&o.props&&o.props.startIndex||0,l=(o==null||(n=o.props)===null||n===void 0?void 0:n.endIndex)!==void 0?o==null||(r=o.props)===null||r===void 0?void 0:r.endIndex:t.data&&t.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:z(a)?!1:a}},PG=function(t){return!t||!t.length?!1:t.some(function(n){var r=cn(n&&n.type);return r&&r.indexOf("Bar")>=0})},kg=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},IG=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,u=r.width,f=r.height,c=r.children,h=r.margin||{},g=Ht(c,Ki),v=Ht(c,yr),d=Object.keys(l).reduce(function(p,_){var w=l[_],x=w.orientation;return!w.mirror&&!w.hide?k(k({},p),{},q({},x,p[x]+w.width)):p},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(p,_){var w=o[_],x=w.orientation;return!w.mirror&&!w.hide?k(k({},p),{},q({},x,st(p,"".concat(x))+w.height)):p},{top:h.top||0,bottom:h.bottom||0}),m=k(k({},y),d),b=m.bottom;return g&&(m.bottom+=g.props.height||Ki.defaultProps.height),v&&n&&(m=gW(m,i,r,n)),k(k({brushBottom:b},m),{},{width:u-m.left-m.right,height:f-m.top-m.bottom})},$G=function(t){var n,r=t.chartName,i=t.GraphicalChild,a=t.defaultTooltipEventType,o=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,u=t.axisComponents,f=t.legendContent,c=t.formatAxisMap,h=t.defaultProps,g=function(y,m){var b=m.graphicalItems,p=m.stackGroups,_=m.offset,w=m.updateId,x=m.dataStartIndex,S=m.dataEndIndex,O=y.barSize,A=y.layout,$=y.barGap,E=y.barCategoryGap,C=y.maxBarSize,P=kg(A),M=P.numericAxisName,I=P.cateAxisName,R=PG(b),U=R&&pW({barSize:O,stackGroups:p}),D=[];return b.forEach(function(W,ae){var Q=Ys(y.data,{dataStartIndex:x,dataEndIndex:S},W),ne=W.props,Te=ne.dataKey,be=ne.maxBarSize,He=W.props["".concat(M,"Id")],wt=W.props["".concat(I,"Id")],Ye=u.reduce(function(Zr,_a){var ba,ch=m["".concat(_a.axisType,"Map")],Jb=W.props["".concat(_a.axisType,"Id")],fh=ch&&ch[Jb];return k(k({},Zr),{},(ba={},q(ba,_a.axisType,fh),q(ba,"".concat(_a.axisType,"Ticks"),an(fh)),ba))},{}),ie=Ye[I],j=Ye["".concat(I,"Ticks")],G=p&&p[He]&&p[He].hasStack&&IW(W,p[He].stackGroups),Y=cn(W.type).indexOf("Bar")>=0,N=Do(ie,j),fe=[];if(Y){var re,Ee,Ce=z(be)?C:be,ft=(re=(Ee=Do(ie,j,!0))!==null&&Ee!==void 0?Ee:Ce)!==null&&re!==void 0?re:0;fe=vW({barGap:$,barCategoryGap:E,bandSize:ft!==N?ft:N,sizeList:U[wt],maxBarSize:Ce}),ft!==N&&(fe=fe.map(function(Zr){return k(k({},Zr),{},{position:k(k({},Zr.position),{},{offset:Zr.position.offset-ft/2})})}))}var Qr=W&&W.type&&W.type.getComposedData;if(Qr){var Jr;D.push({props:k(k({},Qr(k(k({},Ye),{},{displayedData:Q,props:y,dataKey:Te,item:W,bandSize:N,barPosition:fe,offset:_,stackedData:G,layout:A,dataStartIndex:x,dataEndIndex:S}))),{},(Jr={key:W.key||"item-".concat(ae)},q(Jr,M,Ye[M]),q(Jr,I,Ye[I]),q(Jr,"animationId",w),Jr)),childIndex:xA(W,y.children),item:W})}}),D},v=function(y,m){var b=y.props,p=y.dataStartIndex,_=y.dataEndIndex,w=y.updateId;if(!ud({props:b}))return null;var x=b.children,S=b.layout,O=b.stackOffset,A=b.data,$=b.reverseStackOrder,E=kg(S),C=E.numericAxisName,P=E.cateAxisName,M=_t(x,i),I=TW(A,M,"".concat(C,"Id"),"".concat(P,"Id"),O,$),R=u.reduce(function(Q,ne){var Te="".concat(ne.axisType,"Map");return k(k({},Q),{},q({},Te,TG(b,k(k({},ne),{},{graphicalItems:M,stackGroups:ne.axisType===C&&I,dataStartIndex:p,dataEndIndex:_}))))},{}),U=IG(k(k({},R),{},{props:b,graphicalItems:M}),m==null?void 0:m.legendBBox);Object.keys(R).forEach(function(Q){R[Q]=c(b,R[Q],U,Q.replace("Map",""),r)});var D=R["".concat(P,"Map")],W=CG(D),ae=g(b,k(k({},R),{},{dataStartIndex:p,dataEndIndex:_,updateId:w,graphicalItems:M,stackGroups:I,offset:U}));return k(k({formattedGraphicalItems:ae,graphicalItems:M,offset:U,stackGroups:I},W),R)};return n=function(d){dG(m,d);var y=pG(m);function m(b){var p;return fG(this,m),p=y.call(this,b),q(ee(p),"clearDeferId",function(){!z(p.deferId)&&Pg&&Pg(p.deferId),p.deferId=null}),q(ee(p),"handleLegendBBoxUpdate",function(_){if(_){var w=p.state,x=w.dataStartIndex,S=w.dataEndIndex,O=w.updateId;p.setState(k({legendBBox:_},v({props:p.props,dataStartIndex:x,dataEndIndex:S,updateId:O},k(k({},p.state),{},{legendBBox:_}))))}}),q(ee(p),"handleReceiveSyncEvent",function(_,w,x){var S=p.props.syncId;S===_&&w!==p.uniqueChartId&&(p.clearDeferId(),p.deferId=Cg&&Cg(p.applySyncEvent.bind(ee(p),x)))}),q(ee(p),"handleBrushChange",function(_){var w=_.startIndex,x=_.endIndex;if(w!==p.state.dataStartIndex||x!==p.state.dataEndIndex){var S=p.state.updateId;p.setState(function(){return k({dataStartIndex:w,dataEndIndex:x},v({props:p.props,dataStartIndex:w,dataEndIndex:x,updateId:S},p.state))}),p.triggerSyncEvent({dataStartIndex:w,dataEndIndex:x})}}),q(ee(p),"handleMouseEnter",function(_){var w=p.props.onMouseEnter,x=p.getMouseInfo(_);if(x){var S=k(k({},x),{},{isTooltipActive:!0});p.setState(S),p.triggerSyncEvent(S),K(w)&&w(S,_)}}),q(ee(p),"triggeredAfterMouseMove",function(_){var w=p.props.onMouseMove,x=p.getMouseInfo(_),S=x?k(k({},x),{},{isTooltipActive:!0}):{isTooltipActive:!1};p.setState(S),p.triggerSyncEvent(S),K(w)&&w(S,_)}),q(ee(p),"handleItemMouseEnter",function(_){p.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),q(ee(p),"handleItemMouseLeave",function(){p.setState(function(){return{isTooltipActive:!1}})}),q(ee(p),"handleMouseMove",function(_){_&&K(_.persist)&&_.persist(),p.triggeredAfterMouseMove(_)}),q(ee(p),"handleMouseLeave",function(_){var w=p.props.onMouseLeave,x={isTooltipActive:!1};p.setState(x),p.triggerSyncEvent(x),K(w)&&w(x,_),p.cancelThrottledTriggerAfterMouseMove()}),q(ee(p),"handleOuterEvent",function(_){var w=bA(_),x=st(p.props,"".concat(w));if(w&&K(x)){var S;/.*touch.*/i.test(w)?S=p.getMouseInfo(_.changedTouches[0]):S=p.getMouseInfo(_);var O=x;O(S,_)}}),q(ee(p),"handleClick",function(_){var w=p.props.onClick,x=p.getMouseInfo(_);if(x){var S=k(k({},x),{},{isTooltipActive:!0});p.setState(S),p.triggerSyncEvent(S),K(w)&&w(S,_)}}),q(ee(p),"handleMouseDown",function(_){var w=p.props.onMouseDown;if(K(w)){var x=p.getMouseInfo(_);w(x,_)}}),q(ee(p),"handleMouseUp",function(_){var w=p.props.onMouseUp;if(K(w)){var x=p.getMouseInfo(_);w(x,_)}}),q(ee(p),"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&p.handleMouseMove(_.changedTouches[0])}),q(ee(p),"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&p.handleMouseDown(_.changedTouches[0])}),q(ee(p),"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&p.handleMouseUp(_.changedTouches[0])}),q(ee(p),"verticalCoordinatesGenerator",function(_){var w=_.xAxis,x=_.width,S=_.height,O=_.offset;return $v(Tn.getTicks(k(k(k({},Tn.defaultProps),w),{},{ticks:an(w,!0),viewBox:{x:0,y:0,width:x,height:S}})),O.left,O.left+O.width)}),q(ee(p),"horizontalCoordinatesGenerator",function(_){var w=_.yAxis,x=_.width,S=_.height,O=_.offset;return $v(Tn.getTicks(k(k(k({},Tn.defaultProps),w),{},{ticks:an(w,!0),viewBox:{x:0,y:0,width:x,height:S}})),O.top,O.top+O.height)}),q(ee(p),"axesTicksGenerator",function(_){return an(_,!0)}),q(ee(p),"renderCursor",function(_){var w=p.state,x=w.isTooltipActive,S=w.activeCoordinate,O=w.activePayload,A=w.offset,$=w.activeTooltipIndex,E=p.getTooltipEventType();if(!_||!_.props.cursor||!x||!S||r!=="ScatterChart"&&E!=="axis")return null;var C=p.props.layout,P,M=Wo;if(r==="ScatterChart")P=S,M=Db;else if(r==="BarChart")P=p.getCursorRectangle(),M=Gs;else if(C==="radial"){var I=p.getCursorPoints(),R=I.cx,U=I.cy,D=I.radius,W=I.startAngle,ae=I.endAngle;P={cx:R,cy:U,startAngle:W,endAngle:ae,innerRadius:D,outerRadius:D},M=Pb}else P={points:p.getCursorPoints()},M=Wo;var Q=_.key||"_recharts-cursor",ne=k(k(k(k({stroke:"#ccc",pointerEvents:"none"},A),P),se(_.props.cursor)),{},{payload:O,payloadIndex:$,key:Q,className:"recharts-tooltip-cursor"});return B.isValidElement(_.props.cursor)?B.cloneElement(_.props.cursor,ne):B.createElement(M,ne)}),q(ee(p),"renderPolarAxis",function(_,w,x){var S=st(_,"type.axisType"),O=st(p.state,"".concat(S,"Map")),A=O&&O[_.props["".concat(S,"Id")]];return B.cloneElement(_,k(k({},A),{},{className:S,key:_.key||"".concat(w,"-").concat(x),ticks:an(A,!0)}))}),q(ee(p),"renderXAxis",function(_,w,x){var S=p.state.xAxisMap,O=S[_.props.xAxisId];return p.renderAxis(O,_,w,x)}),q(ee(p),"renderYAxis",function(_,w,x){var S=p.state.yAxisMap,O=S[_.props.yAxisId];return p.renderAxis(O,_,w,x)}),q(ee(p),"renderGrid",function(_){var w=p.state,x=w.xAxisMap,S=w.yAxisMap,O=w.offset,A=p.props,$=A.width,E=A.height,C=rn(x),P=UH(S,function(R){return Bb(R.domain,wG)}),M=P||rn(S),I=_.props||{};return B.cloneElement(_,{key:_.key||"grid",x:F(I.x)?I.x:O.left,y:F(I.y)?I.y:O.top,width:F(I.width)?I.width:O.width,height:F(I.height)?I.height:O.height,xAxis:C,yAxis:M,offset:O,chartWidth:$,chartHeight:E,verticalCoordinatesGenerator:I.verticalCoordinatesGenerator||p.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:I.horizontalCoordinatesGenerator||p.horizontalCoordinatesGenerator})}),q(ee(p),"renderPolarGrid",function(_){var w=_.props,x=w.radialLines,S=w.polarAngles,O=w.polarRadius,A=p.state,$=A.radiusAxisMap,E=A.angleAxisMap,C=rn($),P=rn(E),M=P.cx,I=P.cy,R=P.innerRadius,U=P.outerRadius;return B.cloneElement(_,{polarAngles:ce(S)?S:an(P,!0).map(function(D){return D.coordinate}),polarRadius:ce(O)?O:an(C,!0).map(function(D){return D.coordinate}),cx:M,cy:I,innerRadius:R,outerRadius:U,key:_.key||"polar-grid",radialLines:x})}),q(ee(p),"renderLegend",function(){var _=p.state.formattedGraphicalItems,w=p.props,x=w.children,S=w.width,O=w.height,A=p.props.margin||{},$=S-(A.left||0)-(A.right||0),E=_b({children:x,formattedGraphicalItems:_,legendWidth:$,legendContent:f});if(!E)return null;var C=E.item,P=Eg(E,aG);return B.cloneElement(C,k(k({},P),{},{chartWidth:S,chartHeight:O,margin:A,ref:function(I){p.legendInstance=I},onBBoxUpdate:p.handleLegendBBoxUpdate}))}),q(ee(p),"renderTooltip",function(){var _=p.props.children,w=Ht(_,kn);if(!w)return null;var x=p.state,S=x.isTooltipActive,O=x.activeCoordinate,A=x.activePayload,$=x.activeLabel,E=x.offset;return B.cloneElement(w,{viewBox:k(k({},E),{},{x:E.left,y:E.top}),active:S,label:$,payload:S?A:[],coordinate:O})}),q(ee(p),"renderBrush",function(_){var w=p.props,x=w.margin,S=w.data,O=p.state,A=O.offset,$=O.dataStartIndex,E=O.dataEndIndex,C=O.updateId;return B.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Ma(p.handleBrushChange,null,_.props.onChange),data:S,x:F(_.props.x)?_.props.x:A.left,y:F(_.props.y)?_.props.y:A.top+A.height+A.brushBottom-(x.bottom||0),width:F(_.props.width)?_.props.width:A.width,startIndex:$,endIndex:E,updateId:"brush-".concat(C)})}),q(ee(p),"renderReferenceElement",function(_,w,x){if(!_)return null;var S=ee(p),O=S.clipPathId,A=p.state,$=A.xAxisMap,E=A.yAxisMap,C=A.offset,P=_.props,M=P.xAxisId,I=P.yAxisId;return B.cloneElement(_,{key:_.key||"".concat(w,"-").concat(x),xAxis:$[M],yAxis:E[I],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:O})}),q(ee(p),"renderActivePoints",function(_){var w=_.item,x=_.activePoint,S=_.basePoint,O=_.childIndex,A=_.isRange,$=[],E=w.props.key,C=w.item.props,P=C.activeDot,M=C.dataKey,I=k(k({index:O,dataKey:M,cx:x.x,cy:x.y,r:4,fill:rh(w.item),strokeWidth:2,stroke:"#fff",payload:x.payload,value:x.value,key:"".concat(E,"-activePoint-").concat(O)},se(P)),Za(P));return $.push(m.renderActiveDot(P,I)),S?$.push(m.renderActiveDot(P,k(k({},I),{},{cx:S.x,cy:S.y,key:"".concat(E,"-basePoint-").concat(O)}))):A&&$.push(null),$}),q(ee(p),"renderGraphicChild",function(_,w,x){var S=p.filterFormatItem(_,w,x);if(!S)return null;var O=p.getTooltipEventType(),A=p.state,$=A.isTooltipActive,E=A.tooltipAxis,C=A.activeTooltipIndex,P=A.activeLabel,M=p.props.children,I=Ht(M,kn),R=S.props,U=R.points,D=R.isRange,W=R.baseLine,ae=S.item.props,Q=ae.activeDot,ne=ae.hide,Te=!ne&&$&&I&&Q&&C>=0,be={};O!=="axis"&&I&&I.props.trigger==="click"?be={onClick:Ma(p.handleItemMouseEnter,null,_.props.onCLick)}:O!=="axis"&&(be={onMouseLeave:Ma(p.handleItemMouseLeave,null,_.props.onMouseLeave),onMouseEnter:Ma(p.handleItemMouseEnter,null,_.props.onMouseEnter)});var He=B.cloneElement(_,k(k({},S.props),be));function wt(G){return typeof E.dataKey=="function"?E.dataKey(G.payload):null}if(Te){var Ye,ie;if(E.dataKey&&!E.allowDuplicatedCategory){var j=typeof E.dataKey=="function"?wt:"payload.".concat(E.dataKey.toString());Ye=Ja(U,j,P),ie=D&&W&&Ja(W,j,P)}else Ye=U[C],ie=D&&W&&W[C];if(!z(Ye))return[He].concat(Dr(p.renderActivePoints({item:S,activePoint:Ye,basePoint:ie,childIndex:C,isRange:D})))}return D?[He,null,null]:[He,null]}),q(ee(p),"renderCustomized",function(_,w,x){return B.cloneElement(_,k(k({key:"recharts-customized-".concat(x)},p.props),p.state))}),p.uniqueChartId=z(b.id)?la("recharts"):b.id,p.clipPathId="".concat(p.uniqueChartId,"-clip"),b.throttleDelay&&(p.triggeredAfterMouseMove=VH(p.triggeredAfterMouseMove,b.throttleDelay)),p.state={},p}return hG(m,[{key:"componentDidMount",value:function(){z(this.props.syncId)||this.addListener()}},{key:"componentDidUpdate",value:function(p){z(p.syncId)&&!z(this.props.syncId)&&this.addListener(),!z(p.syncId)&&z(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),z(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var p=Ht(this.props.children,kn);if(p&&JH(p.props.shared)){var _=p.props.shared?"axis":"item";return l.indexOf(_)>=0?_:o}return o}},{key:"getMouseInfo",value:function(p){if(!this.container)return null;var _=sL(this.container),w=lL(p,_),x=this.inRange(w.chartX,w.chartY);if(!x)return null;var S=this.state,O=S.xAxisMap,A=S.yAxisMap,$=this.getTooltipEventType();if($!=="axis"&&O&&A){var E=rn(O).scale,C=rn(A).scale,P=E&&E.invert?E.invert(w.chartX):null,M=C&&C.invert?C.invert(w.chartY):null;return k(k({},w),{},{xValue:P,yValue:M})}var I=Ig(this.state,this.props.data,this.props.layout,x);return I?k(k({},w),I):null}},{key:"getCursorRectangle",value:function(){var p=this.props.layout,_=this.state,w=_.activeCoordinate,x=_.offset,S=_.tooltipAxisBandSize,O=S/2;return{stroke:"none",fill:"#ccc",x:p==="horizontal"?w.x-O:x.left+.5,y:p==="horizontal"?x.top+.5:w.y-O,width:p==="horizontal"?S:x.width-1,height:p==="horizontal"?x.height-1:S}}},{key:"getCursorPoints",value:function(){var p=this.props.layout,_=this.state,w=_.activeCoordinate,x=_.offset,S,O,A,$;if(p==="horizontal")S=w.x,A=S,O=x.top,$=x.top+x.height;else if(p==="vertical")O=w.y,$=O,S=x.left,A=x.left+x.width;else if(!z(w.cx)||!z(w.cy))if(p==="centric"){var E=w.cx,C=w.cy,P=w.innerRadius,M=w.outerRadius,I=w.angle,R=qe(E,C,P,I),U=qe(E,C,M,I);S=R.x,O=R.y,A=U.x,$=U.y}else{var D=w.cx,W=w.cy,ae=w.radius,Q=w.startAngle,ne=w.endAngle,Te=qe(D,W,ae,Q),be=qe(D,W,ae,ne);return{points:[Te,be],cx:D,cy:W,radius:ae,startAngle:Q,endAngle:ne}}return[{x:S,y:O},{x:A,y:$}]}},{key:"inRange",value:function(p,_){var w=this.props.layout;if(w==="horizontal"||w==="vertical"){var x=this.state.offset,S=p>=x.left&&p<=x.left+x.width&&_>=x.top&&_<=x.top+x.height;return S?{x:p,y:_}:null}var O=this.state,A=O.angleAxisMap,$=O.radiusAxisMap;if(A&&$){var E=rn(A);return Bv({x:p,y:_},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var p=this.props.children,_=this.getTooltipEventType(),w=Ht(p,kn),x={};w&&_==="axis"&&(w.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=Za(this.props,this.handleOuterEvent);return k(k({},S),x)}},{key:"addListener",value:function(){at.on(jl,this.handleReceiveSyncEvent),at.setMaxListeners&&at._maxListeners&&at.setMaxListeners(at._maxListeners+1)}},{key:"removeListener",value:function(){at.removeListener(jl,this.handleReceiveSyncEvent),at.setMaxListeners&&at._maxListeners&&at.setMaxListeners(at._maxListeners-1)}},{key:"triggerSyncEvent",value:function(p){var _=this.props.syncId;z(_)||at.emit(jl,_,this.uniqueChartId,p)}},{key:"applySyncEvent",value:function(p){var _=this.props,w=_.layout,x=_.syncMethod,S=this.state.updateId,O=p.dataStartIndex,A=p.dataEndIndex;if(!z(p.dataStartIndex)||!z(p.dataEndIndex))this.setState(k({dataStartIndex:O,dataEndIndex:A},v({props:this.props,dataStartIndex:O,dataEndIndex:A,updateId:S},this.state)));else if(z(p.activeTooltipIndex))this.setState(p);else{var $=p.chartX,E=p.chartY,C=p.activeTooltipIndex,P=this.state,M=P.offset,I=P.tooltipTicks;if(!M)return;if(typeof x=="function")C=x(I,p);else if(x==="value"){C=-1;for(var R=0;R<I.length;R++)if(I[R].value===p.activeLabel){C=R;break}}var U=k(k({},M),{},{x:M.left,y:M.top}),D=Math.min($,U.x+U.width),W=Math.min(E,U.y+U.height),ae=I[C]&&I[C].value,Q=Qb(this.state,this.props.data,C),ne=I[C]?{x:w==="horizontal"?I[C].coordinate:D,y:w==="horizontal"?W:I[C].coordinate}:Xb;this.setState(k(k({},p),{},{activeLabel:ae,activeCoordinate:ne,activePayload:Q,activeTooltipIndex:C}))}}},{key:"filterFormatItem",value:function(p,_,w){for(var x=this.state.formattedGraphicalItems,S=0,O=x.length;S<O;S++){var A=x[S];if(A.item===p||A.props.key===p.key||_===cn(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderAxis",value:function(p,_,w,x){var S=this.props,O=S.width,A=S.height;return T.createElement(Tn,er({},p,{className:"recharts-".concat(p.axisType," ").concat(p.axisType),key:_.key||"".concat(w,"-").concat(x),viewBox:{x:0,y:0,width:O,height:A},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var p=this.clipPathId,_=this.state.offset,w=_.left,x=_.top,S=_.height,O=_.width;return T.createElement("defs",null,T.createElement("clipPath",{id:p},T.createElement("rect",{x:w,y:x,height:S,width:O})))}},{key:"getXScales",value:function(){var p=this.state.xAxisMap;return p?Object.entries(p).reduce(function(_,w){var x=Og(w,2),S=x[0],O=x[1];return k(k({},_),{},q({},S,O.scale))},{}):null}},{key:"getYScales",value:function(){var p=this.state.yAxisMap;return p?Object.entries(p).reduce(function(_,w){var x=Og(w,2),S=x[0],O=x[1];return k(k({},_),{},q({},S,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(p){var _,w;return(_=this.state.xAxisMap)===null||_===void 0||(w=_[p])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(p){var _,w;return(_=this.state.yAxisMap)===null||_===void 0||(w=_[p])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(p){var _=this.state.formattedGraphicalItems;if(_&&_.length)for(var w=0,x=_.length;w<x;w++){var S=_[w],O=S.props,A=S.item,$=cn(A.type);if($==="Bar"){var E=(O.data||[]).find(function(P){return zU(p,P)});if(E)return{graphicalItem:S,payload:E}}else if($==="RadialBar"){var C=(O.data||[]).find(function(P){return Bv(p,P)});if(C)return{graphicalItem:S,payload:C}}}return null}},{key:"render",value:function(){var p=this;if(!ud(this))return null;var _=this.props,w=_.children,x=_.className,S=_.width,O=_.height,A=_.style,$=_.compact,E=_.title,C=_.desc,P=Eg(_,oG),M=se(P),I={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if($)return T.createElement(eu,er({},M,{width:S,height:O,title:E,desc:C}),this.renderClipPath(),fd(w,I));var R=this.parseEventsOfWrapper();return T.createElement("div",er({className:ge("recharts-wrapper",x),style:k({position:"relative",cursor:"default",width:S,height:O},A)},R,{ref:function(D){p.container=D},role:"region"}),T.createElement(eu,er({},M,{width:S,height:O,title:E,desc:C}),this.renderClipPath(),fd(w,I)),this.renderLegend(),this.renderTooltip())}}]),m}(B.Component),q(n,"displayName",r),q(n,"defaultProps",k({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),q(n,"getDerivedStateFromProps",function(d,y){var m=d.data,b=d.children,p=d.width,_=d.height,w=d.layout,x=d.stackOffset,S=d.margin;if(z(y.updateId)){var O=$g(d);return k(k(k({},O),{},{updateId:0},v(k(k({props:d},O),{},{updateId:0}),y)),{},{prevData:m,prevWidth:p,prevHeight:_,prevLayout:w,prevStackOffset:x,prevMargin:S,prevChildren:b})}if(m!==y.prevData||p!==y.prevWidth||_!==y.prevHeight||w!==y.prevLayout||x!==y.prevStackOffset||!ir(S,y.prevMargin)){var A=$g(d),$={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},E=k(k({},Ig(y,m,w)),{},{updateId:y.updateId+1}),C=k(k(k({},A),$),E);return k(k(k({},C),v(k({props:d},C),y)),{},{prevData:m,prevWidth:p,prevHeight:_,prevLayout:w,prevStackOffset:x,prevMargin:S,prevChildren:b})}if(!cm(b,y.prevChildren)){var P=!z(m),M=P?y.updateId:y.updateId+1;return k(k({updateId:M},v(k(k({props:d},y),{},{updateId:M}),y)),{},{prevChildren:b})}return null}),q(n,"renderActiveDot",function(d,y){var m;return B.isValidElement(d)?m=B.cloneElement(d,y):K(d)?m=d(y):m=T.createElement(ih,y),T.createElement(Be,{className:"recharts-active-dot",key:y.key},m)}),n},kG=$G({chartName:"LineChart",GraphicalChild:ma,axisComponents:[{axisType:"xAxis",AxisComp:Vs},{axisType:"yAxis",AxisComp:Ks}],formatAxisMap:w4});const Mg=[{date:"2022/01/01",ratings:[5,5,5,5],notes:[],avg:5},{date:"2022/01/02",ratings:[3],avg:3,notes:[]},{date:"2023/01/01",ratings:[5,5,5,5],notes:[],avg:5},{date:"2023/01/02",ratings:[3],avg:3,notes:[]},{date:"2023/01/03",ratings:[2,3,1],avg:2,notes:[]},{date:"2023/01/04",ratings:[2,3,5],avg:4,notes:[]},{date:"2023/01/05",ratings:[5,5],avg:5,notes:[]}],Ng=e=>{const t=new Date(e);return`${t.getFullYear()}/${t.getMonth()<9?`0${t.getMonth()+1}`:t.getMonth()+1}/${t.getDate()<9?`0${t.getDate()}`:t.getDate()}`},LG=()=>{const{state:e}=_0(),t=P1(),[n,r]=B.useState("3");B.useState(-1);const[i,a]=B.useState(""),[o,s]=B.useState(Mg),[l,u]=B.useState(!1);B.useEffect(()=>{x1(Yh(t,"checkins")).then(h=>{if(h.exists()){const g=h.val(),d=Object.values(g).reduce((m,b)=>(m[b.date]=m[b.date]||[],m[b.date].push(b),m),Object.create(null)),y=Object.entries(d).map(([m,b])=>({date:m,ratings:[b.map(p=>p.rating)],notes:[b.map(p=>p.note)],avg:(b.reduce((p,_)=>parseInt(p)+parseInt(_.rating),0)/b.length).toFixed(1)}));y.filter(m=>m.date===Ng(Date.now())).length>0&&u(!0),s([...Mg,...y])}else console.log("No data available")}).catch(h=>{console.log("error get",h)})},[l]);const f=()=>{if(e.state==="SIGNED_IN"){const h=x0();b1(Yh(t,`checkins/${h}`),{rating:n,note:i,date:Ng(Date.now()),user:{uid:e.currentUser.uid,displayname:e.currentUser.displayName,photoURL:e.currentUser.photoURL},uidd:h}).then(()=>{u(!0)}).catch(g=>{console.log("error set",g)})}},c=({active:h,payload:g,label:v})=>{var d;return h&&g&&g.length?ht("div",{className:"bg-white rounded border border-gray-500 p-2",children:[de("p",{className:"font-semibold",children:v}),ht("p",{children:["Average rating: ",g[0].value]}),ht("p",{children:["All ratings: ",g[0].payload.ratings.toString()]}),ht("ul",{children:[de("li",{children:"All notes:"},"0"),(d=g[0].payload.notes)==null?void 0:d.map(y=>y==null?void 0:y.map((m,b)=>m.length>0&&de("li",{className:"block mt-1",children:`"${m}"`},b+1)))]})]}):null};return ht(ph,{children:[de(b0,{title:"TOP PAGE"}),e.state==="SIGNED_IN"&&ht("div",{children:[de("div",{className:"hero",children:de("div",{className:"text-center hero-content",children:ht("div",{children:[de("h1",{className:"mb-5 text-5xl font-bold",children:l?"Overview":"Check in"}),!l&&ht("div",{className:"grid gap-2",children:[ht("div",{className:"btn-group",children:[de("input",{type:"radio",onChange:h=>r(h.target.value),name:"options","data-title":"1",value:"1",className:"btn mask mask-star-2 opacity-30 bg-red-400 checked:!bg-red-400 checked:opacity-100 checked:!text-white"}),de("input",{type:"radio",onChange:h=>r(h.target.value),name:"options","data-title":"2",value:"2",className:"btn mask mask-star-2 opacity-30 bg-orange-400 checked:!bg-orange-400 checked:opacity-100 checked:!text-white"}),de("input",{type:"radio",onChange:h=>r(h.target.value),name:"options","data-title":"3",value:"3",className:"btn mask mask-star-2 opacity-30 bg-yellow-400 checked:!bg-yellow-400 checked:opacity-100 checked:!text-white"}),de("input",{type:"radio",onChange:h=>r(h.target.value),name:"options","data-title":"4",value:"4",className:"btn mask mask-star-2 opacity-30 bg-lime-400 checked:!bg-lime-400 checked:opacity-100 checked:!text-white"}),de("input",{type:"radio",onChange:h=>r(h.target.value),name:"options","data-title":"5",value:"5",className:"btn mask mask-star-2 opacity-30 bg-green-400 checked:!bg-green-400 checked:opacity-100 checked:!text-white"})]}),de("textarea",{value:i,onChange:h=>a(h.target.value),className:"w-full p-2 border border-gray-300 rounded"}),de("button",{onClick:f,className:"btn btn-primary btn-md",children:"Check in"})]})]})})}),de("div",{className:"w-full",style:{height:400},children:l&&ht(ph,{children:[de("div",{className:"w-full text-center mb-8",children:ht("div",{className:"btn-group m-auto",children:[de("input",{type:"radio",onChange:h=>console.log("7 days"),name:"options","data-title":"7 days",value:"1",className:"btn"}),de("input",{type:"radio",onChange:h=>console.log("2023"),name:"options","data-title":"2023",value:"2023",className:"btn"}),de("input",{type:"radio",onChange:h=>console.log("2022"),name:"options","data-title":"2022",value:"2022",className:"btn"}),de("input",{type:"radio",onChange:h=>console.log("All"),name:"options","data-title":"All",value:"-1",className:"btn"})]})}),de(Pj,{children:ht(kG,{width:500,height:300,data:o,margin:{top:10,right:40,left:0,bottom:10},children:[de(uh,{strokeDasharray:"3 3"}),de(Vs,{dataKey:"date"}),de(Ks,{}),de(kn,{content:de(c,{})}),de(yr,{}),de(ma,{type:"monotone",dataKey:"avg",stroke:"#1A8763",activeDot:{r:8}})]})})]})})]})]})};export{LG as Index};
