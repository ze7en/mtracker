import{a as L,g as jr,_ as Jb,b as Zb,c as e0,d as t0,e as n0,C as r0,r as hh,s as Ie,j as Oc,f as en,L as i0,h as a0,S as o0,i as s0,k as lr,m as Fa,l as Ec,D as Ac,n as Zi,o as es,p as l0,q as Ng,t as u0,u as c0,v as dh,w as Rg,x as f0,y as h0,z as d0,A as p0,B as v0,E as xa,F as B,R as T,G as X,H as g0,I as y0,J as m0,K as gt,M as ph,N as de}from"./index-560d7baf.js";import{H as _0}from"./Head-5db6f190.js";var Cn=256,Dg=[],vh=256,wa;for(;Cn--;)Dg[Cn]=(Cn+256).toString(16).substring(1);function b0(t){var e=0,n=t||11;if(!wa||Cn+n>vh*2)for(wa="",Cn=0;e<vh;e++)wa+=Dg[Math.random()*256|0];return wa.substring(Cn,Cn+++n)}const gh="@firebase/database",yh="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg="";function x0(t){jg=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ie(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Oc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return en(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new w0(e)}}catch{}return new S0},Pn=Lg("localStorage"),Ll=Lg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new i0("@firebase/database"),O0=function(){let t=1;return function(){return t++}}(),Fg=function(t){const e=a0(t),n=new o0;n.update(e);const r=n.digest();return s0.encodeByteArray(r)},ea=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ea.apply(null,r):typeof r=="object"?e+=Ie(r):e+=r,e+=" "}return e};let Rn=null,mh=!0;const E0=function(t,e){L(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(tr.logLevel=l0.VERBOSE,Rn=tr.log.bind(tr),e&&Ll.set("logging_enabled",!0)):typeof t=="function"?Rn=t:(Rn=null,Ll.remove("logging_enabled"))},Ke=function(...t){if(mh===!0&&(mh=!1,Rn===null&&Ll.get("logging_enabled")===!0&&E0(!0)),Rn){const e=ea.apply(null,t);Rn(e)}},ta=function(t){return function(...e){Ke(t,...e)}},Fl=function(...t){const e="FIREBASE INTERNAL ERROR: "+ea(...t);tr.error(e)},Xt=function(...t){const e=`FIREBASE FATAL ERROR: ${ea(...t)}`;throw tr.error(e),new Error(e)},nt=function(...t){const e="FIREBASE WARNING: "+ea(...t);tr.warn(e)},A0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},T0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ur="[MIN_NAME]",Ln="[MAX_NAME]",Lr=function(t,e){if(t===e)return 0;if(t===ur||e===Ln)return-1;if(e===ur||t===Ln)return 1;{const n=_h(t),r=_h(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},C0=function(t,e){return t===e?0:t<e?-1:1},ei=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ie(e))},Tc=function(t){if(typeof t!="object"||t===null)return Ie(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ie(e[r]),n+=":",n+=Tc(t[e[r]]);return n+="}",n},Wg=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function rt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Ug=function(t){L(!Bg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,a,o,s,l;t===0?(a=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(s=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=s+r,o=Math.round(t*Math.pow(2,n-s)-Math.pow(2,n))):(a=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(l=0;l<64;l+=8){let h=parseInt(f.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),c=c+h}return c.toLowerCase()},P0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},I0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const k0=new RegExp("^-?(0*)\\d{1,10}$"),M0=-2147483648,N0=2147483647,_h=function(t){if(k0.test(t)){const e=Number(t);if(e>=M0&&e<=N0)return e}return null},Fr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nt("Exception was thrown by user callback.",n),e},Math.floor(0))}},R0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(e)}}class nr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}nr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="5",Hg="v",Gg="s",zg="r",qg="f",Vg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Kg="ls",Yg="p",Bl="ac",Xg="websocket",Qg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,r,i,a=!1,o="",s=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function L0(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Zg(t,e,n){L(typeof e=="string","typeof type must == string"),L(typeof n=="object","typeof params must == object");let r;if(e===Xg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Qg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);L0(t)&&(n.ns=t.namespace);const i=[];return rt(n,(a,o)=>{i.push(a+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.counters_={}}incrementCounter(e,n=1){en(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return d0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs={},Qs={};function Pc(t){const e=t.toString();return Xs[e]||(Xs[e]=new F0),Xs[e]}function B0(t,e){const n=t.toString();return Qs[n]||(Qs[n]=e()),Qs[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Fr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="start",U0="close",H0="pLPCommand",G0="pRTLPCB",ey="id",ty="pw",ny="ser",z0="cb",q0="seg",V0="ts",K0="d",Y0="dframe",ry=1870,iy=30,X0=ry-iy,Q0=25e3,J0=3e4;class Jn{constructor(e,n,r,i,a,o,s){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ta(e),this.stats_=Pc(n),this.urlFn=l=>(this.appCheckToken&&(l[Bl]=this.appCheckToken),Zg(n,Qg,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new W0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(J0)),T0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ic((...a)=>{const[o,s,l,u,f]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===bh)this.id=s,this.password=l;else if(o===U0)s?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(s,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{const[o,s]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,s)},()=>{this.onClosed_()},this.urlFn);const r={};r[bh]="t",r[ny]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[z0]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hg]=Cc,this.transportSessionId&&(r[Gg]=this.transportSessionId),this.lastSessionId&&(r[Kg]=this.lastSessionId),this.applicationId&&(r[Yg]=this.applicationId),this.appCheckToken&&(r[Bl]=this.appCheckToken),typeof location<"u"&&location.hostname&&Vg.test(location.hostname)&&(r[zg]=qg);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jn.forceAllow_=!0}static forceDisallow(){Jn.forceDisallow_=!0}static isAvailable(){return Jn.forceAllow_?!0:!Jn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!P0()&&!I0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ie(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=v0(n),i=Wg(r,X0);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Y0]="t",r[ey]=e,r[ty]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ie(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ic{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=O0(),window[H0+this.uniqueCallbackIdentifier]=e,window[G0+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ic.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Ke("frame writing exception"),s.stack&&Ke(s.stack),Ke(s)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ke("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ey]=this.myID,e[ty]=this.myPW,e[ny]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+iy+r.length<=ry;){const o=this.pendingSegs.shift();r=r+"&"+q0+i+"="+o.seg+"&"+V0+i+"="+o.ts+"&"+K0+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Q0)),a=()=>{clearTimeout(i),r()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=16384,ex=45e3;let Ba=null;typeof MozWebSocket<"u"?Ba=MozWebSocket:typeof WebSocket<"u"&&(Ba=WebSocket);class At{constructor(e,n,r,i,a,o,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ta(this.connId),this.stats_=Pc(n),this.connURL=At.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,a){const o={};return o[Hg]=Cc,typeof location<"u"&&location.hostname&&Vg.test(location.hostname)&&(o[zg]=qg),n&&(o[Gg]=n),r&&(o[Kg]=r),i&&(o[Bl]=i),a&&(o[Yg]=a),Zg(e,Xg,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pn.set("previous_websocket_failure",!0);try{let r;Ng(),this.mySock=new Ba(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){At.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ba!==null&&!At.forceDisallow_}static previouslyFailed(){return Pn.isInMemoryStorage||Pn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Pn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Oc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(L(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ie(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Wg(n,Z0);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ex))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}At.responsesRequiredToBeHealthy=2;At.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Jn,At]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=At&&At.isAvailable();let r=n&&!At.previouslyFailed();if(e.webSocketOnly&&(n||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[At];else{const i=this.transports_=[];for(const a of Si.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);Si.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Si.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=6e4,nx=5e3,rx=10*1024,ix=100*1024,Js="t",xh="d",ax="s",wh="r",ox="e",Sh="o",Oh="a",Eh="n",Ah="p",sx="h";class lx{constructor(e,n,r,i,a,o,s,l,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ta("c:"+this.id+":"),this.transportManager_=new Si(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=gi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ix?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>rx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Js in e){const n=e[Js];n===Oh?this.upgradeIfSecondaryHealthy_():n===wh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Sh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ei("t",e),r=ei("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ah,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Oh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Eh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ei("t",e),r=ei("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ei(Js,e);if(xh in e){const r=e[xh];if(n===sx)this.onHandshake_(r);else if(n===Eh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ax?this.onConnectionShutdown_(r):n===wh?this.onReset_(r):n===ox?Fl("Server Error: "+r):n===Sh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fl("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Cc!==r&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ah,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy=class{constructor(e){this.allowedEvents_=e,this.listeners_={},L(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===n&&(!r||r===i[a].context)){i.splice(a,1);return}}validateEventType_(e){L(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends oy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Wa}getInitialEvent(e){return L(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=32,Ch=768;let ye=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function oe(){return new ye("")}function te(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function hn(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ye(t.pieces_,e)}function sy(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ux(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ly(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function uy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ye(e,0)}function $e(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ye(n,0)}function Z(t){return t.pieceNum_>=t.pieces_.length}function Qe(t,e){const n=te(t),r=te(e);if(n===null)return e;if(n===r)return Qe(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function cy(t,e){if(hn(t)!==hn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ct(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(hn(t)>hn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class cx{constructor(e,n){this.errorPrefix_=n,this.parts_=ly(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=es(this.parts_[r]);fy(this)}}function fx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=es(e),fy(t)}function hx(t){const e=t.parts_.pop();t.byteLength_-=es(e),t.parts_.length>0&&(t.byteLength_-=1)}function fy(t){if(t.byteLength_>Ch)throw new Error(t.errorPrefix_+"has a key path longer than "+Ch+" bytes ("+t.byteLength_+").");if(t.parts_.length>Th)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Th+") or object contains a cycle "+xn(t))}function xn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends oy{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $c}getInitialEvent(e){return L(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=1e3,dx=60*5*1e3,Ph=30*1e3,px=1.3,vx=3e4,gx="server_kill",Ih=3;class qt extends ay{constructor(e,n,r,i,a,o,s,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=l,this.id=qt.nextPersistentConnectionId_++,this.log_=ta("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ti,this.maxReconnectDelay_=dx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Ng())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$c.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Wa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,a={r:i,a:e,b:n};this.log_(Ie(a)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ac,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const s=o.d;o.s==="ok"?n.resolve(s):n.reject(s)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,r,i){this.initConnection_();const a=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const s={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(a,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const a={p:r},o="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(o,a,s=>{const l=s.d,u=s.s;qt.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",s),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&en(e,"w")){const r=lr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||u0(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ph)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=c0(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const a=i.s,o=i.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const a={p:e},o="n";i&&(a.q=r,a.t=i),this.sendRequest(o,a)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const a={p:n,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,a){this.initConnection_();const o={p:n,d:r};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ie(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Fl("Unrecognized action received from server: "+Ie(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ti,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ti,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>vx&&(this.reconnectDelay_=ti),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*px)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+qt.nextConnectionId_++,a=this.lastSessionId;let o=!1,s=null;const l=function(){s?s.close():(o=!0,r())},u=function(c){L(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=h&&h.token,s=new lx(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{nt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(gx)},a))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&nt(c),l())}}}interrupt(e){Ke("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ke("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dh(this.interruptReasons_)&&(this.reconnectDelay_=ti,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(a=>Tc(a)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ye(e).toString();let i;if(this.listens.has(r)){const a=this.listens.get(r);i=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ke("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ih&&(this.reconnectDelay_=Ph,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ke("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ih&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+jg.replace(/\./g,"-")]=1,Rg()?e["framework.cordova"]=1:f0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Wa.getInstance().currentlyOnline();return dh(this.interruptReasons_)&&e}}qt.nextPersistentConnectionId_=0;qt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new J(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ts=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new J(ur,e),i=new J(ur,n);return this.compare(r,i)!==0}minPost(){return J.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa;class hy extends ts{static get __EMPTY_NODE(){return Sa}static set __EMPTY_NODE(e){Sa=e}compare(e,n){return Lr(e.name,n.name)}isDefinedOn(e){throw Zi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return J.MIN}maxPost(){return new J(Ln,Sa)}makePost(e,n){return L(typeof e=="string","KeyIndex indexValue must always be a string."),new J(e,Sa)}toString(){return".key"}}const rr=new hy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Le{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Le.RED,this.left=i??et.EMPTY_NODE,this.right=a??et.EMPTY_NODE}copy(e,n,r,i,a){return new Le(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return et.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return et.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Le.RED=!0;Le.BLACK=!1;class yx{copy(e,n,r,i,a){return this}insert(e,n,r){return new Le(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class et{constructor(e,n=et.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new et(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Le.BLACK,null,null))}remove(e){return new et(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Le.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Oa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Oa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Oa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Oa(this.root_,null,this.comparator_,!0,e)}}et.EMPTY_NODE=new yx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t,e){return Lr(t.name,e.name)}function kc(t,e){return Lr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl;function _x(t){Wl=t}const dy=function(t){return typeof t=="number"?"number:"+Ug(t):"string:"+t},py=function(t){if(t.isLeafNode()){const e=t.val();L(typeof e=="string"||typeof e=="number"||typeof e=="object"&&en(e,".sv"),"Priority must be a string or number.")}else L(t===Wl||t.isEmpty(),"priority of unexpected type.");L(t===Wl||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h;class De{constructor(e,n=De.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),py(this.priorityNode_)}static set __childrenNodeConstructor(e){$h=e}static get __childrenNodeConstructor(){return $h}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new De(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Z(e)?this:te(e)===".priority"?this.priorityNode_:De.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:De.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=te(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(L(r!==".priority"||hn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,De.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+dy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Ug(this.value_):e+=this.value_,this.lazyHash_=Fg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===De.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof De.__childrenNodeConstructor?-1:(L(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=De.VALUE_TYPE_ORDER.indexOf(n),a=De.VALUE_TYPE_ORDER.indexOf(r);return L(i>=0,"Unknown leaf type: "+n),L(a>=0,"Unknown leaf type: "+r),i===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}De.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vy,gy;function bx(t){vy=t}function xx(t){gy=t}class wx extends ts{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),a=r.compareTo(i);return a===0?Lr(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return J.MIN}maxPost(){return new J(Ln,new De("[PRIORITY-POST]",gy))}makePost(e,n){const r=vy(e);return new J(n,new De("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ae=new wx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=Math.log(2);class Ox{constructor(e){const n=a=>parseInt(Math.log(a)/Sx,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ua=function(t,e,n,r){t.sort(e);const i=function(l,u){const f=u-l;let c,h;if(f===0)return null;if(f===1)return c=t[l],h=n?n(c):c,new Le(h,c.node,Le.BLACK,null,null);{const g=parseInt(f/2,10)+l,v=i(l,g),d=i(g+1,u);return c=t[g],h=n?n(c):c,new Le(h,c.node,Le.BLACK,v,d)}},a=function(l){let u=null,f=null,c=t.length;const h=function(v,d){const y=c-v,m=c;c-=v;const b=i(y+1,m),p=t[y],_=n?n(p):p;g(new Le(_,p.node,d,null,b))},g=function(v){u?(u.left=v,u=v):(f=v,u=v)};for(let v=0;v<l.count;++v){const d=l.nextBitIsOne(),y=Math.pow(2,l.count-(v+1));d?h(y,Le.BLACK):(h(y,Le.BLACK),h(y,Le.RED))}return f},o=new Ox(t.length),s=a(o);return new et(r||e,s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs;const Vn={};class Ut{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return L(Vn&&Ae,"ChildrenNode.ts has not been loaded"),Zs=Zs||new Ut({".priority":Vn},{".priority":Ae}),Zs}get(e){const n=lr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof et?n:null}hasIndex(e){return en(this.indexSet_,e.toString())}addIndex(e,n){L(e!==rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=n.getIterator(J.Wrap);let o=a.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=a.getNext();let s;i?s=Ua(r,e.getCompare()):s=Vn;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const f=Object.assign({},this.indexes_);return f[l]=s,new Ut(f,u)}addToIndexes(e,n){const r=Fa(this.indexes_,(i,a)=>{const o=lr(this.indexSet_,a);if(L(o,"Missing index implementation for "+a),i===Vn)if(o.isDefinedOn(e.node)){const s=[],l=n.getIterator(J.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&s.push(u),u=l.getNext();return s.push(e),Ua(s,o.getCompare())}else return Vn;else{const s=n.get(e.name);let l=i;return s&&(l=l.remove(new J(e.name,s))),l.insert(e,e.node)}});return new Ut(r,this.indexSet_)}removeFromIndexes(e,n){const r=Fa(this.indexes_,i=>{if(i===Vn)return i;{const a=n.get(e.name);return a?i.remove(new J(e.name,a)):i}});return new Ut(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ni;class V{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&py(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ni||(ni=new V(new et(kc),null,Ut.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ni}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ni:n}}getChild(e){const n=te(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(L(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new J(e,n);let i,a;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ni:this.priorityNode_;return new V(i,o,a)}}updateChild(e,n){const r=te(e);if(r===null)return n;{L(te(e)!==".priority"||hn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,a=!0;if(this.forEachChild(Ae,(o,s)=>{n[o]=s.val(e),r++,a&&V.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!e&&a&&i<2*r){const o=[];for(const s in n)o[s]=n[s];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+dy(this.getPriority().val())+":"),this.forEachChild(Ae,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Fg(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const a=i.getPredecessorKey(new J(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new J(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new J(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,J.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,e)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,J.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,e)>0;)i.getNext(),a=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===na?-1:0}withIndex(e){if(e===rr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===rr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ae),i=n.getIterator(Ae);let a=r.getNext(),o=i.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=r.getNext(),o=i.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===rr?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Ex extends V{constructor(){super(new et(kc),V.EMPTY_NODE,Ut.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const na=new Ex;Object.defineProperties(J,{MIN:{value:new J(ur,V.EMPTY_NODE)},MAX:{value:new J(Ln,na)}});hy.__EMPTY_NODE=V.EMPTY_NODE;De.__childrenNodeConstructor=V;_x(na);xx(na);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=!0;function Fe(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),L(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new De(n,Fe(e))}if(!(t instanceof Array)&&Ax){const n=[];let r=!1;if(rt(t,(o,s)=>{if(o.substring(0,1)!=="."){const l=Fe(s);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new J(o,l)))}}),n.length===0)return V.EMPTY_NODE;const a=Ua(n,mx,o=>o.name,kc);if(r){const o=Ua(n,Ae.getCompare());return new V(a,Fe(e),new Ut({".priority":o},{".priority":Ae}))}else return new V(a,Fe(e),Ut.Default)}else{let n=V.EMPTY_NODE;return rt(t,(r,i)=>{if(en(t,r)&&r.substring(0,1)!=="."){const a=Fe(i);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(Fe(e))}}bx(Fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx extends ts{constructor(e){super(),this.indexPath_=e,L(!Z(e)&&te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),a=r.compareTo(i);return a===0?Lr(e.name,n.name):a}makePost(e,n){const r=Fe(e),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new J(n,i)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,na);return new J(Ln,e)}toString(){return ly(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends ts{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Lr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(e,n){const r=Fe(e);return new J(n,r)}toString(){return".value"}}const Px=new Cx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){return{type:"value",snapshotNode:t}}function cr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Oi(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ei(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Ix(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.index_=e}updateChild(e,n,r,i,a,o){L(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(n);return s.getChild(i).equals(r.getChild(i))&&s.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Oi(n,s)):L(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(cr(n,r)):o.trackChildChange(Ei(n,r,s))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ae,(i,a)=>{n.hasChild(i)||r.trackChildChange(Oi(i,a))}),n.isLeafNode()||n.forEachChild(Ae,(i,a)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(a)||r.trackChildChange(Ei(i,a,o))}else r.trackChildChange(cr(i,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.indexedFilter_=new Mc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ai.getStartPost_(e),this.endPost_=Ai.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,a,o){return this.matches(new J(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,a,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);const a=this;return n.forEachChild(Ae,(o,s)=>{a.matches(new J(o,s))||(i=i.updateImmediateChild(o,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ai(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,a,o){return this.rangedFilter_.matches(new J(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,a,o):this.fullLimitUpdateChild_(e,n,r,a,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;a.hasNext()&&o<this.limit_;){const s=a.getNext();if(this.withinDirectionalStart(s))if(this.withinDirectionalEnd(s))i=i.updateImmediateChild(s.name,s.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let a;this.reverse_?a=i.getReverseIterator(this.index_):a=i.getIterator(this.index_);let o=0;for(;a.hasNext();){const s=a.getNext();o<this.limit_&&this.withinDirectionalStart(s)&&this.withinDirectionalEnd(s)?o++:i=i.updateImmediateChild(s.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,a){let o;if(this.reverse_){const c=this.index_.getCompare();o=(h,g)=>c(g,h)}else o=this.index_.getCompare();const s=e;L(s.numChildren()===this.limit_,"");const l=new J(n,r),u=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(s.hasChild(n)){const c=s.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||s.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const g=h==null?1:o(h,l);if(f&&!r.isEmpty()&&g>=0)return a!=null&&a.trackChildChange(Ei(n,r,c)),s.updateImmediateChild(n,r);{a!=null&&a.trackChildChange(Oi(n,c));const d=s.updateImmediateChild(n,V.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(a!=null&&a.trackChildChange(cr(h.name,h.node)),d.updateImmediateChild(h.name,h.node)):d}}else return r.isEmpty()?e:f&&o(u,l)>=0?(a!=null&&(a.trackChildChange(Oi(u.name,u.node)),a.trackChildChange(cr(n,r))),s.updateImmediateChild(n,r).updateImmediateChild(u.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ur}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ln}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ae}copy(){const e=new Nc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kx(t){return t.loadsAllData()?new Mc(t.getIndex()):t.hasLimit()?new $x(t):new Ai(t)}function kh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ae?n="$priority":t.index_===Px?n="$value":t.index_===rr?n="$key":(L(t.index_ instanceof Tx,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ie(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ie(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ie(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ie(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ie(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Mh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ae&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends ay{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ta("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(L(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const o=Ha.getListenId_(e,r),s={};this.listens_[o]=s;const l=kh(e._queryParams);this.restRequest_(a+".json",l,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(a,c,!1,r),lr(this.listens_,o)===s){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Ha.getListenId_(e,n);delete this.listens_[r]}get(e){const n=kh(e._queryParams),r=e._path.toString(),i=new Ac;return this.restRequest_(r+".json",n,(a,o)=>{let s=o;a===404&&(s=null,a=null),a===null?(this.onDataUpdate_(r,s,!1,null),i.resolve(s)):i.reject(new Error(s))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(n.auth=i.accessToken),a&&a.token&&(n.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+h0(n);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(r&&s.readyState===4){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let l=null;if(s.status>=200&&s.status<300){try{l=Oc(s.responseText)}catch{nt("Failed to parse JSON response for "+o+": "+s.responseText)}r(null,l)}else s.status!==401&&s.status!==404&&nt("Got unsuccessful REST response for "+o+" Status: "+s.status),r(s.status);r=null}},s.open("GET",o,!0),s.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(){return{value:null,children:new Map}}function my(t,e,n){if(Z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=te(e);t.children.has(r)||t.children.set(r,Ga());const i=t.children.get(r);e=_e(e),my(i,e,n)}}function Ul(t,e,n){t.value!==null?n(e,t.value):Nx(t,(r,i)=>{const a=new ye(e.toString()+"/"+r);Ul(i,a,n)})}function Nx(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&rt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=10*1e3,Dx=30*1e3,jx=5*60*1e3;class Lx{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Rx(e);const r=Nh+(Dx-Nh)*Math.random();gi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;rt(e,(i,a)=>{a>0&&en(this.statsToReport_,i)&&(n[i]=a,r=!0)}),r&&this.server_.reportStats(n),gi(this.reportStats_.bind(this),Math.floor(Math.random()*2*jx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pt||(Pt={}));function _y(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Dc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Pt.ACK_USER_WRITE,this.source=_y()}operationForChild(e){if(Z(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ye(e));return new za(oe(),n,this.revert)}}else return L(te(this.path)===e,"operationForChild called for unrelated child."),new za(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.source=e,this.path=n,this.type=Pt.LISTEN_COMPLETE}operationForChild(e){return Z(this.path)?new Ti(this.source,oe()):new Ti(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Pt.OVERWRITE}operationForChild(e){return Z(this.path)?new Fn(this.source,oe(),this.snap.getImmediateChild(e)):new Fn(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Pt.MERGE}operationForChild(e){if(Z(this.path)){const n=this.children.subtree(new ye(e));return n.isEmpty()?null:n.value?new Fn(this.source,oe(),n.value):new Ci(this.source,oe(),n)}else return L(te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ci(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;const n=te(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Bx(t,e,n,r){const i=[],a=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(Ix(o.childName,o.snapshotNode))}),ri(t,i,"child_removed",e,r,n),ri(t,i,"child_added",e,r,n),ri(t,i,"child_moved",a,r,n),ri(t,i,"child_changed",e,r,n),ri(t,i,"value",e,r,n),i}function ri(t,e,n,r,i,a){const o=r.filter(s=>s.type===n);o.sort((s,l)=>Ux(t,s,l)),o.forEach(s=>{const l=Wx(t,s,a);i.forEach(u=>{u.respondsTo(s.type)&&e.push(u.createEvent(l,t.query_))})})}function Wx(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Ux(t,e,n){if(e.childName==null||n.childName==null)throw Zi("Should only compare child_ events.");const r=new J(e.childName,e.snapshotNode),i=new J(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t,e){return{eventCache:t,serverCache:e}}function yi(t,e,n,r){return ns(new dn(e,n,r),t.serverCache)}function by(t,e,n,r){return ns(t.eventCache,new dn(e,n,r))}function qa(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Bn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el;const Hx=()=>(el||(el=new et(C0)),el);class we{constructor(e,n=Hx()){this.value=e,this.children=n}static fromObject(e){let n=new we(null);return rt(e,(r,i)=>{n=n.set(new ye(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:oe(),value:this.value};if(Z(e))return null;{const r=te(e),i=this.children.get(r);if(i!==null){const a=i.findRootMostMatchingPathAndValue(_e(e),n);return a!=null?{path:$e(new ye(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{const n=te(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new we(null)}}set(e,n){if(Z(e))return new we(n,this.children);{const r=te(e),a=(this.children.get(r)||new we(null)).set(_e(e),n),o=this.children.insert(r,a);return new we(this.value,o)}}remove(e){if(Z(e))return this.children.isEmpty()?new we(null):new we(null,this.children);{const n=te(e),r=this.children.get(n);if(r){const i=r.remove(_e(e));let a;return i.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,i),this.value===null&&a.isEmpty()?new we(null):new we(this.value,a)}else return this}}get(e){if(Z(e))return this.value;{const n=te(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(Z(e))return n;{const r=te(e),a=(this.children.get(r)||new we(null)).setTree(_e(e),n);let o;return a.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,a),new we(this.value,o)}}fold(e){return this.fold_(oe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_($e(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,oe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Z(e))return null;{const a=te(e),o=this.children.get(a);return o?o.findOnPath_(_e(e),$e(n,a),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,oe(),n)}foreachOnPath_(e,n,r){if(Z(e))return this;{this.value&&r(n,this.value);const i=te(e),a=this.children.get(i);return a?a.foreachOnPath_(_e(e),$e(n,i),r):new we(null)}}foreach(e){this.foreach_(oe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_($e(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.writeTree_=e}static empty(){return new It(new we(null))}}function mi(t,e,n){if(Z(e))return new It(new we(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let a=r.value;const o=Qe(i,e);return a=a.updateChild(o,n),new It(t.writeTree_.set(i,a))}else{const i=new we(n),a=t.writeTree_.setTree(e,i);return new It(a)}}}function Rh(t,e,n){let r=t;return rt(n,(i,a)=>{r=mi(r,$e(e,i),a)}),r}function Dh(t,e){if(Z(e))return It.empty();{const n=t.writeTree_.setTree(e,new we(null));return new It(n)}}function Hl(t,e){return Hn(t,e)!=null}function Hn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Qe(n.path,e)):null}function jh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ae,(r,i)=>{e.push(new J(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new J(r,i.value))}),e}function ln(t,e){if(Z(e))return t;{const n=Hn(t,e);return n!=null?new It(new we(n)):new It(t.writeTree_.subtree(e))}}function Gl(t){return t.writeTree_.isEmpty()}function fr(t,e){return xy(oe(),t.writeTree_,e)}function xy(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{i===".priority"?(L(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=xy($e(t,i),a,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild($e(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t,e){return Ey(e,t)}function Gx(t,e,n,r,i){L(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=mi(t.visibleWrites,e,n)),t.lastWriteId=r}function zx(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function qx(t,e){const n=t.allWrites.findIndex(s=>s.writeId===e);L(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,a=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const s=t.allWrites[o];s.visible&&(o>=n&&Vx(s,r.path)?i=!1:Ct(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return Kx(t),!0;if(r.snap)t.visibleWrites=Dh(t.visibleWrites,r.path);else{const s=r.children;rt(s,l=>{t.visibleWrites=Dh(t.visibleWrites,$e(r.path,l))})}return!0}else return!1}function Vx(t,e){if(t.snap)return Ct(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ct($e(t.path,n),e))return!0;return!1}function Kx(t){t.visibleWrites=wy(t.allWrites,Yx,oe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Yx(t){return t.visible}function wy(t,e,n){let r=It.empty();for(let i=0;i<t.length;++i){const a=t[i];if(e(a)){const o=a.path;let s;if(a.snap)Ct(n,o)?(s=Qe(n,o),r=mi(r,s,a.snap)):Ct(o,n)&&(s=Qe(o,n),r=mi(r,oe(),a.snap.getChild(s)));else if(a.children){if(Ct(n,o))s=Qe(n,o),r=Rh(r,s,a.children);else if(Ct(o,n))if(s=Qe(o,n),Z(s))r=Rh(r,oe(),a.children);else{const l=lr(a.children,te(s));if(l){const u=l.getChild(_e(s));r=mi(r,oe(),u)}}}else throw Zi("WriteRecord should have .snap or .children")}}return r}function Sy(t,e,n,r,i){if(!r&&!i){const a=Hn(t.visibleWrites,e);if(a!=null)return a;{const o=ln(t.visibleWrites,e);if(Gl(o))return n;if(n==null&&!Hl(o,oe()))return null;{const s=n||V.EMPTY_NODE;return fr(o,s)}}}else{const a=ln(t.visibleWrites,e);if(!i&&Gl(a))return n;if(!i&&n==null&&!Hl(a,oe()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ct(u.path,e)||Ct(e,u.path))},s=wy(t.allWrites,o,e),l=n||V.EMPTY_NODE;return fr(s,l)}}}function Xx(t,e,n){let r=V.EMPTY_NODE;const i=Hn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ae,(a,o)=>{r=r.updateImmediateChild(a,o)}),r;if(n){const a=ln(t.visibleWrites,e);return n.forEachChild(Ae,(o,s)=>{const l=fr(ln(a,new ye(o)),s);r=r.updateImmediateChild(o,l)}),jh(a).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const a=ln(t.visibleWrites,e);return jh(a).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Qx(t,e,n,r,i){L(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=$e(e,n);if(Hl(t.visibleWrites,a))return null;{const o=ln(t.visibleWrites,a);return Gl(o)?i.getChild(n):fr(o,i.getChild(n))}}function Jx(t,e,n,r){const i=$e(e,n),a=Hn(t.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(n)){const o=ln(t.visibleWrites,i);return fr(o,r.getNode().getImmediateChild(n))}else return null}function Zx(t,e){return Hn(t.visibleWrites,e)}function ew(t,e,n,r,i,a,o){let s;const l=ln(t.visibleWrites,e),u=Hn(l,oe());if(u!=null)s=u;else if(n!=null)s=fr(l,n);else return[];if(s=s.withIndex(o),!s.isEmpty()&&!s.isLeafNode()){const f=[],c=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o);let g=h.getNext();for(;g&&f.length<i;)c(g,r)!==0&&f.push(g),g=h.getNext();return f}else return[]}function tw(){return{visibleWrites:It.empty(),allWrites:[],lastWriteId:-1}}function Va(t,e,n,r){return Sy(t.writeTree,t.treePath,e,n,r)}function jc(t,e){return Xx(t.writeTree,t.treePath,e)}function Lh(t,e,n,r){return Qx(t.writeTree,t.treePath,e,n,r)}function Ka(t,e){return Zx(t.writeTree,$e(t.treePath,e))}function nw(t,e,n,r,i,a){return ew(t.writeTree,t.treePath,e,n,r,i,a)}function Lc(t,e,n){return Jx(t.writeTree,t.treePath,e,n)}function Oy(t,e){return Ey($e(t.treePath,e),t.writeTree)}function Ey(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;L(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),L(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,Ei(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,Oi(r,i.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,cr(r,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,Ei(r,e.snapshotNode,i.oldSnap));else throw Zi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Ay=new iw;class Fc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new dn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bn(this.viewCache_),a=nw(this.writes_,i,n,1,r,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){return{filter:t}}function ow(t,e){L(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),L(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function sw(t,e,n,r,i){const a=new rw;let o,s;if(n.type===Pt.OVERWRITE){const u=n;u.source.fromUser?o=zl(t,e,u.path,u.snap,r,i,a):(L(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.serverCache.isFiltered()&&!Z(u.path),o=Ya(t,e,u.path,u.snap,r,i,s,a))}else if(n.type===Pt.MERGE){const u=n;u.source.fromUser?o=uw(t,e,u.path,u.children,r,i,a):(L(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.serverCache.isFiltered(),o=ql(t,e,u.path,u.children,r,i,s,a))}else if(n.type===Pt.ACK_USER_WRITE){const u=n;u.revert?o=hw(t,e,u.path,r,i,a):o=cw(t,e,u.path,u.affectedTree,r,i,a)}else if(n.type===Pt.LISTEN_COMPLETE)o=fw(t,e,n.path,r,a);else throw Zi("Unknown operation type: "+n.type);const l=a.getChanges();return lw(e,o,l),{viewCache:o,changes:l}}function lw(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=qa(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(yy(qa(e)))}}function Ty(t,e,n,r,i,a){const o=e.eventCache;if(Ka(r,n)!=null)return e;{let s,l;if(Z(n))if(L(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Bn(e),f=u instanceof V?u:V.EMPTY_NODE,c=jc(r,f);s=t.filter.updateFullNode(e.eventCache.getNode(),c,a)}else{const u=Va(r,Bn(e));s=t.filter.updateFullNode(e.eventCache.getNode(),u,a)}else{const u=te(n);if(u===".priority"){L(hn(n)===1,"Can't have a priority with additional path components");const f=o.getNode();l=e.serverCache.getNode();const c=Lh(r,n,f,l);c!=null?s=t.filter.updatePriority(f,c):s=o.getNode()}else{const f=_e(n);let c;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=Lh(r,n,o.getNode(),l);h!=null?c=o.getNode().getImmediateChild(u).updateChild(f,h):c=o.getNode().getImmediateChild(u)}else c=Lc(r,u,e.serverCache);c!=null?s=t.filter.updateChild(o.getNode(),u,c,f,i,a):s=o.getNode()}}return yi(e,s,o.isFullyInitialized()||Z(n),t.filter.filtersNodes())}}function Ya(t,e,n,r,i,a,o,s){const l=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(Z(n))u=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);u=f.updateFullNode(l.getNode(),g,null)}else{const g=te(n);if(!l.isCompleteForPath(n)&&hn(n)>1)return e;const v=_e(n),y=l.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?u=f.updatePriority(l.getNode(),y):u=f.updateChild(l.getNode(),g,y,v,Ay,null)}const c=by(e,u,l.isFullyInitialized()||Z(n),f.filtersNodes()),h=new Fc(i,c,a);return Ty(t,c,n,i,h,s)}function zl(t,e,n,r,i,a,o){const s=e.eventCache;let l,u;const f=new Fc(i,e,a);if(Z(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=yi(e,u,!0,t.filter.filtersNodes());else{const c=te(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=yi(e,u,s.isFullyInitialized(),s.isFiltered());else{const h=_e(n),g=s.getNode().getImmediateChild(c);let v;if(Z(h))v=r;else{const d=f.getCompleteChild(c);d!=null?sy(h)===".priority"&&d.getChild(uy(h)).isEmpty()?v=d:v=d.updateChild(h,r):v=V.EMPTY_NODE}if(g.equals(v))l=e;else{const d=t.filter.updateChild(s.getNode(),c,v,h,f,o);l=yi(e,d,s.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Fh(t,e){return t.eventCache.isCompleteForChild(e)}function uw(t,e,n,r,i,a,o){let s=e;return r.foreach((l,u)=>{const f=$e(n,l);Fh(e,te(f))&&(s=zl(t,s,f,u,i,a,o))}),r.foreach((l,u)=>{const f=$e(n,l);Fh(e,te(f))||(s=zl(t,s,f,u,i,a,o))}),s}function Bh(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ql(t,e,n,r,i,a,o,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Z(n)?u=r:u=new we(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((c,h)=>{if(f.hasChild(c)){const g=e.serverCache.getNode().getImmediateChild(c),v=Bh(t,g,h);l=Ya(t,l,new ye(c),v,i,a,o,s)}}),u.children.inorderTraversal((c,h)=>{const g=!e.serverCache.isCompleteForChild(c)&&h.value===null;if(!f.hasChild(c)&&!g){const v=e.serverCache.getNode().getImmediateChild(c),d=Bh(t,v,h);l=Ya(t,l,new ye(c),d,i,a,o,s)}}),l}function cw(t,e,n,r,i,a,o){if(Ka(i,n)!=null)return e;const s=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ya(t,e,n,l.getNode().getChild(n),i,a,s,o);if(Z(n)){let u=new we(null);return l.getNode().forEachChild(rr,(f,c)=>{u=u.set(new ye(f),c)}),ql(t,e,n,u,i,a,s,o)}else return e}else{let u=new we(null);return r.foreach((f,c)=>{const h=$e(n,f);l.isCompleteForPath(h)&&(u=u.set(f,l.getNode().getChild(h)))}),ql(t,e,n,u,i,a,s,o)}}function fw(t,e,n,r,i){const a=e.serverCache,o=by(e,a.getNode(),a.isFullyInitialized()||Z(n),a.isFiltered());return Ty(t,o,n,r,Ay,i)}function hw(t,e,n,r,i,a){let o;if(Ka(r,n)!=null)return e;{const s=new Fc(r,e,i),l=e.eventCache.getNode();let u;if(Z(n)||te(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Va(r,Bn(e));else{const c=e.serverCache.getNode();L(c instanceof V,"serverChildren would be complete if leaf node"),f=jc(r,c)}f=f,u=t.filter.updateFullNode(l,f,a)}else{const f=te(n);let c=Lc(r,f,e.serverCache);c==null&&e.serverCache.isCompleteForChild(f)&&(c=l.getImmediateChild(f)),c!=null?u=t.filter.updateChild(l,f,c,_e(n),s,a):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(l,f,V.EMPTY_NODE,_e(n),s,a):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Va(r,Bn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,a)))}return o=e.serverCache.isFullyInitialized()||Ka(r,oe())!=null,yi(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Mc(r.getIndex()),a=kx(r);this.processor_=aw(a);const o=n.serverCache,s=n.eventCache,l=i.updateFullNode(V.EMPTY_NODE,o.getNode(),null),u=a.updateFullNode(V.EMPTY_NODE,s.getNode(),null),f=new dn(l,o.isFullyInitialized(),i.filtersNodes()),c=new dn(u,s.isFullyInitialized(),a.filtersNodes());this.viewCache_=ns(c,f),this.eventGenerator_=new Fx(this.query_)}get query(){return this.query_}}function pw(t){return t.viewCache_.serverCache.getNode()}function vw(t){return qa(t.viewCache_)}function gw(t,e){const n=Bn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Z(e)&&!n.getImmediateChild(te(e)).isEmpty())?n.getChild(e):null}function Wh(t){return t.eventRegistrations_.length===0}function yw(t,e){t.eventRegistrations_.push(e)}function Uh(t,e,n){const r=[];if(n){L(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(a=>{const o=a.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let a=0;a<t.eventRegistrations_.length;++a){const o=t.eventRegistrations_[a];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Hh(t,e,n,r){e.type===Pt.MERGE&&e.source.queryId!==null&&(L(Bn(t.viewCache_),"We should always have a full cache before handling merges"),L(qa(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,a=sw(t.processor_,i,e,n,r);return ow(t.processor_,a.viewCache),L(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,Cy(t,a.changes,a.viewCache.eventCache.getNode(),null)}function mw(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ae,(a,o)=>{r.push(cr(a,o))}),n.isFullyInitialized()&&r.push(yy(n.getNode())),Cy(t,r,n.getNode(),e)}function Cy(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Bx(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa;class Py{constructor(){this.views=new Map}}function _w(t){L(!Xa,"__referenceConstructor has already been defined"),Xa=t}function bw(){return L(Xa,"Reference.ts has not been loaded"),Xa}function xw(t){return t.views.size===0}function Bc(t,e,n,r){const i=e.source.queryId;if(i!==null){const a=t.views.get(i);return L(a!=null,"SyncTree gave us an op for an invalid query."),Hh(a,e,n,r)}else{let a=[];for(const o of t.views.values())a=a.concat(Hh(o,e,n,r));return a}}function Iy(t,e,n,r,i){const a=e._queryIdentifier,o=t.views.get(a);if(!o){let s=Va(n,i?r:null),l=!1;s?l=!0:r instanceof V?(s=jc(n,r),l=!1):(s=V.EMPTY_NODE,l=!1);const u=ns(new dn(s,l,!1),new dn(r,i,!1));return new dw(e,u)}return o}function ww(t,e,n,r,i,a){const o=Iy(t,e,r,i,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),yw(o,n),mw(o,n)}function Sw(t,e,n,r){const i=e._queryIdentifier,a=[];let o=[];const s=pn(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(Uh(u,n,r)),Wh(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||a.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(Uh(l,n,r)),Wh(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||a.push(l.query)))}return s&&!pn(t)&&a.push(new(bw())(e._repo,e._path)),{removed:a,events:o}}function $y(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function un(t,e){let n=null;for(const r of t.views.values())n=n||gw(r,e);return n}function ky(t,e){if(e._queryParams.loadsAllData())return is(t);{const r=e._queryIdentifier;return t.views.get(r)}}function My(t,e){return ky(t,e)!=null}function pn(t){return is(t)!=null}function is(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa;function Ow(t){L(!Qa,"__referenceConstructor has already been defined"),Qa=t}function Ew(){return L(Qa,"Reference.ts has not been loaded"),Qa}let Aw=1;class Gh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new we(null),this.pendingWriteTree_=tw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ny(t,e,n,r,i){return Gx(t.pendingWriteTree_,e,n,r,i),i?ia(t,new Fn(_y(),e,n)):[]}function In(t,e,n=!1){const r=zx(t.pendingWriteTree_,e);if(qx(t.pendingWriteTree_,e)){let a=new we(null);return r.snap!=null?a=a.set(oe(),!0):rt(r.children,o=>{a=a.set(new ye(o),!0)}),ia(t,new za(r.path,a,n))}else return[]}function ra(t,e,n){return ia(t,new Fn(Rc(),e,n))}function Tw(t,e,n){const r=we.fromObject(n);return ia(t,new Ci(Rc(),e,r))}function Cw(t,e){return ia(t,new Ti(Rc(),e))}function Pw(t,e,n){const r=Uc(t,n);if(r){const i=Hc(r),a=i.path,o=i.queryId,s=Qe(a,e),l=new Ti(Dc(o),s);return Gc(t,a,l)}else return[]}function Ry(t,e,n,r,i=!1){const a=e._path,o=t.syncPointTree_.get(a);let s=[];if(o&&(e._queryIdentifier==="default"||My(o,e))){const l=Sw(o,e,n,r);xw(o)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const u=l.removed;if(s=l.events,!i){const f=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(a,(h,g)=>pn(g));if(f&&!c){const h=t.syncPointTree_.subtree(a);if(!h.isEmpty()){const g=Mw(h);for(let v=0;v<g.length;++v){const d=g[v],y=d.query,m=Fy(t,d);t.listenProvider_.startListening(_i(y),Pi(t,y),m.hashFn,m.onComplete)}}}!c&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(_i(e),null):u.forEach(h=>{const g=t.queryToTagMap.get(as(h));t.listenProvider_.stopListening(_i(h),g)}))}Nw(t,u)}return s}function Dy(t,e,n,r){const i=Uc(t,r);if(i!=null){const a=Hc(i),o=a.path,s=a.queryId,l=Qe(o,e),u=new Fn(Dc(s),l,n);return Gc(t,o,u)}else return[]}function Iw(t,e,n,r){const i=Uc(t,r);if(i){const a=Hc(i),o=a.path,s=a.queryId,l=Qe(o,e),u=we.fromObject(n),f=new Ci(Dc(s),l,u);return Gc(t,o,f)}else return[]}function $w(t,e,n,r=!1){const i=e._path;let a=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,g)=>{const v=Qe(h,i);a=a||un(g,v),o=o||pn(g)});let s=t.syncPointTree_.get(i);s?(o=o||pn(s),a=a||un(s,oe())):(s=new Py,t.syncPointTree_=t.syncPointTree_.set(i,s));let l;a!=null?l=!0:(l=!1,a=V.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,v)=>{const d=un(v,oe());d&&(a=a.updateImmediateChild(g,d))}));const u=My(s,e);if(!u&&!e._queryParams.loadsAllData()){const h=as(e);L(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const g=Rw();t.queryToTagMap.set(h,g),t.tagToQueryMap.set(g,h)}const f=rs(t.pendingWriteTree_,i);let c=ww(s,e,n,f,a,l);if(!u&&!o&&!r){const h=ky(s,e);c=c.concat(Dw(t,e,h))}return c}function Wc(t,e,n){const i=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(o,s)=>{const l=Qe(o,e),u=un(s,l);if(u)return u});return Sy(i,e,a,n,!0)}function kw(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,f)=>{const c=Qe(u,n);r=r||un(f,c)});let i=t.syncPointTree_.get(n);i?r=r||un(i,oe()):(i=new Py,t.syncPointTree_=t.syncPointTree_.set(n,i));const a=r!=null,o=a?new dn(r,!0,!1):null,s=rs(t.pendingWriteTree_,e._path),l=Iy(i,e,s,a?o.getNode():V.EMPTY_NODE,a);return vw(l)}function ia(t,e){return jy(e,t.syncPointTree_,null,rs(t.pendingWriteTree_,oe()))}function jy(t,e,n,r){if(Z(t.path))return Ly(t,e,n,r);{const i=e.get(oe());n==null&&i!=null&&(n=un(i,oe()));let a=[];const o=te(t.path),s=t.operationForChild(o),l=e.children.get(o);if(l&&s){const u=n?n.getImmediateChild(o):null,f=Oy(r,o);a=a.concat(jy(s,l,u,f))}return i&&(a=a.concat(Bc(i,t,r,n))),a}}function Ly(t,e,n,r){const i=e.get(oe());n==null&&i!=null&&(n=un(i,oe()));let a=[];return e.children.inorderTraversal((o,s)=>{const l=n?n.getImmediateChild(o):null,u=Oy(r,o),f=t.operationForChild(o);f&&(a=a.concat(Ly(f,s,l,u)))}),i&&(a=a.concat(Bc(i,t,r,n))),a}function Fy(t,e){const n=e.query,r=Pi(t,n);return{hashFn:()=>(pw(e)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Pw(t,n._path,r):Cw(t,n._path);{const a=$0(i,n);return Ry(t,n,null,a)}}}}function Pi(t,e){const n=as(e);return t.queryToTagMap.get(n)}function as(t){return t._path.toString()+"$"+t._queryIdentifier}function Uc(t,e){return t.tagToQueryMap.get(e)}function Hc(t){const e=t.indexOf("$");return L(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ye(t.substr(0,e))}}function Gc(t,e,n){const r=t.syncPointTree_.get(e);L(r,"Missing sync point for query tag that we're tracking");const i=rs(t.pendingWriteTree_,e);return Bc(r,n,i,null)}function Mw(t){return t.fold((e,n,r)=>{if(n&&pn(n))return[is(n)];{let i=[];return n&&(i=$y(n)),rt(r,(a,o)=>{i=i.concat(o)}),i}})}function _i(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ew())(t._repo,t._path):t}function Nw(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=as(r),a=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(a)}}}function Rw(){return Aw++}function Dw(t,e,n){const r=e._path,i=Pi(t,e),a=Fy(t,n),o=t.listenProvider_.startListening(_i(e),i,a.hashFn,a.onComplete),s=t.syncPointTree_.subtree(r);if(i)L(!pn(s.value),"If we're adding a query, it shouldn't be shadowed");else{const l=s.fold((u,f,c)=>{if(!Z(u)&&f&&pn(f))return[is(f).query];{let h=[];return f&&(h=h.concat($y(f).map(g=>g.query))),rt(c,(g,v)=>{h=h.concat(v)}),h}});for(let u=0;u<l.length;++u){const f=l[u];t.listenProvider_.stopListening(_i(f),Pi(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new zc(n)}node(){return this.node_}}class qc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=$e(this.path_,e);return new qc(this.syncTree_,n)}node(){return Wc(this.syncTree_,this.path_)}}const jw=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},zh=function(t,e,n){if(!t||typeof t!="object")return t;if(L(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Lw(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Fw(t[".sv"],e);L(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Lw=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:L(!1,"Unexpected server value: "+t)}},Fw=function(t,e,n){t.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&L(!1,"Unexpected increment value: "+r);const i=e.node();if(L(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Bw=function(t,e,n,r){return Vc(e,new qc(n,t),r)},By=function(t,e,n){return Vc(t,new zc(e),n)};function Vc(t,e,n){const r=t.getPriority().val(),i=zh(r,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const o=t,s=zh(o.getValue(),e,n);return s!==o.getValue()||i!==o.getPriority().val()?new De(s,Fe(i)):t}else{const o=t;return a=o,i!==o.getPriority().val()&&(a=a.updatePriority(new De(i))),o.forEachChild(Ae,(s,l)=>{const u=Vc(l,e.getImmediateChild(s),n);u!==l&&(a=a.updateImmediateChild(s,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Yc(t,e){let n=e instanceof ye?e:new ye(e),r=t,i=te(n);for(;i!==null;){const a=lr(r.node.children,i)||{children:{},childCount:0};r=new Kc(i,r,a),n=_e(n),i=te(n)}return r}function Br(t){return t.node.value}function Wy(t,e){t.node.value=e,Vl(t)}function Uy(t){return t.node.childCount>0}function Ww(t){return Br(t)===void 0&&!Uy(t)}function os(t,e){rt(t.node.children,(n,r)=>{e(new Kc(n,t,r))})}function Hy(t,e,n,r){n&&!r&&e(t),os(t,i=>{Hy(i,e,!0,r)}),n&&r&&e(t)}function Uw(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function aa(t){return new ye(t.parent===null?t.name:aa(t.parent)+"/"+t.name)}function Vl(t){t.parent!==null&&Hw(t.parent,t.name,t)}function Hw(t,e,n){const r=Ww(n),i=en(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Vl(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Vl(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=/[\[\].#$\/\u0000-\u001F\u007F]/,zw=/[\[\].#$\u0000-\u001F\u007F]/,tl=10*1024*1024,Gy=function(t){return typeof t=="string"&&t.length!==0&&!Gw.test(t)},zy=function(t){return typeof t=="string"&&t.length!==0&&!zw.test(t)},qw=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),zy(t)},Vw=function(t,e,n,r){r&&e===void 0||Xc(Ec(t,"value"),e,n)},Xc=function(t,e,n){const r=n instanceof ye?new cx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+xn(r));if(typeof e=="function")throw new Error(t+"contains a function "+xn(r)+" with contents = "+e.toString());if(Bg(e))throw new Error(t+"contains "+e.toString()+" "+xn(r));if(typeof e=="string"&&e.length>tl/3&&es(e)>tl)throw new Error(t+"contains a string greater than "+tl+" utf8 bytes "+xn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,a=!1;if(rt(e,(o,s)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!Gy(o)))throw new Error(t+" contains an invalid key ("+o+") "+xn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fx(r,o),Xc(t,s,r),hx(r)}),i&&a)throw new Error(t+' contains ".value" child '+xn(r)+" in addition to actual children.")}},qy=function(t,e,n,r){if(!(r&&n===void 0)&&!zy(n))throw new Error(Ec(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Kw=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qy(t,e,n,r)},Yw=function(t,e){if(te(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Xw=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Gy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!qw(n))throw new Error(Ec(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vy(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();n!==null&&!cy(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(i)}n&&t.eventLists_.push(n)}function jt(t,e,n){Vy(t,n),Jw(t,r=>Ct(r,e)||Ct(e,r))}function Jw(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const a=i.path;e(a)?(Zw(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Zw(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Rn&&Ke("event: "+n.toString()),Fr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="repo_interrupt",t1=25;class n1{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ga(),this.transactionQueueTree_=new Kc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function r1(t,e,n){if(t.stats_=Pc(t.repoInfo_),t.forceRestClient_||R0())t.server_=new Ha(t.repoInfo_,(r,i,a,o)=>{qh(t,r,i,a,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Vh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ie(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new qt(t.repoInfo_,e,(r,i,a,o)=>{qh(t,r,i,a,o)},r=>{Vh(t,r)},r=>{a1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=B0(t.repoInfo_,()=>new Lx(t.stats_,t.server_)),t.infoData_=new Mx,t.infoSyncTree_=new Gh({startListening:(r,i,a,o)=>{let s=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(s=ra(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),s},stopListening:()=>{}}),Jc(t,"connected",!1),t.serverSyncTree_=new Gh({startListening:(r,i,a,o)=>(t.server_.listen(r,a,i,(s,l)=>{const u=o(s,l);jt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function i1(t){const n=t.infoData_.getNode(new ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qc(t){return jw({timestamp:i1(t)})}function qh(t,e,n,r,i){t.dataUpdateCount++;const a=new ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Fa(n,u=>Fe(u));o=Iw(t.serverSyncTree_,a,l,i)}else{const l=Fe(n);o=Dy(t.serverSyncTree_,a,l,i)}else if(r){const l=Fa(n,u=>Fe(u));o=Tw(t.serverSyncTree_,a,l)}else{const l=Fe(n);o=ra(t.serverSyncTree_,a,l)}let s=a;o.length>0&&(s=ls(t,a)),jt(t.eventQueue_,s,o)}function Vh(t,e){Jc(t,"connected",e),e===!1&&l1(t)}function a1(t,e){rt(e,(n,r)=>{Jc(t,n,r)})}function Jc(t,e,n){const r=new ye("/.info/"+e),i=Fe(n);t.infoData_.updateSnapshot(r,i);const a=ra(t.infoSyncTree_,r,i);jt(t.eventQueue_,r,a)}function Ky(t){return t.nextWriteId_++}function o1(t,e,n){const r=kw(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const a=Fe(i).withIndex(e._queryParams.getIndex());$w(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=ra(t.serverSyncTree_,e._path,a);else{const s=Pi(t.serverSyncTree_,e);o=Dy(t.serverSyncTree_,e._path,a,s)}return jt(t.eventQueue_,e._path,o),Ry(t.serverSyncTree_,e,n,null,!0),a},i=>(ss(t,"get for query "+Ie(e)+" failed: "+i),Promise.reject(new Error(i))))}function s1(t,e,n,r,i){ss(t,"set",{path:e.toString(),value:n,priority:r});const a=Qc(t),o=Fe(n,r),s=Wc(t.serverSyncTree_,e),l=By(o,s,a),u=Ky(t),f=Ny(t.serverSyncTree_,e,l,u,!0);Vy(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(h,g)=>{const v=h==="ok";v||nt("set at "+e+" failed: "+h);const d=In(t.serverSyncTree_,u,!v);jt(t.eventQueue_,e,d),c1(t,i,h,g)});const c=Zy(t,e);ls(t,c),jt(t.eventQueue_,c,[])}function l1(t){ss(t,"onDisconnectEvents");const e=Qc(t),n=Ga();Ul(t.onDisconnect_,oe(),(i,a)=>{const o=Bw(i,a,t.serverSyncTree_,e);my(n,i,o)});let r=[];Ul(n,oe(),(i,a)=>{r=r.concat(ra(t.serverSyncTree_,i,a));const o=Zy(t,i);ls(t,o)}),t.onDisconnect_=Ga(),jt(t.eventQueue_,oe(),r)}function u1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(e1)}function ss(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ke(n,...e)}function c1(t,e,n,r){e&&Fr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let a=i;r&&(a+=": "+r);const o=new Error(a);o.code=i,e(o)}})}function Yy(t,e,n){return Wc(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function Zc(t,e=t.transactionQueueTree_){if(e||us(t,e),Br(e)){const n=Qy(t,e);L(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&f1(t,aa(e),n)}else Uy(e)&&os(e,n=>{Zc(t,n)})}function f1(t,e,n){const r=n.map(u=>u.currentWriteId),i=Yy(t,e,r);let a=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];L(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=Qe(e,f.path);a=a.updateChild(c,f.currentOutputSnapshotRaw)}const s=a.val(!0),l=e;t.server_.put(l.toString(),s,u=>{ss(t,"transaction put response",{path:l.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat(In(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&c.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();us(t,Yc(t.transactionQueueTree_,e)),Zc(t,t.transactionQueueTree_),jt(t.eventQueue_,e,f);for(let h=0;h<c.length;h++)Fr(c[h])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{nt("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}ls(t,e)}},o)}function ls(t,e){const n=Xy(t,e),r=aa(n),i=Qy(t,n);return h1(t,i,r),r}function h1(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(s=>s.status===0).map(s=>s.currentWriteId);for(let s=0;s<e.length;s++){const l=e[s],u=Qe(n,l.path);let f=!1,c;if(L(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,c=l.abortReason,i=i.concat(In(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=t1)f=!0,c="maxretry",i=i.concat(In(t.serverSyncTree_,l.currentWriteId,!0));else{const h=Yy(t,l.path,o);l.currentInputSnapshot=h;const g=e[s].update(h.val());if(g!==void 0){Xc("transaction failed: Data returned ",g,l.path);let v=Fe(g);typeof g=="object"&&g!=null&&en(g,".priority")||(v=v.updatePriority(h.getPriority()));const y=l.currentWriteId,m=Qc(t),b=By(v,h,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=b,l.currentWriteId=Ky(t),o.splice(o.indexOf(y),1),i=i.concat(Ny(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(In(t.serverSyncTree_,y,!0))}else f=!0,c="nodata",i=i.concat(In(t.serverSyncTree_,l.currentWriteId,!0))}jt(t.eventQueue_,n,i),i=[],f&&(e[s].status=2,function(h){setTimeout(h,Math.floor(0))}(e[s].unwatcher),e[s].onComplete&&(c==="nodata"?r.push(()=>e[s].onComplete(null,!1,e[s].currentInputSnapshot)):r.push(()=>e[s].onComplete(new Error(c),!1,null))))}us(t,t.transactionQueueTree_);for(let s=0;s<r.length;s++)Fr(r[s]);Zc(t,t.transactionQueueTree_)}function Xy(t,e){let n,r=t.transactionQueueTree_;for(n=te(e);n!==null&&Br(r)===void 0;)r=Yc(r,n),e=_e(e),n=te(e);return r}function Qy(t,e){const n=[];return Jy(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Jy(t,e,n){const r=Br(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);os(e,i=>{Jy(t,i,n)})}function us(t,e){const n=Br(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Wy(e,n.length>0?n:void 0)}os(e,r=>{us(t,r)})}function Zy(t,e){const n=aa(Xy(t,e)),r=Yc(t.transactionQueueTree_,e);return Uw(r,i=>{nl(t,i)}),nl(t,r),Hy(r,i=>{nl(t,i)}),n}function nl(t,e){const n=Br(e);if(n){const r=[];let i=[],a=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(L(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(L(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(In(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?Wy(e,void 0):n.length=a+1,jt(t.eventQueue_,aa(e),i);for(let o=0;o<r.length;o++)Fr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function p1(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Kh=function(t,e){const n=v1(t),r=n.namespace;n.domain==="firebase.com"&&Xt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Xt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||A0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Jg(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ye(n.pathString)}},v1=function(t){let e="",n="",r="",i="",a="",o=!0,s="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(s=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(f,c)),f<c&&(i=d1(t.substring(f,c)));const h=p1(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=s==="https"||s==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=r}"ns"in h&&(a=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ie(this.snapshot.exportVal())}}class y1{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:sy(this._path)}get ref(){return new tn(this._repo,this._path)}get _queryIdentifier(){const e=Mh(this._queryParams),n=Tc(e);return n==="{}"?"default":n}get _queryObject(){return Mh(this._queryParams)}isEqual(e){if(e=jr(e),!(e instanceof ef))return!1;const n=this._repo===e._repo,r=cy(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ux(this._path)}}class tn extends ef{constructor(e,n){super(e,n,new Nc,!1)}get parent(){const e=uy(this._path);return e===null?null:new tn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ii{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ye(e),r=Kl(this.ref,e);return new Ii(this._node.getChild(n),r,Ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ii(i,Kl(this.ref,r),Ae)))}hasChild(e){const n=new ye(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Yh(t,e){return t=jr(t),t._checkNotDeleted("ref"),e!==void 0?Kl(t._root,e):t._root}function Kl(t,e){return t=jr(t),te(t._path)===null?Kw("child","path",e,!1):qy("child","path",e,!1),new tn(t._repo,$e(t._path,e))}function _1(t,e){t=jr(t),Yw("set",t._path),Vw("set",e,t._path,!1);const n=new Ac;return s1(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function b1(t){t=jr(t);const e=new m1(()=>{}),n=new tf(e);return o1(t._repo,t,n).then(r=>new Ii(r,new tn(t._repo,t._path),t._queryParams.getIndex()))}class tf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new g1("value",this,new Ii(e.snapshotNode,new tn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new y1(this,e,n):null}matches(e){return e instanceof tf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}_w(tn);Ow(tn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="FIREBASE_DATABASE_EMULATOR_HOST",Yl={};let w1=!1;function S1(t,e,n,r){t.repoInfo_=new Jg(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function O1(t,e,n,r,i){let a=r||t.options.databaseURL;a===void 0&&(t.options.projectId||Xt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Kh(a,i),s=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[x1]),u?(l=!0,a=`http://${u}?ns=${s.namespace}`,o=Kh(a,i),s=o.repoInfo):l=!o.repoInfo.secure;const f=i&&l?new nr(nr.OWNER):new j0(t.name,t.options,e);Xw("Invalid Firebase Database URL",o),Z(o.path)||Xt("Database URL must point to the root of a Firebase Database (not including a child path).");const c=A1(s,t,f,new D0(t.name,n));return new T1(c,t)}function E1(t,e){const n=Yl[e];(!n||n[t.key]!==t)&&Xt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),u1(t),delete n[t.key]}function A1(t,e,n,r){let i=Yl[e.name];i||(i={},Yl[e.name]=i);let a=i[t.toURLString()];return a&&Xt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new n1(t,w1,n,r),i[t.toURLString()]=a,a}class T1{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(r1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tn(this._repo,oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(E1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Xt("Cannot call "+e+" on a deleted database.")}}function C1(t=e0(),e){const n=Jb(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Zb("database");r&&P1(n,...r)}return n}function P1(t,e,n,r={}){t=jr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Xt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new nr(nr.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:t0(r.mockUserToken,t.app.options.projectId);a=new nr(o)}S1(i,e,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t){x0(p0),n0(new r0("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return O1(r,i,a,n)},"PUBLIC").setMultipleInstances(!0)),hh(gh,yh,t),hh(gh,yh,"esm2017")}qt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};qt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};I1();var Xl={},$1={get exports(){return Xl},set exports(t){Xl=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var o=typeof a;if(o==="string"||o==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var s=n.apply(null,a);s&&r.push(s)}}else if(o==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){r.push(a.toString());continue}for(var l in a)e.call(a,l)&&a[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})($1);const ge=Xl;function k1(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ut=k1,M1=typeof xa=="object"&&xa&&xa.Object===Object&&xa,em=M1,N1=em,R1=typeof self=="object"&&self&&self.Object===Object&&self,D1=N1||R1||Function("return this")(),Ft=D1,j1=Ft,L1=j1.Symbol,oa=L1,Xh=oa,tm=Object.prototype,F1=tm.hasOwnProperty,B1=tm.toString,ii=Xh?Xh.toStringTag:void 0;function W1(t){var e=F1.call(t,ii),n=t[ii];try{t[ii]=void 0;var r=!0}catch{}var i=B1.call(t);return r&&(e?t[ii]=n:delete t[ii]),i}var U1=W1,H1=Object.prototype,G1=H1.toString;function z1(t){return G1.call(t)}var q1=z1,Qh=oa,V1=U1,K1=q1,Y1="[object Null]",X1="[object Undefined]",Jh=Qh?Qh.toStringTag:void 0;function Q1(t){return t==null?t===void 0?X1:Y1:Jh&&Jh in Object(t)?V1(t):K1(t)}var gn=Q1,J1=Array.isArray,ce=J1;function Z1(t){return t!=null&&typeof t=="object"}var yn=Z1,eS=gn,tS=ce,nS=yn,rS="[object String]";function iS(t){return typeof t=="string"||!tS(t)&&nS(t)&&eS(t)==rS}var sa=iS,aS=gn,oS=yn,sS="[object Symbol]";function lS(t){return typeof t=="symbol"||oS(t)&&aS(t)==sS}var Wr=lS,uS=ce,cS=Wr,fS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hS=/^\w*$/;function dS(t,e){if(uS(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||cS(t)?!0:hS.test(t)||!fS.test(t)||e!=null&&t in Object(e)}var nf=dS,pS=gn,vS=ut,gS="[object AsyncFunction]",yS="[object Function]",mS="[object GeneratorFunction]",_S="[object Proxy]";function bS(t){if(!vS(t))return!1;var e=pS(t);return e==yS||e==mS||e==gS||e==_S}var K=bS,xS=Ft,wS=xS["__core-js_shared__"],SS=wS,rl=SS,Zh=function(){var t=/[^.]+$/.exec(rl&&rl.keys&&rl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function OS(t){return!!Zh&&Zh in t}var ES=OS,AS=Function.prototype,TS=AS.toString;function CS(t){if(t!=null){try{return TS.call(t)}catch{}try{return t+""}catch{}}return""}var nm=CS,PS=K,IS=ES,$S=ut,kS=nm,MS=/[\\^$.*+?()[\]{}|]/g,NS=/^\[object .+?Constructor\]$/,RS=Function.prototype,DS=Object.prototype,jS=RS.toString,LS=DS.hasOwnProperty,FS=RegExp("^"+jS.call(LS).replace(MS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BS(t){if(!$S(t)||IS(t))return!1;var e=PS(t)?FS:NS;return e.test(kS(t))}var WS=BS;function US(t,e){return t==null?void 0:t[e]}var HS=US,GS=WS,zS=HS;function qS(t,e){var n=zS(t,e);return GS(n)?n:void 0}var Gn=qS,VS=Gn,KS=VS(Object,"create"),cs=KS,ed=cs;function YS(){this.__data__=ed?ed(null):{},this.size=0}var XS=YS;function QS(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var JS=QS,ZS=cs,eO="__lodash_hash_undefined__",tO=Object.prototype,nO=tO.hasOwnProperty;function rO(t){var e=this.__data__;if(ZS){var n=e[t];return n===eO?void 0:n}return nO.call(e,t)?e[t]:void 0}var iO=rO,aO=cs,oO=Object.prototype,sO=oO.hasOwnProperty;function lO(t){var e=this.__data__;return aO?e[t]!==void 0:sO.call(e,t)}var uO=lO,cO=cs,fO="__lodash_hash_undefined__";function hO(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=cO&&e===void 0?fO:e,this}var dO=hO,pO=XS,vO=JS,gO=iO,yO=uO,mO=dO;function Ur(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ur.prototype.clear=pO;Ur.prototype.delete=vO;Ur.prototype.get=gO;Ur.prototype.has=yO;Ur.prototype.set=mO;var _O=Ur;function bO(){this.__data__=[],this.size=0}var xO=bO;function wO(t,e){return t===e||t!==t&&e!==e}var rf=wO,SO=rf;function OO(t,e){for(var n=t.length;n--;)if(SO(t[n][0],e))return n;return-1}var fs=OO,EO=fs,AO=Array.prototype,TO=AO.splice;function CO(t){var e=this.__data__,n=EO(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():TO.call(e,n,1),--this.size,!0}var PO=CO,IO=fs;function $O(t){var e=this.__data__,n=IO(e,t);return n<0?void 0:e[n][1]}var kO=$O,MO=fs;function NO(t){return MO(this.__data__,t)>-1}var RO=NO,DO=fs;function jO(t,e){var n=this.__data__,r=DO(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var LO=jO,FO=xO,BO=PO,WO=kO,UO=RO,HO=LO;function Hr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hr.prototype.clear=FO;Hr.prototype.delete=BO;Hr.prototype.get=WO;Hr.prototype.has=UO;Hr.prototype.set=HO;var hs=Hr,GO=Gn,zO=Ft,qO=GO(zO,"Map"),af=qO,td=_O,VO=hs,KO=af;function YO(){this.size=0,this.__data__={hash:new td,map:new(KO||VO),string:new td}}var XO=YO;function QO(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var JO=QO,ZO=JO;function eE(t,e){var n=t.__data__;return ZO(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ds=eE,tE=ds;function nE(t){var e=tE(this,t).delete(t);return this.size-=e?1:0,e}var rE=nE,iE=ds;function aE(t){return iE(this,t).get(t)}var oE=aE,sE=ds;function lE(t){return sE(this,t).has(t)}var uE=lE,cE=ds;function fE(t,e){var n=cE(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var hE=fE,dE=XO,pE=rE,vE=oE,gE=uE,yE=hE;function Gr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gr.prototype.clear=dE;Gr.prototype.delete=pE;Gr.prototype.get=vE;Gr.prototype.has=gE;Gr.prototype.set=yE;var of=Gr,rm=of,mE="Expected a function";function sf(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(mE);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(sf.Cache||rm),n}sf.Cache=rm;var _E=sf,bE=_E,xE=500;function wE(t){var e=bE(t,function(r){return n.size===xE&&n.clear(),r}),n=e.cache;return e}var SE=wE,OE=SE,EE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,AE=/\\(\\)?/g,TE=OE(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(EE,function(n,r,i,a){e.push(i?a.replace(AE,"$1"):r||n)}),e}),CE=TE;function PE(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var lf=PE,nd=oa,IE=lf,$E=ce,kE=Wr,ME=1/0,rd=nd?nd.prototype:void 0,id=rd?rd.toString:void 0;function im(t){if(typeof t=="string")return t;if($E(t))return IE(t,im)+"";if(kE(t))return id?id.call(t):"";var e=t+"";return e=="0"&&1/t==-ME?"-0":e}var NE=im,RE=NE;function DE(t){return t==null?"":RE(t)}var am=DE,jE=ce,LE=nf,FE=CE,BE=am;function WE(t,e){return jE(t)?t:LE(t,e)?[t]:FE(BE(t))}var om=WE,UE=Wr,HE=1/0;function GE(t){if(typeof t=="string"||UE(t))return t;var e=t+"";return e=="0"&&1/t==-HE?"-0":e}var ps=GE,zE=om,qE=ps;function VE(t,e){e=zE(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[qE(e[n++])];return n&&n==r?t:void 0}var uf=VE,KE=uf;function YE(t,e,n){var r=t==null?void 0:KE(t,e);return r===void 0?n:r}var st=YE;function XE(t){return t==null}var z=XE,Ql={},QE={get exports(){return Ql},set exports(t){Ql=t}},he={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=typeof Symbol=="function"&&Symbol.for,cf=We?Symbol.for("react.element"):60103,ff=We?Symbol.for("react.portal"):60106,vs=We?Symbol.for("react.fragment"):60107,gs=We?Symbol.for("react.strict_mode"):60108,ys=We?Symbol.for("react.profiler"):60114,ms=We?Symbol.for("react.provider"):60109,_s=We?Symbol.for("react.context"):60110,hf=We?Symbol.for("react.async_mode"):60111,bs=We?Symbol.for("react.concurrent_mode"):60111,xs=We?Symbol.for("react.forward_ref"):60112,ws=We?Symbol.for("react.suspense"):60113,JE=We?Symbol.for("react.suspense_list"):60120,Ss=We?Symbol.for("react.memo"):60115,Os=We?Symbol.for("react.lazy"):60116,ZE=We?Symbol.for("react.block"):60121,eA=We?Symbol.for("react.fundamental"):60117,tA=We?Symbol.for("react.responder"):60118,nA=We?Symbol.for("react.scope"):60119;function ct(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cf:switch(t=t.type,t){case hf:case bs:case vs:case ys:case gs:case ws:return t;default:switch(t=t&&t.$$typeof,t){case _s:case xs:case Os:case Ss:case ms:return t;default:return e}}case ff:return e}}}function sm(t){return ct(t)===bs}he.AsyncMode=hf;he.ConcurrentMode=bs;he.ContextConsumer=_s;he.ContextProvider=ms;he.Element=cf;he.ForwardRef=xs;he.Fragment=vs;he.Lazy=Os;he.Memo=Ss;he.Portal=ff;he.Profiler=ys;he.StrictMode=gs;he.Suspense=ws;he.isAsyncMode=function(t){return sm(t)||ct(t)===hf};he.isConcurrentMode=sm;he.isContextConsumer=function(t){return ct(t)===_s};he.isContextProvider=function(t){return ct(t)===ms};he.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cf};he.isForwardRef=function(t){return ct(t)===xs};he.isFragment=function(t){return ct(t)===vs};he.isLazy=function(t){return ct(t)===Os};he.isMemo=function(t){return ct(t)===Ss};he.isPortal=function(t){return ct(t)===ff};he.isProfiler=function(t){return ct(t)===ys};he.isStrictMode=function(t){return ct(t)===gs};he.isSuspense=function(t){return ct(t)===ws};he.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vs||t===bs||t===ys||t===gs||t===ws||t===JE||typeof t=="object"&&t!==null&&(t.$$typeof===Os||t.$$typeof===Ss||t.$$typeof===ms||t.$$typeof===_s||t.$$typeof===xs||t.$$typeof===eA||t.$$typeof===tA||t.$$typeof===nA||t.$$typeof===ZE)};he.typeOf=ct;(function(t){t.exports=he})(QE);var rA=gn,iA=yn,aA="[object Number]";function oA(t){return typeof t=="number"||iA(t)&&rA(t)==aA}var lm=oA,sA=lm;function lA(t){return sA(t)&&t!=+t}var Es=lA,yt=function(e){return e===0?0:e>0?1:-1},$n=function(e){return sa(e)&&e.indexOf("%")===e.length-1},F=function(e){return lm(e)&&!Es(e)},ke=function(e){return F(e)||sa(e)},uA=0,la=function(e){var n=++uA;return"".concat(e||"").concat(n)},hr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!F(e)&&!sa(e))return r;var a;if($n(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Es(a)&&(a=r),i&&a>n&&(a=n),a},rn=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},cA=function(e){if(!ce(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Et=function(e,n){return F(e)&&F(n)?function(r){return e+r*(n-e)}:function(){return n}};function Ja(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):st(r,e))===n})}function ir(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Jl(t){return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}var fA=["viewBox","children"],hA=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","type","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ad=["points","pathLength"],il={svg:fA,polygon:ad,polyline:ad},df=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Za=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!ut(r))return null;var i={};return Object.keys(r).forEach(function(a){df.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},dA=function(e,n,r){return function(i){return e(n,r,i),null}},eo=function(e,n,r){if(!ut(e)||Jl(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];df.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=dA(o,n,r))}),i},pA=["children"],vA=["children"];function od(t,e){if(t==null)return{};var n=gA(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var sd={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},cn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ld=null,al=null,pf=function t(e){if(e===ld&&ce(al))return al;var n=[];return B.Children.forEach(e,function(r){z(r)||(Ql.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),al=n,ld=e,n};function _t(t,e){var n=[],r=[];return ce(e)?r=e.map(function(i){return cn(i)}):r=[cn(e)],pf(t).forEach(function(i){var a=st(i,"type.displayName")||st(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ht(t,e){var n=_t(t,e);return n&&n[0]}var ud=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!F(r)||r<=0||!F(i)||i<=0)},yA=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mA=function(e){return e&&e.type&&sa(e.type)&&yA.indexOf(e.type)>=0},se=function(e,n,r){var i;if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(B.isValidElement(e)&&(a=e.props),!ut(a))return null;var o={},s=(i=il==null?void 0:il[r])!==null&&i!==void 0?i:[];return Object.keys(a).forEach(function(l){(r&&s.includes(l)||hA.includes(l)||n&&df.includes(l))&&(o[l]=a[l])}),o},um=function t(e,n){if(e===n)return!0;var r=B.Children.count(e);if(r!==B.Children.count(n))return!1;if(r===0)return!0;if(r===1)return cd(ce(e)?e[0]:e,ce(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(ce(a)||ce(o)){if(!t(a,o))return!1}else if(!cd(a,o))return!1}return!0},cd=function(e,n){if(z(e)&&z(n))return!0;if(!z(e)&&!z(n)){var r=e.props||{},i=r.children,a=od(r,pA),o=n.props||{},s=o.children,l=od(o,vA);return i&&s?ir(a,l)&&um(i,s):!i&&!s?ir(a,l):!1}return!1},fd=function(e,n){var r=[],i={};return pf(e).forEach(function(a,o){if(mA(a))r.push(a);else if(a){var s=cn(a.type),l=n[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var c=u(a,s,o);r.push(c),i[s]=!0}}}),r},_A=function(e){var n=e&&e.type;return n&&sd[n]?sd[n]:null},bA=function(e,n){return pf(n).indexOf(e)},xA=["children","width","height","viewBox","className","style"];function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}function wA(t,e){if(t==null)return{};var n=SA(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eu(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=wA(t,xA),l=i||{width:n,height:r,x:0,y:0},u=ge("recharts-surface",a);return T.createElement("svg",Zl({},se(s,!0,"svg"),{className:u,width:n,height:r,style:o,viewBox:"".concat(l.x," ").concat(l.y," ").concat(l.width," ").concat(l.height)}),T.createElement("title",null,t.title),T.createElement("desc",null,t.desc),e)}var OA=["children","className"];function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}function EA(t,e){if(t==null)return{};var n=AA(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Be=T.forwardRef(function(t,e){var n=t.children,r=t.className,i=EA(t,OA),a=ge("recharts-layer",r);return T.createElement("g",tu({className:a},se(i,!0),{ref:e}),n)}),TA=hs;function CA(){this.__data__=new TA,this.size=0}var PA=CA;function IA(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var $A=IA;function kA(t){return this.__data__.get(t)}var MA=kA;function NA(t){return this.__data__.has(t)}var RA=NA,DA=hs,jA=af,LA=of,FA=200;function BA(t,e){var n=this.__data__;if(n instanceof DA){var r=n.__data__;if(!jA||r.length<FA-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new LA(r)}return n.set(t,e),this.size=n.size,this}var WA=BA,UA=hs,HA=PA,GA=$A,zA=MA,qA=RA,VA=WA;function zr(t){var e=this.__data__=new UA(t);this.size=e.size}zr.prototype.clear=HA;zr.prototype.delete=GA;zr.prototype.get=zA;zr.prototype.has=qA;zr.prototype.set=VA;var cm=zr,KA="__lodash_hash_undefined__";function YA(t){return this.__data__.set(t,KA),this}var XA=YA;function QA(t){return this.__data__.has(t)}var JA=QA,ZA=of,eT=XA,tT=JA;function to(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ZA;++e<n;)this.add(t[e])}to.prototype.add=to.prototype.push=eT;to.prototype.has=tT;var fm=to;function nT(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var hm=nT;function rT(t,e){return t.has(e)}var dm=rT,iT=fm,aT=hm,oT=dm,sT=1,lT=2;function uT(t,e,n,r,i,a){var o=n&sT,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),f=a.get(e);if(u&&f)return u==e&&f==t;var c=-1,h=!0,g=n&lT?new iT:void 0;for(a.set(t,e),a.set(e,t);++c<s;){var v=t[c],d=e[c];if(r)var y=o?r(d,v,c,e,t,a):r(v,d,c,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(g){if(!aT(e,function(m,b){if(!oT(g,b)&&(v===m||i(v,m,n,r,a)))return g.push(b)})){h=!1;break}}else if(!(v===d||i(v,d,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var pm=uT,cT=Ft,fT=cT.Uint8Array,hT=fT;function dT(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var pT=dT;function vT(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var vf=vT,hd=oa,dd=hT,gT=rf,yT=pm,mT=pT,_T=vf,bT=1,xT=2,wT="[object Boolean]",ST="[object Date]",OT="[object Error]",ET="[object Map]",AT="[object Number]",TT="[object RegExp]",CT="[object Set]",PT="[object String]",IT="[object Symbol]",$T="[object ArrayBuffer]",kT="[object DataView]",pd=hd?hd.prototype:void 0,ol=pd?pd.valueOf:void 0;function MT(t,e,n,r,i,a,o){switch(n){case kT:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $T:return!(t.byteLength!=e.byteLength||!a(new dd(t),new dd(e)));case wT:case ST:case AT:return gT(+t,+e);case OT:return t.name==e.name&&t.message==e.message;case TT:case PT:return t==e+"";case ET:var s=mT;case CT:var l=r&bT;if(s||(s=_T),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=xT,o.set(t,e);var f=yT(s(t),s(e),r,i,a,o);return o.delete(t),f;case IT:if(ol)return ol.call(t)==ol.call(e)}return!1}var NT=MT;function RT(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var vm=RT,DT=vm,jT=ce;function LT(t,e,n){var r=e(t);return jT(t)?r:DT(r,n(t))}var FT=LT;function BT(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var WT=BT;function UT(){return[]}var HT=UT,GT=WT,zT=HT,qT=Object.prototype,VT=qT.propertyIsEnumerable,vd=Object.getOwnPropertySymbols,KT=vd?function(t){return t==null?[]:(t=Object(t),GT(vd(t),function(e){return VT.call(t,e)}))}:zT,YT=KT;function XT(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var QT=XT,JT=gn,ZT=yn,eC="[object Arguments]";function tC(t){return ZT(t)&&JT(t)==eC}var nC=tC,gd=nC,rC=yn,gm=Object.prototype,iC=gm.hasOwnProperty,aC=gm.propertyIsEnumerable,oC=gd(function(){return arguments}())?gd:function(t){return rC(t)&&iC.call(t,"callee")&&!aC.call(t,"callee")},gf=oC,$i={},sC={get exports(){return $i},set exports(t){$i=t}};function lC(){return!1}var uC=lC;(function(t,e){var n=Ft,r=uC,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(sC,$i);var cC=9007199254740991,fC=/^(?:0|[1-9]\d*)$/;function hC(t,e){var n=typeof t;return e=e??cC,!!e&&(n=="number"||n!="symbol"&&fC.test(t))&&t>-1&&t%1==0&&t<e}var yf=hC,dC=9007199254740991;function pC(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dC}var mf=pC,vC=gn,gC=mf,yC=yn,mC="[object Arguments]",_C="[object Array]",bC="[object Boolean]",xC="[object Date]",wC="[object Error]",SC="[object Function]",OC="[object Map]",EC="[object Number]",AC="[object Object]",TC="[object RegExp]",CC="[object Set]",PC="[object String]",IC="[object WeakMap]",$C="[object ArrayBuffer]",kC="[object DataView]",MC="[object Float32Array]",NC="[object Float64Array]",RC="[object Int8Array]",DC="[object Int16Array]",jC="[object Int32Array]",LC="[object Uint8Array]",FC="[object Uint8ClampedArray]",BC="[object Uint16Array]",WC="[object Uint32Array]",xe={};xe[MC]=xe[NC]=xe[RC]=xe[DC]=xe[jC]=xe[LC]=xe[FC]=xe[BC]=xe[WC]=!0;xe[mC]=xe[_C]=xe[$C]=xe[bC]=xe[kC]=xe[xC]=xe[wC]=xe[SC]=xe[OC]=xe[EC]=xe[AC]=xe[TC]=xe[CC]=xe[PC]=xe[IC]=!1;function UC(t){return yC(t)&&gC(t.length)&&!!xe[vC(t)]}var HC=UC;function GC(t){return function(e){return t(e)}}var ym=GC,no={},zC={get exports(){return no},set exports(t){no=t}};(function(t,e){var n=em,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(zC,no);var qC=HC,VC=ym,yd=no,md=yd&&yd.isTypedArray,KC=md?VC(md):qC,mm=KC,YC=QT,XC=gf,QC=ce,JC=$i,ZC=yf,eP=mm,tP=Object.prototype,nP=tP.hasOwnProperty;function rP(t,e){var n=QC(t),r=!n&&XC(t),i=!n&&!r&&JC(t),a=!n&&!r&&!i&&eP(t),o=n||r||i||a,s=o?YC(t.length,String):[],l=s.length;for(var u in t)(e||nP.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ZC(u,l)))&&s.push(u);return s}var iP=rP,aP=Object.prototype;function oP(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||aP;return t===n}var sP=oP;function lP(t,e){return function(n){return t(e(n))}}var uP=lP,cP=uP,fP=cP(Object.keys,Object),hP=fP,dP=sP,pP=hP,vP=Object.prototype,gP=vP.hasOwnProperty;function yP(t){if(!dP(t))return pP(t);var e=[];for(var n in Object(t))gP.call(t,n)&&n!="constructor"&&e.push(n);return e}var mP=yP,_P=K,bP=mf;function xP(t){return t!=null&&bP(t.length)&&!_P(t)}var ua=xP,wP=iP,SP=mP,OP=ua;function EP(t){return OP(t)?wP(t):SP(t)}var As=EP,AP=FT,TP=YT,CP=As;function PP(t){return AP(t,CP,TP)}var IP=PP,_d=IP,$P=1,kP=Object.prototype,MP=kP.hasOwnProperty;function NP(t,e,n,r,i,a){var o=n&$P,s=_d(t),l=s.length,u=_d(e),f=u.length;if(l!=f&&!o)return!1;for(var c=l;c--;){var h=s[c];if(!(o?h in e:MP.call(e,h)))return!1}var g=a.get(t),v=a.get(e);if(g&&v)return g==e&&v==t;var d=!0;a.set(t,e),a.set(e,t);for(var y=o;++c<l;){h=s[c];var m=t[h],b=e[h];if(r)var p=o?r(b,m,h,e,t,a):r(m,b,h,t,e,a);if(!(p===void 0?m===b||i(m,b,n,r,a):p)){d=!1;break}y||(y=h=="constructor")}if(d&&!y){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(d=!1)}return a.delete(t),a.delete(e),d}var RP=NP,DP=Gn,jP=Ft,LP=DP(jP,"DataView"),FP=LP,BP=Gn,WP=Ft,UP=BP(WP,"Promise"),HP=UP,GP=Gn,zP=Ft,qP=GP(zP,"Set"),_m=qP,VP=Gn,KP=Ft,YP=VP(KP,"WeakMap"),XP=YP,nu=FP,ru=af,iu=HP,au=_m,ou=XP,bm=gn,qr=nm,bd="[object Map]",QP="[object Object]",xd="[object Promise]",wd="[object Set]",Sd="[object WeakMap]",Od="[object DataView]",JP=qr(nu),ZP=qr(ru),eI=qr(iu),tI=qr(au),nI=qr(ou),wn=bm;(nu&&wn(new nu(new ArrayBuffer(1)))!=Od||ru&&wn(new ru)!=bd||iu&&wn(iu.resolve())!=xd||au&&wn(new au)!=wd||ou&&wn(new ou)!=Sd)&&(wn=function(t){var e=bm(t),n=e==QP?t.constructor:void 0,r=n?qr(n):"";if(r)switch(r){case JP:return Od;case ZP:return bd;case eI:return xd;case tI:return wd;case nI:return Sd}return e});var rI=wn,sl=cm,iI=pm,aI=NT,oI=RP,Ed=rI,Ad=ce,Td=$i,sI=mm,lI=1,Cd="[object Arguments]",Pd="[object Array]",Ea="[object Object]",uI=Object.prototype,Id=uI.hasOwnProperty;function cI(t,e,n,r,i,a){var o=Ad(t),s=Ad(e),l=o?Pd:Ed(t),u=s?Pd:Ed(e);l=l==Cd?Ea:l,u=u==Cd?Ea:u;var f=l==Ea,c=u==Ea,h=l==u;if(h&&Td(t)){if(!Td(e))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new sl),o||sI(t)?iI(t,e,n,r,i,a):aI(t,e,l,n,r,i,a);if(!(n&lI)){var g=f&&Id.call(t,"__wrapped__"),v=c&&Id.call(e,"__wrapped__");if(g||v){var d=g?t.value():t,y=v?e.value():e;return a||(a=new sl),i(d,y,n,r,a)}}return h?(a||(a=new sl),oI(t,e,n,r,i,a)):!1}var fI=cI,hI=fI,$d=yn;function xm(t,e,n,r,i){return t===e?!0:t==null||e==null||!$d(t)&&!$d(e)?t!==t&&e!==e:hI(t,e,n,r,xm,i)}var _f=xm,dI=cm,pI=_f,vI=1,gI=2;function yI(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],f=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var c=new dI;if(r)var h=r(u,f,l,t,e,c);if(!(h===void 0?pI(f,u,vI|gI,r,c):h))return!1}}return!0}var mI=yI,_I=ut;function bI(t){return t===t&&!_I(t)}var wm=bI,xI=wm,wI=As;function SI(t){for(var e=wI(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,xI(i)]}return e}var OI=SI;function EI(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Sm=EI,AI=mI,TI=OI,CI=Sm;function PI(t){var e=TI(t);return e.length==1&&e[0][2]?CI(e[0][0],e[0][1]):function(n){return n===t||AI(n,t,e)}}var II=PI;function $I(t,e){return t!=null&&e in Object(t)}var kI=$I,MI=om,NI=gf,RI=ce,DI=yf,jI=mf,LI=ps;function FI(t,e,n){e=MI(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=LI(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&jI(i)&&DI(o,i)&&(RI(t)||NI(t)))}var BI=FI,WI=kI,UI=BI;function HI(t,e){return t!=null&&UI(t,e,WI)}var GI=HI,zI=_f,qI=st,VI=GI,KI=nf,YI=wm,XI=Sm,QI=ps,JI=1,ZI=2;function e$(t,e){return KI(t)&&YI(e)?XI(QI(t),e):function(n){var r=qI(n,t);return r===void 0&&r===e?VI(n,t):zI(e,r,JI|ZI)}}var t$=e$;function n$(t){return t}var Vr=n$;function r$(t){return function(e){return e==null?void 0:e[t]}}var i$=r$,a$=uf;function o$(t){return function(e){return a$(e,t)}}var s$=o$,l$=i$,u$=s$,c$=nf,f$=ps;function h$(t){return c$(t)?l$(f$(t)):u$(t)}var d$=h$,p$=II,v$=t$,g$=Vr,y$=ce,m$=d$;function _$(t){return typeof t=="function"?t:t==null?g$:typeof t=="object"?y$(t)?v$(t[0],t[1]):p$(t):m$(t)}var mn=_$;function b$(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Om=b$;function x$(t){return t!==t}var w$=x$;function S$(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var O$=S$,E$=Om,A$=w$,T$=O$;function C$(t,e,n){return e===e?T$(t,e,n):E$(t,A$,n)}var P$=C$,I$=P$;function $$(t,e){var n=t==null?0:t.length;return!!n&&I$(t,e,0)>-1}var k$=$$;function M$(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var N$=M$;function R$(){}var D$=R$,ll=_m,j$=D$,L$=vf,F$=1/0,B$=ll&&1/L$(new ll([,-0]))[1]==F$?function(t){return new ll(t)}:j$,W$=B$,U$=fm,H$=k$,G$=N$,z$=dm,q$=W$,V$=vf,K$=200;function Y$(t,e,n){var r=-1,i=H$,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=G$;else if(a>=K$){var u=e?null:q$(t);if(u)return V$(u);o=!1,i=z$,l=new U$}else l=e?[]:s;e:for(;++r<a;){var f=t[r],c=e?e(f):f;if(f=n||f!==0?f:0,o&&c===c){for(var h=l.length;h--;)if(l[h]===c)continue e;e&&l.push(c),s.push(f)}else i(l,c,n)||(l!==s&&l.push(c),s.push(f))}return s}var X$=Y$,Q$=mn,J$=X$;function Z$(t,e){return t&&t.length?J$(t,Q$(e)):[]}var ro=Z$;function ek(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var tk=ek,nk=tk;function rk(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:nk(t,e,n)}var ik=rk,ak="\\ud800-\\udfff",ok="\\u0300-\\u036f",sk="\\ufe20-\\ufe2f",lk="\\u20d0-\\u20ff",uk=ok+sk+lk,ck="\\ufe0e\\ufe0f",fk="\\u200d",hk=RegExp("["+fk+ak+uk+ck+"]");function dk(t){return hk.test(t)}var Em=dk;function pk(t){return t.split("")}var vk=pk,Am="\\ud800-\\udfff",gk="\\u0300-\\u036f",yk="\\ufe20-\\ufe2f",mk="\\u20d0-\\u20ff",_k=gk+yk+mk,bk="\\ufe0e\\ufe0f",xk="["+Am+"]",su="["+_k+"]",lu="\\ud83c[\\udffb-\\udfff]",wk="(?:"+su+"|"+lu+")",Tm="[^"+Am+"]",Cm="(?:\\ud83c[\\udde6-\\uddff]){2}",Pm="[\\ud800-\\udbff][\\udc00-\\udfff]",Sk="\\u200d",Im=wk+"?",$m="["+bk+"]?",Ok="(?:"+Sk+"(?:"+[Tm,Cm,Pm].join("|")+")"+$m+Im+")*",Ek=$m+Im+Ok,Ak="(?:"+[Tm+su+"?",su,Cm,Pm,xk].join("|")+")",Tk=RegExp(lu+"(?="+lu+")|"+Ak+Ek,"g");function Ck(t){return t.match(Tk)||[]}var Pk=Ck,Ik=vk,$k=Em,kk=Pk;function Mk(t){return $k(t)?kk(t):Ik(t)}var Nk=Mk,Rk=ik,Dk=Em,jk=Nk,Lk=am;function Fk(t){return function(e){e=Lk(e);var n=Dk(e)?jk(e):void 0,r=n?n[0]:e.charAt(0),i=n?Rk(n,1).join(""):e.slice(1);return r[t]()+i}}var Bk=Fk,Wk=Bk,Uk=Wk("toUpperCase"),Ts=Uk;function me(t){return function(){return t}}const km=Math.cos,io=Math.sin,$t=Math.sqrt,ao=Math.PI,Cs=2*ao,uu=Math.PI,cu=2*uu,Sn=1e-6,Hk=cu-Sn;function Mm(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Gk(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Mm;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class zk{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Mm:Gk(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,f=o-e,c=s-n,h=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Sn)if(!(Math.abs(c*l-u*f)>Sn)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,v=i-s,d=l*l+u*u,y=g*g+v*v,m=Math.sqrt(d),b=Math.sqrt(h),p=a*Math.tan((uu-Math.acos((d+h-y)/(2*m*b)))/2),_=p/b,w=p/m;Math.abs(_-1)>Sn&&this._append`L${e+_*f},${n+_*c}`,this._append`A${a},${a},0,0,${+(c*g>f*v)},${this._x1=e+w*l},${this._y1=n+w*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,f=n+l,c=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Sn||Math.abs(this._y1-f)>Sn)&&this._append`L${u},${f}`,r&&(h<0&&(h=h%cu+cu),h>Hk?this._append`A${r},${r},0,1,${c},${e-s},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:h>Sn&&this._append`A${r},${r},0,${+(h>=uu)},${c},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bf(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new zk(e)}function xf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Nm(t){this._context=t}Nm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ps(t){return new Nm(t)}function Rm(t){return t[0]}function Dm(t){return t[1]}function jm(t,e){var n=me(!0),r=null,i=Ps,a=null,o=bf(s);t=typeof t=="function"?t:t===void 0?Rm:me(t),e=typeof e=="function"?e:e===void 0?Dm:me(e);function s(l){var u,f=(l=xf(l)).length,c,h=!1,g;for(r==null&&(a=i(g=o())),u=0;u<=f;++u)!(u<f&&n(c=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(c,u,l),+e(c,u,l));if(g)return a=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:me(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:me(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:me(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Aa(t,e,n){var r=null,i=me(!0),a=null,o=Ps,s=null,l=bf(u);t=typeof t=="function"?t:t===void 0?Rm:me(+t),e=typeof e=="function"?e:me(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Dm:me(+n);function u(c){var h,g,v,d=(c=xf(c)).length,y,m=!1,b,p=new Array(d),_=new Array(d);for(a==null&&(s=o(b=l())),h=0;h<=d;++h){if(!(h<d&&i(y=c[h],h,c))===m)if(m=!m)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(p[v],_[v]);s.lineEnd(),s.areaEnd()}m&&(p[h]=+t(y,h,c),_[h]=+e(y,h,c),s.point(r?+r(y,h,c):p[h],n?+n(y,h,c):_[h]))}if(b)return s=null,b+""||null}function f(){return jm().defined(i).curve(o).context(a)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:me(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:me(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:me(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:me(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:me(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:me(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:me(!!c),u):i},u.curve=function(c){return arguments.length?(o=c,a!=null&&(s=o(a)),u):o},u.context=function(c){return arguments.length?(c==null?a=s=null:s=o(a=c),u):a},u}const wf={draw(t,e){const n=$t(e/ao);t.moveTo(n,0),t.arc(0,0,n,0,Cs)}},qk={draw(t,e){const n=$t(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Lm=$t(1/3),Vk=Lm*2,Kk={draw(t,e){const n=$t(e/Vk),r=n*Lm;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Yk={draw(t,e){const n=$t(e),r=-n/2;t.rect(r,r,n,n)}},Xk=.8908130915292852,Fm=io(ao/10)/io(7*ao/10),Qk=io(Cs/10)*Fm,Jk=-km(Cs/10)*Fm,Zk={draw(t,e){const n=$t(e*Xk),r=Qk*n,i=Jk*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Cs*a/5,s=km(o),l=io(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},ul=$t(3),eM={draw(t,e){const n=-$t(e/(ul*3));t.moveTo(0,n*2),t.lineTo(-ul*n,-n),t.lineTo(ul*n,-n),t.closePath()}},ht=-.5,dt=$t(3)/2,fu=1/$t(12),tM=(fu/2+1)*3,nM={draw(t,e){const n=$t(e/tM),r=n/2,i=n*fu,a=r,o=n*fu+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(ht*r-dt*i,dt*r+ht*i),t.lineTo(ht*a-dt*o,dt*a+ht*o),t.lineTo(ht*s-dt*l,dt*s+ht*l),t.lineTo(ht*r+dt*i,ht*i-dt*r),t.lineTo(ht*a+dt*o,ht*o-dt*a),t.lineTo(ht*s+dt*l,ht*l-dt*s),t.closePath()}};function rM(t,e){let n=null,r=bf(i);t=typeof t=="function"?t:me(t||wf),e=typeof e=="function"?e:me(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:me(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:me(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function oo(){}function so(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Bm(t){this._context=t}Bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:so(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:so(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iM(t){return new Bm(t)}function Wm(t){this._context=t}Wm.prototype={areaStart:oo,areaEnd:oo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:so(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aM(t){return new Wm(t)}function Um(t){this._context=t}Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:so(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oM(t){return new Um(t)}function Hm(t){this._context=t}Hm.prototype={areaStart:oo,areaEnd:oo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sM(t){return new Hm(t)}function kd(t){return t<0?-1:1}function Md(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(kd(a)+kd(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Nd(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function cl(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function lo(t){this._context=t}lo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cl(this,this._t0,Nd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,cl(this,Nd(this,n=Md(this,t,e)),n);break;default:cl(this,this._t0,n=Md(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Gm(t){this._context=new zm(t)}(Gm.prototype=Object.create(lo.prototype)).point=function(t,e){lo.prototype.point.call(this,e,t)};function zm(t){this._context=t}zm.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function lM(t){return new lo(t)}function uM(t){return new Gm(t)}function qm(t){this._context=t}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Rd(t),i=Rd(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Rd(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function cM(t){return new qm(t)}function Is(t,e){this._context=t,this._t=e}Is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fM(t){return new Is(t,.5)}function hM(t){return new Is(t,0)}function dM(t){return new Is(t,1)}function dr(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function hu(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function pM(t,e){return t[e]}function vM(t){const e=[];return e.key=t,e}function gM(){var t=me([]),e=hu,n=dr,r=pM;function i(a){var o=Array.from(t.apply(this,arguments),vM),s,l=o.length,u=-1,f;for(const c of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(c,o[s].key,u,a)]).data=c;for(s=0,f=xf(e(o));s<l;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:me(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:me(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?hu:typeof a=="function"?a:me(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??dr,i):n},i}function yM(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}dr(t,e)}}function mM(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}dr(t,e)}}function _M(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var f=t[e[s]],c=f[r][1]||0,h=f[r-1][1]||0,g=(c-h)/2,v=0;v<s;++v){var d=t[e[v]],y=d[r][1]||0,m=d[r-1][1]||0;g+=y-m}l+=c,u+=g*c}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,dr(t,e)}}function pr(t){return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(t)}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(this,arguments)}function bM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Km(r.key),r)}}function xM(t,e,n){return e&&Dd(t.prototype,e),n&&Dd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pu(t,e)}function pu(t,e){return pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pu(t,e)}function SM(t){var e=AM();return function(){var r=uo(t),i;if(e){var a=uo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return OM(this,i)}}function OM(t,e){if(e&&(pr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EM(t)}function EM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uo(t){return uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uo(t)}function Vm(t,e,n){return e=Km(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Km(t){var e=TM(t,"string");return pr(e)==="symbol"?e:String(e)}function TM(t,e){if(pr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ym={symbolCircle:wf,symbolCross:qk,symbolDiamond:Kk,symbolSquare:Yk,symbolStar:Zk,symbolTriangle:eM,symbolWye:nM},CM=Math.PI/180,PM=function(e){var n="symbol".concat(Ts(e));return Ym[n]||wf},IM=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*CM;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Sf=function(t){wM(n,t);var e=SM(n);function n(){return bM(this,n),e.apply(this,arguments)}return xM(n,[{key:"getPath",value:function(){var i=this.props,a=i.size,o=i.sizeType,s=i.type,l=PM(s),u=rM().type(l).size(IM(a,o,s));return u()}},{key:"render",value:function(){var i=this.props,a=i.className,o=i.cx,s=i.cy,l=i.size,u=se(this.props,!0);return o===+o&&s===+s&&l===+l?T.createElement("path",du({},u,{className:ge("recharts-symbols",a),transform:"translate(".concat(o,", ").concat(s,")"),d:this.getPath()})):null}}]),n}(B.PureComponent);Vm(Sf,"defaultProps",{type:"circle",size:64,sizeType:"area"});Vm(Sf,"registerSymbol",function(t,e){Ym["symbol".concat(Ts(t))]=e});function vr(t){return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(t)}function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(this,arguments)}function jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jd(Object(n),!0).forEach(function(r){ki(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ld(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xm(r.key),r)}}function MM(t,e,n){return e&&Ld(t.prototype,e),n&&Ld(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gu(t,e)}function gu(t,e){return gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gu(t,e)}function RM(t){var e=LM();return function(){var r=co(t),i;if(e){var a=co(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return DM(this,i)}}function DM(t,e){if(e&&(vr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jM(t)}function jM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function co(t){return co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},co(t)}function ki(t,e,n){return e=Xm(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xm(t){var e=FM(t,"string");return vr(e)==="symbol"?e:String(e)}function FM(t,e){if(vr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pt=32,Of=function(t){NM(n,t);var e=RM(n);function n(){return kM(this,n),e.apply(this,arguments)}return MM(n,[{key:"renderIcon",value:function(i){var a=this.props.inactiveColor,o=pt/2,s=pt/6,l=pt/3,u=i.inactive?a:i.color;if(i.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:o,x2:pt,y2:o,className:"recharts-legend-icon"});if(i.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(pt,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(i.type==="rect")return T.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(pt/8,"h").concat(pt,"v").concat(pt*3/4,"h").concat(-pt,"z"),className:"recharts-legend-icon"});if(T.isValidElement(i.legendIcon)){var f=$M({},i);return delete f.legendIcon,T.cloneElement(i.legendIcon,f)}return T.createElement(Sf,{fill:u,cx:o,cy:o,size:pt,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,a=this.props,o=a.payload,s=a.iconSize,l=a.layout,u=a.formatter,f=a.inactiveColor,c={x:0,y:0,width:pt,height:pt},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,d){var y,m=v.formatter||u,b=ge((y={"recharts-legend-item":!0},ki(y,"legend-item-".concat(d),!0),ki(y,"inactive",v.inactive),y));if(v.type==="none")return null;var p=v.inactive?f:v.color;return T.createElement("li",vu({className:b,style:h,key:"legend-item-".concat(d)},eo(i.props,v,d)),T.createElement(eu,{width:s,height:s,viewBox:c,style:g},i.renderIcon(v)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},m?m(v.value,v,d):v.value))})}},{key:"render",value:function(){var i=this.props,a=i.payload,o=i.layout,s=i.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),n}(B.PureComponent);ki(Of,"displayName","Legend");ki(Of,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function gr(t){return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(t)}var BM=["ref"];function Fd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fd(Object(n),!0).forEach(function(r){$s(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jm(r.key),r)}}function UM(t,e,n){return e&&Bd(t.prototype,e),n&&Bd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yu(t,e)}function yu(t,e){return yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yu(t,e)}function GM(t){var e=qM();return function(){var r=fo(t),i;if(e){var a=fo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return zM(this,i)}}function zM(t,e){if(e&&(gr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qm(t)}function Qm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fo(t){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fo(t)}function $s(t,e,n){return e=Jm(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jm(t){var e=VM(t,"string");return gr(e)==="symbol"?e:String(e)}function VM(t,e){if(gr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KM(t,e){if(t==null)return{};var n=YM(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function XM(t){return t.value}function QM(t,e){return t===!0?ro(e,XM):K(t)?ro(e,t):e}function JM(t,e){if(T.isValidElement(t))return T.cloneElement(t,e);if(K(t))return T.createElement(t,e);e.ref;var n=KM(e,BM);return T.createElement(Of,n)}var Wd=1,yr=function(t){HM(n,t);var e=GM(n);function n(){var r;WM(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),$s(Qm(r),"state",{boxWidth:-1,boxHeight:-1}),r}return UM(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var i=this.state,a=i.boxWidth,o=i.boxHeight;return a>=0&&o>=0?{width:a,height:o}:null}},{key:"getDefaultPosition",value:function(i){var a=this.props,o=a.layout,s=a.align,l=a.verticalAlign,u=a.margin,f=a.chartWidth,c=a.chartHeight,h,g;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(s==="center"&&o==="vertical"){var v=this.getBBoxSnapshot()||{width:0};h={left:((f||0)-v.width)/2}}else h=s==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(l==="middle"){var d=this.getBBoxSnapshot()||{height:0};g={top:((c||0)-d.height)/2}}else g=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Kn(Kn({},h),g)}},{key:"updateBBox",value:function(){var i=this.state,a=i.boxWidth,o=i.boxHeight,s=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var l=this.wrapperNode.getBoundingClientRect();(Math.abs(l.width-a)>Wd||Math.abs(l.height-o)>Wd)&&this.setState({boxWidth:l.width,boxHeight:l.height},function(){s&&s(l)})}else(a!==-1||o!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){s&&s(null)})}},{key:"render",value:function(){var i=this,a=this.props,o=a.content,s=a.width,l=a.height,u=a.wrapperStyle,f=a.payloadUniqBy,c=a.payload,h=Kn(Kn({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return T.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){i.wrapperNode=v}},JM(o,Kn(Kn({},this.props),{},{payload:QM(f,c)})))}}],[{key:"getWithHeight",value:function(i,a){var o=i.props.layout;return o==="vertical"&&F(i.props.height)?{height:i.props.height}:o==="horizontal"?{width:i.props.width||a}:null}}]),n}(B.PureComponent);$s(yr,"displayName","Legend");$s(yr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ZM=typeof WeakSet=="function",Ud=Object.keys;function Ef(t,e){return t===e||t!==t&&e!==e}function Hd(t){return t.constructor===Object||t.constructor==null}function Gd(t){return!!t&&typeof t.then=="function"}function zd(t){return!!(t&&t.$$typeof)}function eN(){var t=[];return{add:function(e){t.push(e)},has:function(e){return t.indexOf(e)!==-1}}}var tN=function(t){return t?function(){return new WeakSet}:eN}(ZM);function Zm(t){return function(n){var r=t||n;return function(a,o,s){s===void 0&&(s=tN());var l=!!a&&typeof a=="object",u=!!o&&typeof o=="object";if(l||u){var f=l&&s.has(a),c=u&&s.has(o);if(f||c)return f&&c;l&&s.add(a),u&&s.add(o)}return r(a,o,s)}}}function nN(t,e,n,r){var i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n(t[i],e[i],r))return!1;return!0}function rN(t,e,n,r){var i=t.size===e.size;if(i&&t.size){var a={};t.forEach(function(o,s){if(i){var l=!1,u=0;e.forEach(function(f,c){!l&&!a[u]&&(l=n(s,c,r)&&n(o,f,r),l&&(a[u]=!0)),u++}),i=l}})}return i}var iN="_owner",aN=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function qd(t,e,n,r){var i=Ud(t),a=i.length;if(Ud(e).length!==a)return!1;if(a)for(var o=void 0;a-- >0;){if(o=i[a],o===iN){var s=zd(t),l=zd(e);if((s||l)&&s!==l)return!1}if(!aN(e,o)||!n(t[o],e[o],r))return!1}return!0}function oN(t,e){return t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.unicode===e.unicode&&t.sticky===e.sticky&&t.lastIndex===e.lastIndex}function sN(t,e,n,r){var i=t.size===e.size;if(i&&t.size){var a={};t.forEach(function(o){if(i){var s=!1,l=0;e.forEach(function(u){!s&&!a[l]&&(s=n(o,u,r),s&&(a[l]=!0)),l++}),i=s}})}return i}var lN=typeof Map=="function",uN=typeof Set=="function";function ks(t){var e=typeof t=="function"?t(n):n;function n(r,i,a){if(r===i)return!0;if(r&&i&&typeof r=="object"&&typeof i=="object"){if(Hd(r)&&Hd(i))return qd(r,i,e,a);var o=Array.isArray(r),s=Array.isArray(i);return o||s?o===s&&nN(r,i,e,a):(o=r instanceof Date,s=i instanceof Date,o||s?o===s&&Ef(r.getTime(),i.getTime()):(o=r instanceof RegExp,s=i instanceof RegExp,o||s?o===s&&oN(r,i):Gd(r)||Gd(i)?r===i:lN&&(o=r instanceof Map,s=i instanceof Map,o||s)?o===s&&rN(r,i,e,a):uN&&(o=r instanceof Set,s=i instanceof Set,o||s)?o===s&&sN(r,i,e,a):qd(r,i,e,a)))}return r!==r&&i!==i}return n}var cN=ks();ks(function(){return Ef});ks(Zm());ks(Zm(Ef));function Vd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):requestAnimationFrame(i)};requestAnimationFrame(r)}function ja(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ja=function(n){return typeof n}:ja=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ja(t)}function fN(t){return vN(t)||pN(t)||dN(t)||hN()}function hN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dN(t,e){if(t){if(typeof t=="string")return Kd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kd(t,e)}}function Kd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pN(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vN(t){if(Array.isArray(t))return t}function gN(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=fN(o),l=s[0],u=s.slice(1);if(typeof l=="number"){Vd(i.bind(null,u),l);return}i(l),Vd(i.bind(null,u));return}ja(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Yd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yd(Object(n),!0).forEach(function(r){ho(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ho(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yN=["Webkit","Moz","O","ms"],mN=["-webkit-","-moz-","-o-","-ms-"],_N=["transform","transformOrigin","transition"],bN=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},xN=function(e){return e},wN=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},SN=function(e,n){if(_N.indexOf(e)===-1)return ho({},e,n);var r=e==="transition",i=e.replace(/(\w)/,function(o){return o.toUpperCase()}),a=n;return yN.reduce(function(o,s,l){return r&&(a=n.replace(/(transform|transform-origin)/gim,"".concat(mN[l],"$1"))),mr(mr({},o),{},ho({},s+i,a))},{})},bi=function(e,n){return Object.keys(n).reduce(function(r,i){return mr(mr({},r),{},ho({},i,e(i,n[i])))},{})},mu=function(e){return Object.keys(e).reduce(function(n,r){return mr(mr({},n),SN(r,n[r]))},e)},Xd=function(e,n,r){return e.map(function(i){return"".concat(wN(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ON(t,e){return TN(t)||AN(t,e)||e_(t,e)||EN()}function EN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AN(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function TN(t){if(Array.isArray(t))return t}function CN(t){return $N(t)||IN(t)||e_(t)||PN()}function PN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e_(t,e){if(t){if(typeof t=="string")return _u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _u(t,e)}}function IN(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $N(t){if(Array.isArray(t))return _u(t)}function _u(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var po=1e-4,t_=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},n_=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Qd=function(e,n){return function(r){var i=t_(e,n);return n_(i,r)}},kN=function(e,n){return function(r){var i=t_(e,n),a=[].concat(CN(i.map(function(o,s){return o*s}).slice(1)),[0]);return n_(a,r)}},Jd=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=ON(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var c=Qd(i,o),h=Qd(a,s),g=kN(i,o),v=function(m){return m>1?1:m<0?0:m},d=function(m){for(var b=m>1?1:m,p=b,_=0;_<8;++_){var w=c(p)-b,x=g(p);if(Math.abs(w-b)<po||x<po)return h(p);p=v(p-w/x)}return h(p)};return d.isStepper=!1,d},MN=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(f,c,h){var g=-(f-c)*r,v=h*a,d=h+(g-v)*s/1e3,y=h*s/1e3+f;return Math.abs(y-c)<po&&Math.abs(d)<po?[c,0]:[y,d]};return l.isStepper=!0,l.dt=s,l},NN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Jd(i);case"spring":return MN();default:if(i.split("(")[0]==="cubic-bezier")return Jd(i)}return typeof i=="function"?i:null};function Zd(t){return jN(t)||DN(t)||r_(t)||RN()}function RN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DN(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jN(t){if(Array.isArray(t))return xu(t)}function ep(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ep(Object(n),!0).forEach(function(r){bu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LN(t,e){return WN(t)||BN(t,e)||r_(t,e)||FN()}function FN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r_(t,e){if(t){if(typeof t=="string")return xu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xu(t,e)}}function xu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BN(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function WN(t){if(Array.isArray(t))return t}var vo=function(e,n,r){return e+(n-e)*r},wu=function(e){var n=e.from,r=e.to;return n!==r},UN=function t(e,n,r){var i=bi(function(a,o){if(wu(o)){var s=e(o.from,o.to,o.velocity),l=LN(s,2),u=l[0],f=l[1];return Ge(Ge({},o),{},{from:u,velocity:f})}return o},n);return r<1?bi(function(a,o){return wu(o)?Ge(Ge({},o),{},{velocity:vo(o.velocity,i[a].velocity,r),from:vo(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const HN=function(t,e,n,r,i){var a=bN(t,e),o=a.reduce(function(y,m){return Ge(Ge({},y),{},bu({},m,[t[m],e[m]]))},{}),s=a.reduce(function(y,m){return Ge(Ge({},y),{},bu({},m,{from:t[m],velocity:0,to:e[m]}))},{}),l=-1,u,f,c=function(){return null},h=function(){return bi(function(m,b){return b.from},s)},g=function(){return!Object.values(s).filter(wu).length},v=function(m){u||(u=m);var b=m-u,p=b/n.dt;s=UN(n,s,p),i(Ge(Ge(Ge({},t),e),h())),u=m,g()||(l=requestAnimationFrame(c))},d=function(m){f||(f=m);var b=(m-f)/r,p=bi(function(w,x){return vo.apply(void 0,Zd(x).concat([n(b)]))},o);if(i(Ge(Ge(Ge({},t),e),p)),b<1)l=requestAnimationFrame(c);else{var _=bi(function(w,x){return vo.apply(void 0,Zd(x).concat([n(1)]))},o);i(Ge(Ge(Ge({},t),e),_))}};return c=n.isStepper?v:d,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}};function La(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?La=function(n){return typeof n}:La=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},La(t)}function GN(t,e){if(t==null)return{};var n=zN(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fl(t){return YN(t)||KN(t)||VN(t)||qN()}function qN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VN(t,e){if(t){if(typeof t=="string")return Su(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Su(t,e)}}function KN(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function YN(t){if(Array.isArray(t))return Su(t)}function Su(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tp(Object(n),!0).forEach(function(r){pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function np(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QN(t,e,n){return e&&np(t.prototype,e),n&&np(t,n),t}function JN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ou(t,e)}function Ou(t,e){return Ou=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ou(t,e)}function ZN(t){var e=eR();return function(){var r=go(t),i;if(e){var a=go(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Eu(this,i)}}function Eu(t,e){return e&&(La(e)==="object"||typeof e=="function")?e:Au(t)}function Au(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function go(t){return go=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},go(t)}var Wn=function(t){JN(n,t);var e=ZN(n);function n(r,i){var a;XN(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,f=o.to,c=o.steps,h=o.children;if(a.handleStyleChange=a.handleStyleChange.bind(Au(a)),a.changeStyle=a.changeStyle.bind(Au(a)),!s)return a.state={style:{}},typeof h=="function"&&(a.state={style:f}),Eu(a);if(c&&c.length)a.state={style:c[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Eu(a);a.state={style:l?pi({},l,u):u}}else a.state={style:{}};return a}return QN(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate;if(s){if(!o){var f={style:l?pi({},l,this.props.to):this.props.to};this.state&&this.state.style&&(l&&this.state.style[l]!==this.props.to||!l&&this.state.style!==this.props.to)&&this.setState(f);return}if(!(cN(i.to,this.props.to)&&i.canBegin&&i.isActive)){var c=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=c||u?this.props.from:i.to;if(this.state&&this.state.style){var g={style:l?pi({},l,h):h};(l&&this.state.style[l]!==h||!l&&this.state.style!==h)&&this.setState(g)}this.runAnimation(St(St({},this.props),{},{from:h,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,c=i.onAnimationEnd,h=i.onAnimationStart,g=HN(o,s,NN(u),l,this.changeStyle),v=function(){a.stopJSAnimation=g()};this.manager.start([h,f,v,l,c])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,c=u.duration,h=c===void 0?0:c,g=function(d,y,m){if(m===0)return d;var b=y.duration,p=y.easing,_=p===void 0?"ease":p,w=y.style,x=y.properties,S=y.onAnimationEnd,O=m>0?o[m-1]:y,A=x||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(fl(d),[a.runJSAnimation.bind(a,{from:O.style,to:w,duration:b,easing:_}),b]);var $=Xd(A,b,_),E=St(St(St({},O.style),w),{},{transition:$});return[].concat(fl(d),[E,b,S]).filter(xN)};return this.manager.start([l].concat(fl(o.reduce(g,[f,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=gN());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,c=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var d=s?pi({},s,l):l,y=Xd(Object.keys(d),o,u);v.start([f,a,St(St({},d),{},{transition:y}),o,c])}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin,i.duration,i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var s=GN(i,["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"]),l=B.Children.count(a),u=mu(this.state.style);if(typeof a=="function")return a(u);if(!o||l===0)return a;var f=function(h){var g=h.props,v=g.style,d=v===void 0?{}:v,y=g.className,m=B.cloneElement(h,St(St({},s),{},{style:St(St({},d),u),className:y}));return m};return l===1?f(B.Children.only(a)):T.createElement("div",null,B.Children.map(a,function(c){return f(c)}))}}]),n}(B.PureComponent);Wn.displayName="Animate";Wn.propTypes={from:X.oneOfType([X.object,X.string]),to:X.oneOfType([X.object,X.string]),attributeName:X.string,duration:X.number,begin:X.number,easing:X.oneOfType([X.string,X.func]),steps:X.arrayOf(X.shape({duration:X.number.isRequired,style:X.object.isRequired,easing:X.oneOfType([X.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),X.func]),properties:X.arrayOf("string"),onAnimationEnd:X.func})),children:X.oneOfType([X.node,X.func]),isActive:X.bool,canBegin:X.bool,onAnimationEnd:X.func,shouldReAnimate:X.bool,onAnimationStart:X.func,onAnimationReStart:X.func};Wn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Number.isFinite===void 0&&(Number.isFinite=function(t){return typeof t=="number"&&isFinite(t)});X.object,X.object,X.object,X.element;X.object,X.object,X.object,X.oneOfType([X.array,X.element]),X.any;var rp=oa,tR=gf,nR=ce,ip=rp?rp.isConcatSpreadable:void 0;function rR(t){return nR(t)||tR(t)||!!(ip&&t&&t[ip])}var iR=rR,aR=vm,oR=iR;function i_(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=oR),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?i_(s,e-1,n,r,i):aR(i,s):r||(i[i.length]=s)}return i}var a_=i_;function sR(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var lR=sR,uR=lR,cR=uR(),fR=cR,hR=fR,dR=As;function pR(t,e){return t&&hR(t,e,dR)}var o_=pR,vR=ua;function gR(t,e){return function(n,r){if(n==null)return n;if(!vR(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var yR=gR,mR=o_,_R=yR,bR=_R(mR),Af=bR,xR=Af,wR=ua;function SR(t,e){var n=-1,r=wR(t)?Array(t.length):[];return xR(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var s_=SR;function OR(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ER=OR,ap=Wr;function AR(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=ap(t),o=e!==void 0,s=e===null,l=e===e,u=ap(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var TR=AR,CR=TR;function PR(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=CR(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var IR=PR,hl=lf,$R=uf,kR=mn,MR=s_,NR=ER,RR=ym,DR=IR,jR=Vr,LR=ce;function FR(t,e,n){e.length?e=hl(e,function(a){return LR(a)?function(o){return $R(o,a.length===1?a[0]:a)}:a}):e=[jR];var r=-1;e=hl(e,RR(kR));var i=MR(t,function(a,o,s){var l=hl(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return NR(i,function(a,o){return DR(a,o,n)})}var BR=FR;function WR(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var UR=WR,HR=UR,op=Math.max;function GR(t,e,n){return e=op(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=op(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),HR(t,this,s)}}var zR=GR;function qR(t){return function(){return t}}var VR=qR,KR=Gn,YR=function(){try{var t=KR(Object,"defineProperty");return t({},"",{}),t}catch{}}(),l_=YR,XR=VR,sp=l_,QR=Vr,JR=sp?function(t,e){return sp(t,"toString",{configurable:!0,enumerable:!1,value:XR(e),writable:!0})}:QR,ZR=JR,e2=800,t2=16,n2=Date.now;function r2(t){var e=0,n=0;return function(){var r=n2(),i=t2-(r-n);if(n=r,i>0){if(++e>=e2)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var i2=r2,a2=ZR,o2=i2,s2=o2(a2),l2=s2,u2=Vr,c2=zR,f2=l2;function h2(t,e){return f2(c2(t,e,u2),t+"")}var d2=h2,p2=rf,v2=ua,g2=yf,y2=ut;function m2(t,e,n){if(!y2(n))return!1;var r=typeof e;return(r=="number"?v2(n)&&g2(e,n.length):r=="string"&&e in n)?p2(n[e],t):!1}var Ms=m2,_2=a_,b2=BR,x2=d2,lp=Ms,w2=x2(function(t,e){if(t==null)return[];var n=e.length;return n>1&&lp(t,e[0],e[1])?e=[]:n>2&&lp(e[0],e[1],e[2])&&(e=[e[0]]),b2(t,_2(e,1),[])}),Tf=w2;function _r(t){return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(t)}function S2(t,e){return T2(t)||A2(t,e)||E2(t,e)||O2()}function O2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E2(t,e){if(t){if(typeof t=="string")return up(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return up(t,e)}}function up(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function T2(t){if(Array.isArray(t))return t}function cp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cp(Object(n),!0).forEach(function(r){Cf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u_(r.key),r)}}function P2(t,e,n){return e&&fp(t.prototype,e),n&&fp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tu(t,e)}function Tu(t,e){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tu(t,e)}function $2(t){var e=N2();return function(){var r=yo(t),i;if(e){var a=yo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return k2(this,i)}}function k2(t,e){if(e&&(_r(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M2(t)}function M2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yo(t){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yo(t)}function Cf(t,e,n){return e=u_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u_(t){var e=R2(t,"string");return _r(e)==="symbol"?e:String(e)}function R2(t,e){if(_r(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_r(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D2(t){return ce(t)&&ke(t[0])&&ke(t[1])?t.join(" ~ "):t}var Pf=function(t){I2(n,t);var e=$2(n);function n(){return C2(this,n),e.apply(this,arguments)}return P2(n,[{key:"renderContent",value:function(){var i=this.props,a=i.payload,o=i.separator,s=i.formatter,l=i.itemStyle,u=i.itemSorter;if(a&&a.length){var f={padding:0,margin:0},c=(u?Tf(a,u):a).map(function(h,g){if(h.type==="none")return null;var v=dl({display:"block",paddingTop:4,paddingBottom:4,color:h.color||"#000"},l),d=h.formatter||s||D2,y=h.value,m=h.name;if(d&&y!=null&&m!=null){var b=d(y,m,h,g,a);if(Array.isArray(b)){var p=b,_=S2(p,2);y=_[0],m=_[1]}else y=b}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(g),style:v},ke(m)?T.createElement("span",{className:"recharts-tooltip-item-name"},m):null,ke(m)?T.createElement("span",{className:"recharts-tooltip-item-separator"},o):null,T.createElement("span",{className:"recharts-tooltip-item-value"},y),T.createElement("span",{className:"recharts-tooltip-item-unit"},h.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:f},c)}return null}},{key:"render",value:function(){var i=this.props,a=i.wrapperClassName,o=i.contentStyle,s=i.labelClassName,l=i.labelStyle,u=i.label,f=i.labelFormatter,c=i.payload,h=dl({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),g=dl({margin:0},l),v=!z(u),d=v?u:"",y=ge("recharts-default-tooltip",a),m=ge("recharts-tooltip-label",s);return v&&f&&c!==void 0&&c!==null&&(d=f(u,c)),T.createElement("div",{className:y,style:h},T.createElement("p",{className:m,style:g},T.isValidElement(d)?d:"".concat(d)),this.renderContent())}}]),n}(B.PureComponent);Cf(Pf,"displayName","DefaultTooltipContent");Cf(Pf,"defaultProps",{separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}});var j2=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vt={isSsr:j2(),get:function(e){return Vt[e]},set:function(e,n){if(typeof e=="string")Vt[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Vt[i]=e[i]})}}};function br(t){return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(t)}function hp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hp(Object(n),!0).forEach(function(r){Wt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c_(r.key),r)}}function F2(t,e,n){return e&&dp(t.prototype,e),n&&dp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cu(t,e)}function Cu(t,e){return Cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cu(t,e)}function W2(t){var e=H2();return function(){var r=mo(t),i;if(e){var a=mo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return U2(this,i)}}function U2(t,e){if(e&&(br(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pu(t)}function Pu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mo(t){return mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mo(t)}function Wt(t,e,n){return e=c_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c_(t){var e=G2(t,"string");return br(e)==="symbol"?e:String(e)}function G2(t,e){if(br(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(br(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ai="recharts-tooltip-wrapper",pp=1;function z2(t){return t.dataKey}function q2(t,e){return t===!0?ro(e,z2):K(t)?ro(e,t):e}function V2(t,e){return T.isValidElement(t)?T.cloneElement(t,e):K(t)?T.createElement(t,e):T.createElement(Pf,e)}var kn=function(t){B2(n,t);var e=W2(n);function n(){var r;L2(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),Wt(Pu(r),"state",{boxWidth:-1,boxHeight:-1,dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Wt(Pu(r),"getTranslate",function(s){var l=s.key,u=s.tooltipDimension,f=s.viewBoxDimension,c=r.props,h=c.allowEscapeViewBox,g=c.reverseDirection,v=c.coordinate,d=c.offset,y=c.position,m=c.viewBox;if(y&&F(y[l]))return y[l];var b=v[l]-u-d,p=v[l]+d;if(h[l])return g[l]?b:p;if(g[l]){var _=b,w=m[l];return _<w?Math.max(p,m[l]):Math.max(b,m[l])}var x=p+u,S=m[l]+f;return x>S?Math.max(b,m[l]):Math.max(p,m[l])}),r}return F2(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var i=this.state,a=i.boxWidth,o=i.boxHeight,s=i.dismissed;if(s?(this.wrapperNode.blur(),(this.props.coordinate.x!==this.state.dismissedAtCoordinate.x||this.props.coordinate.y!==this.state.dismissedAtCoordinate.y)&&this.setState({dismissed:!1})):this.wrapperNode.focus({preventScroll:!0}),this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var l=this.wrapperNode.getBoundingClientRect();(Math.abs(l.width-a)>pp||Math.abs(l.height-o)>pp)&&this.setState({boxWidth:l.width,boxHeight:l.height})}else(a!==-1||o!==-1)&&this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var i,a=this,o=this.props,s=o.payload,l=o.isAnimationActive,u=o.animationDuration,f=o.animationEasing,c=o.filterNull,h=o.payloadUniqBy,g=q2(h,c&&s&&s.length?s.filter(function(P){return!z(P.value)}):s),v=g&&g.length,d=this.props,y=d.content,m=d.viewBox,b=d.coordinate,p=d.position,_=d.active,w=d.wrapperStyle,x=Bt({pointerEvents:"none",visibility:!this.state.dismissed&&_&&v?"visible":"hidden",position:"absolute",top:0,left:0},w),S,O;if(p&&F(p.x)&&F(p.y))S=p.x,O=p.y;else{var A=this.state,$=A.boxWidth,E=A.boxHeight;$>0&&E>0&&b?(S=this.getTranslate({key:"x",tooltipDimension:$,viewBoxDimension:m.width}),O=this.getTranslate({key:"y",tooltipDimension:E,viewBoxDimension:m.height})):x.visibility="hidden"}x=Bt(Bt({},mu({transform:this.props.useTranslate3d?"translate3d(".concat(S,"px, ").concat(O,"px, 0)"):"translate(".concat(S,"px, ").concat(O,"px)")})),x),l&&_&&(x=Bt(Bt({},mu({transition:"transform ".concat(u,"ms ").concat(f)})),x));var C=ge(ai,(i={},Wt(i,"".concat(ai,"-right"),F(S)&&b&&F(b.x)&&S>=b.x),Wt(i,"".concat(ai,"-left"),F(S)&&b&&F(b.x)&&S<b.x),Wt(i,"".concat(ai,"-bottom"),F(O)&&b&&F(b.y)&&O>=b.y),Wt(i,"".concat(ai,"-top"),F(O)&&b&&F(b.y)&&O<b.y),i));return T.createElement("div",{tabIndex:-1,role:"dialog",onKeyDown:function(M){M.key==="Escape"&&a.setState({dismissed:!0,dismissedAtCoordinate:Bt(Bt({},a.state.dismissedAtCoordinate),{},{x:a.props.coordinate.x,y:a.props.coordinate.y})})},className:C,style:x,ref:function(M){a.wrapperNode=M}},V2(y,Bt(Bt({},this.props),{},{payload:g})))}}]),n}(B.PureComponent);Wt(kn,"displayName","Tooltip");Wt(kn,"defaultProps",{active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!Vt.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1});var K2=Ft,Y2=function(){return K2.Date.now()},X2=Y2,Q2=/\s/;function J2(t){for(var e=t.length;e--&&Q2.test(t.charAt(e)););return e}var Z2=J2,eD=Z2,tD=/^\s+/;function nD(t){return t&&t.slice(0,eD(t)+1).replace(tD,"")}var rD=nD,iD=rD,vp=ut,aD=Wr,gp=0/0,oD=/^[-+]0x[0-9a-f]+$/i,sD=/^0b[01]+$/i,lD=/^0o[0-7]+$/i,uD=parseInt;function cD(t){if(typeof t=="number")return t;if(aD(t))return gp;if(vp(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vp(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=iD(t);var n=sD.test(t);return n||lD.test(t)?uD(t.slice(2),n?2:8):oD.test(t)?gp:+t}var f_=cD,fD=ut,pl=X2,yp=f_,hD="Expected a function",dD=Math.max,pD=Math.min;function vD(t,e,n){var r,i,a,o,s,l,u=0,f=!1,c=!1,h=!0;if(typeof t!="function")throw new TypeError(hD);e=yp(e)||0,fD(n)&&(f=!!n.leading,c="maxWait"in n,a=c?dD(yp(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function g(x){var S=r,O=i;return r=i=void 0,u=x,o=t.apply(O,S),o}function v(x){return u=x,s=setTimeout(m,e),f?g(x):o}function d(x){var S=x-l,O=x-u,A=e-S;return c?pD(A,a-O):A}function y(x){var S=x-l,O=x-u;return l===void 0||S>=e||S<0||c&&O>=a}function m(){var x=pl();if(y(x))return b(x);s=setTimeout(m,d(x))}function b(x){return s=void 0,h&&r?g(x):(r=i=void 0,o)}function p(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function _(){return s===void 0?o:b(pl())}function w(){var x=pl(),S=y(x);if(r=arguments,i=this,l=x,S){if(s===void 0)return v(l);if(c)return clearTimeout(s),s=setTimeout(m,e),g(l)}return s===void 0&&(s=setTimeout(m,e)),o}return w.cancel=p,w.flush=_,w}var h_=vD,Iu=function(t,e){return Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Iu(t,e)};function gD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Iu(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function yD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Ta=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mD(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var If=mD,_D=typeof Ta=="object"&&Ta&&Ta.Object===Object&&Ta,bD=_D,xD=bD,wD=typeof self=="object"&&self&&self.Object===Object&&self,SD=xD||wD||Function("return this")(),d_=SD,OD=d_,ED=function(){return OD.Date.now()},AD=ED,TD=/\s/;function CD(t){for(var e=t.length;e--&&TD.test(t.charAt(e)););return e}var PD=CD,ID=PD,$D=/^\s+/;function kD(t){return t&&t.slice(0,ID(t)+1).replace($D,"")}var MD=kD,ND=d_,RD=ND.Symbol,p_=RD,mp=p_,v_=Object.prototype,DD=v_.hasOwnProperty,jD=v_.toString,oi=mp?mp.toStringTag:void 0;function LD(t){var e=DD.call(t,oi),n=t[oi];try{t[oi]=void 0;var r=!0}catch{}var i=jD.call(t);return r&&(e?t[oi]=n:delete t[oi]),i}var FD=LD,BD=Object.prototype,WD=BD.toString;function UD(t){return WD.call(t)}var HD=UD,_p=p_,GD=FD,zD=HD,qD="[object Null]",VD="[object Undefined]",bp=_p?_p.toStringTag:void 0;function KD(t){return t==null?t===void 0?VD:qD:bp&&bp in Object(t)?GD(t):zD(t)}var YD=KD;function XD(t){return t!=null&&typeof t=="object"}var QD=XD,JD=YD,ZD=QD,ej="[object Symbol]";function tj(t){return typeof t=="symbol"||ZD(t)&&JD(t)==ej}var nj=tj,rj=MD,xp=If,ij=nj,wp=0/0,aj=/^[-+]0x[0-9a-f]+$/i,oj=/^0b[01]+$/i,sj=/^0o[0-7]+$/i,lj=parseInt;function uj(t){if(typeof t=="number")return t;if(ij(t))return wp;if(xp(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xp(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=rj(t);var n=oj.test(t);return n||sj.test(t)?lj(t.slice(2),n?2:8):aj.test(t)?wp:+t}var cj=uj,fj=If,vl=AD,Sp=cj,hj="Expected a function",dj=Math.max,pj=Math.min;function vj(t,e,n){var r,i,a,o,s,l,u=0,f=!1,c=!1,h=!0;if(typeof t!="function")throw new TypeError(hj);e=Sp(e)||0,fj(n)&&(f=!!n.leading,c="maxWait"in n,a=c?dj(Sp(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function g(x){var S=r,O=i;return r=i=void 0,u=x,o=t.apply(O,S),o}function v(x){return u=x,s=setTimeout(m,e),f?g(x):o}function d(x){var S=x-l,O=x-u,A=e-S;return c?pj(A,a-O):A}function y(x){var S=x-l,O=x-u;return l===void 0||S>=e||S<0||c&&O>=a}function m(){var x=vl();if(y(x))return b(x);s=setTimeout(m,d(x))}function b(x){return s=void 0,h&&r?g(x):(r=i=void 0,o)}function p(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function _(){return s===void 0?o:b(vl())}function w(){var x=vl(),S=y(x);if(r=arguments,i=this,l=x,S){if(s===void 0)return v(l);if(c)return clearTimeout(s),s=setTimeout(m,e),g(l)}return s===void 0&&(s=setTimeout(m,e)),o}return w.cancel=p,w.flush=_,w}var g_=vj,gj=g_,yj=If,mj="Expected a function";function _j(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(mj);return yj(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),gj(t,e,{leading:r,maxWait:e,trailing:i})}var bj=_j,xj=function(t,e,n,r){switch(e){case"debounce":return g_(t,n,r);case"throttle":return bj(t,n,r);default:return t}},$u=function(t){return typeof t=="function"},si=function(){return typeof window>"u"},Op=function(t){return t instanceof Element||t instanceof HTMLDocument},wj=function(t,e,n,r){return function(i){var a=i.width,o=i.height;e(function(s){return s.width===a&&s.height===o||s.width===a&&!r||s.height===o&&!n?s:(t&&$u(t)&&t(a,o),{width:a,height:o})})}},Sj=function(t){gD(e,t);function e(n){var r=t.call(this,n)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var u=r.props,f=u.targetRef,c=u.observerOptions;if(!si()){f&&f.current&&(r.targetRef.current=f.current);var h=r.getElement();h&&(r.observableElement&&r.observableElement===h||(r.observableElement=h,r.resizeObserver.observe(h,c)))}},r.getElement=function(){var u=r.props,f=u.querySelector,c=u.targetDomEl;if(si())return null;if(f)return document.querySelector(f);if(c&&Op(c))return c;if(r.targetRef&&Op(r.targetRef.current))return r.targetRef.current;var h=g0.findDOMNode(r);if(!h)return null;var g=r.getRenderType();switch(g){case"renderProp":return h;case"childFunction":return h;case"child":return h;case"childArray":return h;default:return h.parentElement}},r.createResizeHandler=function(u){var f=r.props,c=f.handleWidth,h=c===void 0?!0:c,g=f.handleHeight,v=g===void 0?!0:g,d=f.onResize;if(!(!h&&!v)){var y=wj(d,r.setState.bind(r),h,v);u.forEach(function(m){var b=m&&m.contentRect||{},p=b.width,_=b.height,w=!r.skipOnMount&&!si();w&&y({width:p,height:_}),r.skipOnMount=!1})}},r.getRenderType=function(){var u=r.props,f=u.render,c=u.children;return $u(f)?"renderProp":$u(c)?"childFunction":B.isValidElement(c)?"child":Array.isArray(c)?"childArray":"parent"};var i=n.skipOnMount,a=n.refreshMode,o=n.refreshRate,s=o===void 0?1e3:o,l=n.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=i,r.targetRef=B.createRef(),r.observableElement=null,si()||(r.resizeHandler=xj(r.createResizeHandler,a,s,l),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return e.prototype.componentDidMount=function(){this.attachObserver()},e.prototype.componentDidUpdate=function(){this.attachObserver()},e.prototype.componentWillUnmount=function(){si()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},e.prototype.render=function(){var n=this.props,r=n.render,i=n.children,a=n.nodeType,o=a===void 0?"div":a,s=this.state,l=s.width,u=s.height,f={width:l,height:u,targetRef:this.targetRef},c=this.getRenderType(),h;switch(c){case"renderProp":return r&&r(f);case"childFunction":return h=i,h(f);case"child":if(h=i,h.type&&typeof h.type=="string"){f.targetRef;var g=yD(f,["targetRef"]);return B.cloneElement(h,g)}return B.cloneElement(h,f);case"childArray":return h=i,h.map(function(v){return!!v&&B.cloneElement(v,f)});default:return B.createElement(o,null)}},e}(B.PureComponent),ar=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(this,arguments)}function Ep(t,e){return Tj(t)||Aj(t,e)||Ej(t,e)||Oj()}function Oj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ej(t,e){if(t){if(typeof t=="string")return Ap(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ap(t,e)}}function Ap(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Tj(t){if(Array.isArray(t))return t}var Cj=B.forwardRef(function(t,e){var n=t.aspect,r=t.width,i=r===void 0?"100%":r,a=t.height,o=a===void 0?"100%":a,s=t.minWidth,l=t.minHeight,u=t.maxHeight,f=t.children,c=t.debounce,h=c===void 0?0:c,g=t.id,v=t.className,d=B.useState({containerWidth:-1,containerHeight:-1}),y=Ep(d,2),m=y[0],b=y[1],p=B.useRef(null);B.useImperativeHandle(e,function(){return p},[p]);var _=B.useState(!1),w=Ep(_,2),x=w[0],S=w[1],O=function(){return p.current?{containerWidth:p.current.clientWidth,containerHeight:p.current.clientHeight}:null},A=function(){if(x){var M=O();if(M){var I=m.containerWidth,R=m.containerHeight,U=M.containerWidth,D=M.containerHeight;(U!==I||D!==R)&&b({containerWidth:U,containerHeight:D})}}},$=h>0?h_(A,h):A,E=function(){var M=m.containerWidth,I=m.containerHeight;if(M<0||I<0)return null;ar($n(i)||$n(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),ar(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=$n(i)?M:i,U=$n(o)?I:o;return n&&n>0&&(R?U=R/n:U&&(R=U*n),u&&U>u&&(U=u)),ar(R>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,U,i,o,s,l,n),B.cloneElement(f,{width:R,height:U})};B.useEffect(function(){if(x){var P=O();P&&b(P)}},[x]),B.useEffect(function(){S(!0)},[]);var C={width:i,height:o,minWidth:s,minHeight:l,maxHeight:u};return T.createElement(Sj,{handleWidth:!0,handleHeight:!0,onResize:$,targetRef:p},T.createElement("div",ku({},g!=null?{id:"".concat(g)}:{},{className:ge("recharts-responsive-container",v),style:C,ref:p}),E()))}),y_=function(e){return null};y_.displayName="Cell";var _o={},Pj={get exports(){return _o},set exports(t){_o=t}},gl="(".charCodeAt(0),yl=")".charCodeAt(0),Ca="'".charCodeAt(0),ml='"'.charCodeAt(0),_l="\\".charCodeAt(0),Pa="/".charCodeAt(0),bl=",".charCodeAt(0),xl=":".charCodeAt(0),Tp="*".charCodeAt(0),Ij=function(t){for(var e=[],n=t,r,i,a,o,s,l,u,f=0,c=n.charCodeAt(f),h=n.length,g=[{nodes:e}],v=0,d,y="",m="",b="";f<h;)if(c<=32){r=f;do r+=1,c=n.charCodeAt(r);while(c<=32);o=n.slice(f,r),a=e[e.length-1],c===yl&&v?b=o:a&&a.type==="div"?a.after=o:c===bl||c===xl||c===Pa&&n.charCodeAt(r+1)!==Tp?m=o:e.push({type:"space",sourceIndex:f,value:o}),f=r}else if(c===Ca||c===ml){r=f,i=c===Ca?"'":'"',o={type:"string",sourceIndex:f,quote:i};do if(s=!1,r=n.indexOf(i,r+1),~r)for(l=r;n.charCodeAt(l-1)===_l;)l-=1,s=!s;else n+=i,r=n.length-1,o.unclosed=!0;while(s);o.value=n.slice(f+1,r),e.push(o),f=r+1,c=n.charCodeAt(f)}else if(c===Pa&&n.charCodeAt(f+1)===Tp)o={type:"comment",sourceIndex:f},r=n.indexOf("*/",f),r===-1&&(o.unclosed=!0,r=n.length),o.value=n.slice(f+2,r),e.push(o),f=r+2,c=n.charCodeAt(f);else if(c===Pa||c===bl||c===xl)o=n[f],e.push({type:"div",sourceIndex:f-m.length,value:o,before:m,after:""}),m="",f+=1,c=n.charCodeAt(f);else if(gl===c){r=f;do r+=1,c=n.charCodeAt(r);while(c<=32);if(o={type:"function",sourceIndex:f-y.length,value:y,before:n.slice(f+1,r)},f=r,y==="url"&&c!==Ca&&c!==ml){r-=1;do if(s=!1,r=n.indexOf(")",r+1),~r)for(l=r;n.charCodeAt(l-1)===_l;)l-=1,s=!s;else n+=")",r=n.length-1,o.unclosed=!0;while(s);u=r;do u-=1,c=n.charCodeAt(u);while(c<=32);f!==u+1?o.nodes=[{type:"word",sourceIndex:f,value:n.slice(f,u+1)}]:o.nodes=[],o.unclosed&&u+1!==r?(o.after="",o.nodes.push({type:"space",sourceIndex:u+1,value:n.slice(u+1,r)})):o.after=n.slice(u+1,r),f=r+1,c=n.charCodeAt(f),e.push(o)}else v+=1,o.after="",e.push(o),g.push(o),e=o.nodes=[],d=o;y=""}else if(yl===c&&v)f+=1,c=n.charCodeAt(f),d.after=b,b="",v-=1,g.pop(),d=g[v],e=d.nodes;else{r=f;do c===_l&&(r+=1),r+=1,c=n.charCodeAt(r);while(r<h&&!(c<=32||c===Ca||c===ml||c===bl||c===xl||c===Pa||c===gl||c===yl&&v));o=n.slice(f,r),gl===c?y=o:e.push({type:"word",sourceIndex:f,value:o}),f=r}for(f=g.length-1;f;f-=1)g[f].unclosed=!0;return g[0].nodes},$j=function t(e,n,r){var i,a,o,s;for(i=0,a=e.length;i<a;i+=1)o=e[i],r||(s=n(o,i,e)),s!==!1&&o.type==="function"&&Array.isArray(o.nodes)&&t(o.nodes,n,r),r&&n(o,i,e)};function Cp(t,e){var n=t.type,r=t.value,i,a;return e&&(a=e(t))!==void 0?a:n==="word"||n==="space"?r:n==="string"?(i=t.quote||"",i+r+(t.unclosed?"":i)):n==="comment"?"/*"+r+(t.unclosed?"":"*/"):n==="div"?(t.before||"")+r+(t.after||""):Array.isArray(t.nodes)?(i=m_(t.nodes),n!=="function"?i:r+"("+(t.before||"")+i+(t.after||"")+(t.unclosed?"":")")):r}function m_(t,e){var n,r;if(Array.isArray(t)){for(n="",r=t.length-1;~r;r-=1)n=Cp(t[r],e)+n;return n}return Cp(t,e)}var kj=m_,wl,Pp;function Mj(){if(Pp)return wl;Pp=1;var t="-".charCodeAt(0),e="+".charCodeAt(0),n=".".charCodeAt(0),r="e".charCodeAt(0),i="E".charCodeAt(0);return wl=function(a){for(var o=0,s=a.length,l=!1,u=-1,f=!1,c;o<s;){if(c=a.charCodeAt(o),c>=48&&c<=57)f=!0;else if(c===r||c===i){if(u>-1)break;u=o}else if(c===n){if(l)break;l=!0}else if(c===e||c===t){if(o!==0)break}else break;o+=1}return u+1===o&&o--,f?{number:a.slice(0,o),unit:a.slice(o)}:!1},wl}var Nj=Ij,__=$j,b_=kj;function vn(t){return this instanceof vn?(this.nodes=Nj(t),this):new vn(t)}vn.prototype.toString=function(){return Array.isArray(this.nodes)?b_(this.nodes):""};vn.prototype.walk=function(t,e){return __(this.nodes,t,e),this};vn.unit=Mj();vn.walk=__;vn.stringify=b_;var Rj=vn;function Dj(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var x_={};(function(t){var e=function(){function n(h,g){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),h==null&&(h="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:h}),this.hash=g;var v;if(g&&g.exception instanceof Error){var d=g.exception;this.message=d.message||h,v=d.stack}v||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):v=new Error(h).stack),v&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:v})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(n.prototype,Error.prototype):n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.name="JisonParserError";function r(h){for(var g=[],v=h.pop,d=h.rule,y=0,m=v.length;y<m;y++)g.push([v[y],d[y]]);return g}function i(h){for(var g={},v=h.idx,d=h.goto,y=0,m=v.length;y<m;y++){var b=v[y];g[b]=d[y]}return g}function a(h){for(var g=[],v=h.len,d=h.symbol,y=h.type,m=h.state,b=h.mode,p=h.goto,_=0,w=v.length;_<w;_++){for(var x=v[_],S={},O=0;O<x;O++){var A=d.shift();switch(y.shift()){case 2:S[A]=[b.shift(),p.shift()];break;case 0:S[A]=m.shift();break;default:S[A]=[3]}}g.push(S)}return g}function o(h,g,v){v=v||0;for(var d=0;d<g;d++)this.push(h),h+=v}function s(h,g){for(h=this.length-h,g+=h;h<g;h++)this.push(this[h])}function l(h){for(var g=[],v=0,d=h.length;v<d;v++){var y=h[v];typeof y=="function"?(v++,y.apply(g,h[v])):g.push(y)}return g}var u={trace:function(){},JisonParserError:n,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(g){return'"'+g+'"'},getSymbolName:function(g){if(this.terminals_[g])return this.terminals_[g];var v=this.symbols_;for(var d in v)if(v[d]===g)return d;return null},describeSymbol:function(g){if(g!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[g])return this.terminal_descriptions_[g];if(g===this.EOF)return"end of input";var v=this.getSymbolName(g);return v?this.quoteName(v):null},collect_expected_token_set:function(g,v){var d=this.TERROR,y=[],m={};if(!v&&this.state_descriptions_&&this.state_descriptions_[g])return[this.state_descriptions_[g]];for(var b in this.table[g])if(b=+b,b!==d){var p=v?b:this.describeSymbol(b);p&&!m[p]&&(y.push(p),m[p]=!0)}return y},productions_:r({pop:l([29,o,[30,10],31,31,32,32,o,[33,15]]),rule:l([2,o,[3,5],4,7,o,[1,4],2,4,6,o,[1,14],2])}),performAction:function(g,v,d){var y=this.yy;switch(y.parser,y.lexer,g){case 0:this.$=d[v-1];break;case 1:return this.$=d[v-1],d[v-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:d[v-1],left:d[v-2],right:d[v]};break;case 6:this.$=d[v-1];break;case 7:this.$={type:"Calc",value:d[v-1]};break;case 8:this.$={type:"Calc",value:d[v-1],prefix:d[v-5]};break;case 9:case 10:case 11:this.$=d[v];break;case 12:this.$={type:"Value",value:parseFloat(d[v])};break;case 13:this.$={type:"Value",value:parseFloat(d[v])*-1};break;case 14:this.$={type:"CssVariable",value:d[v-1]};break;case 15:this.$={type:"CssVariable",value:d[v-3],fallback:d[v-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(d[v]),unit:/[a-z]+/.exec(d[v])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(d[v]),unit:/[a-z]+/.exec(d[v])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(d[v]),unit:/[a-z]+/.exec(d[v])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(d[v]),unit:/[a-z]+/.exec(d[v])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(d[v]),unit:/[a-z]+/.exec(d[v])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(d[v]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(d[v]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(d[v]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(d[v]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(d[v]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(d[v]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(d[v]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(d[v]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(d[v]),unit:"%"};break;case 30:var m=d[v];m.value*=-1,this.$=m;break}},table:a({len:l([24,1,5,23,1,18,o,[0,3],1,o,[0,16],o,[23,4],s,[28,3],0,0,16,1,6,6,o,[0,3],5,1,2,s,[37,3],s,[20,3],5,0,0]),symbol:l([4,7,9,11,12,o,[15,19,1],1,1,o,[3,4,1],s,[30,19],s,[29,4],7,4,10,11,s,[22,14],s,[19,3],s,[43,22],s,[23,69],s,[139,4],8,s,[51,24],4,s,[138,15],13,s,[186,5],8,s,[6,6],s,[5,5],9,8,14,s,[159,47],s,[60,10]]),type:l([o,[2,19],o,[0,5],1,o,[2,24],o,[0,4],s,[22,19],s,[43,42],s,[23,70],s,[28,25],s,[45,25],s,[113,54]]),state:l([1,2,8,6,7,30,s,[4,3],33,37,s,[5,3],38,s,[4,3],39,s,[4,3],40,s,[4,3],42,s,[21,4],50,s,[5,3],51,s,[4,3]]),mode:l([o,[1,179],o,[2,3],s,[5,5],s,[6,4],o,[1,57]]),goto:l([5,3,4,24,o,[9,15,1],o,[25,5,1],s,[24,19],31,35,32,34,s,[18,14],36,s,[38,19],s,[19,57],s,[118,4],41,s,[24,19],43,35,s,[16,14],44,o,[2,3],28,29,2,o,[3,3],28,29,3,s,[53,4],o,[45,5,1],s,[100,42],52,s,[5,4],53])}),defaultActions:i({idx:l([6,7,8,o,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:l([9,10,11,o,[16,14,1],12,1,30,13,o,[4,4,1],14,15,8])}),parseError:function(g,v,d){if(v.recoverable)typeof this.trace=="function"&&this.trace(g),v.destroy();else throw typeof this.trace=="function"&&this.trace(g),d||(d=this.JisonParserError),new d(g,v)},parse:function(g){var v=this,d=new Array(128),y=new Array(128),m=new Array(128),b=this.table,p=0,_=0;this.TERROR;var w=this.EOF;this.options.errorRecoveryTokenDiscardCount|0;var x=[0,54],S;this.__lexer__?S=this.__lexer__:S=this.__lexer__=Object.create(this.lexer);var O={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};typeof assert!="function"||assert,this.yyGetSharedState=function(){return O};function A(ie,j){for(var G in j)typeof ie[G]>"u"&&Object.prototype.hasOwnProperty.call(j,G)&&(ie[G]=j[G])}A(O,this.yy),O.lexer=S,O.parser=this,typeof O.parseError=="function"?this.parseError=function(j,G,Y){return Y||(Y=this.JisonParserError),O.parseError.call(this,j,G,Y)}:this.parseError=this.originalParseError,typeof O.quoteName=="function"?this.quoteName=function(j){return O.quoteName.call(this,j)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(j,G,Y){var N;if(G){var fe;(O.post_parse||this.post_parse)&&(fe=this.constructParseErrorInfo(null,null,null,!1)),O.post_parse&&(N=O.post_parse.call(this,O,j,fe),typeof N<"u"&&(j=N)),this.post_parse&&(N=this.post_parse.call(this,O,j,fe),typeof N<"u"&&(j=N)),fe&&fe.destroy&&fe.destroy()}if(this.__reentrant_call_depth>1)return j;if(S.cleanupAfterLex&&S.cleanupAfterLex(Y),O&&(O.lexer=void 0,O.parser=void 0,S.yy===O&&(S.yy=void 0)),O=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,d.length=0,y.length=0,m.length=0,p=0,!Y){for(var re=this.__error_infos.length-1;re>=0;re--){var Ee=this.__error_infos[re];Ee&&typeof Ee.destroy=="function"&&Ee.destroy()}this.__error_infos.length=0}return j},this.constructParseErrorInfo=function(j,G,Y,N){var fe={errStr:j,exception:G,text:S.match,value:S.yytext,token:this.describeSymbol(_)||_,token_id:_,line:S.yylineno,expected:Y,recoverable:N,state:P,action:M,new_state:Q,symbol_stack:d,state_stack:y,value_stack:m,stack_pointer:p,yy:O,lexer:S,parser:this,destroy:function(){var Ee=!!this.recoverable;for(var Ce in this)this.hasOwnProperty(Ce)&&typeof Ce=="object"&&(this[Ce]=void 0);this.recoverable=Ee}};return this.__error_infos.push(fe),fe};function $(){var ie=S.lex();return typeof ie!="number"&&(ie=v.symbols_[ie]||ie),ie||w}function E(){var ie=S.fastLex();return typeof ie!="number"&&(ie=v.symbols_[ie]||ie),ie||w}var C=$,P,M,I,R,U={$:!0,_$:void 0,yy:O},D,W,ae,Q,ne=!1;try{if(this.__reentrant_call_depth++,S.setInput(g,O),typeof S.canIUse=="function"){var Te=S.canIUse();Te.fastLex&&typeof E=="function"&&(C=E)}for(m[p]=null,y[p]=0,d[p]=0,++p,this.pre_parse&&this.pre_parse.call(this,O),O.pre_parse&&O.pre_parse.call(this,O),Q=y[p-1];;){if(P=Q,this.defaultActions[P])M=2,Q=this.defaultActions[P];else if(_||(_=C()),R=b[P]&&b[P][_]||x,Q=R[1],M=R[0],!M){var be,He=this.describeSymbol(_)||_,wt=this.collect_expected_token_set(P);typeof S.yylineno=="number"?be="Parse error on line "+(S.yylineno+1)+": ":be="Parse error: ",typeof S.showPosition=="function"&&(be+=`
`+S.showPosition(79-10,10)+`
`),wt.length?be+="Expecting "+wt.join(", ")+", got unexpected "+He:be+="Unexpected "+He,D=this.constructParseErrorInfo(be,null,wt,!1),I=this.parseError(D.errStr,D,this.JisonParserError),typeof I<"u"&&(ne=I);break}switch(M){default:if(M instanceof Array){D=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+P+", token: "+_,null,null,!1),I=this.parseError(D.errStr,D,this.JisonParserError),typeof I<"u"&&(ne=I);break}D=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),I=this.parseError(D.errStr,D,this.JisonParserError),typeof I<"u"&&(ne=I);break;case 1:d[p]=_,m[p]=S.yytext,y[p]=Q,++p,_=0;continue;case 2:if(ae=this.productions_[Q-1],W=ae[1],I=this.performAction.call(U,Q,p-1,m),typeof I<"u"){ne=I;break}p-=W;var Ye=ae[0];d[p]=Ye,m[p]=U.$,Q=b[y[p-1]][Ye],y[p]=Q,++p;continue;case 3:p!==-2&&(ne=!0,p--,typeof m[p]<"u"&&(ne=m[p]));break}break}}catch(ie){if(ie instanceof this.JisonParserError)throw ie;if(S&&typeof S.JisonLexerError=="function"&&ie instanceof S.JisonLexerError)throw ie;D=this.constructParseErrorInfo("Parsing aborted due to exception.",ie,null,!1),ne=!1,I=this.parseError(D.errStr,D,this.JisonParserError),typeof I<"u"&&(ne=I)}finally{ne=this.cleanupAfterParse(ne,!0,!0),this.__reentrant_call_depth--}return ne}};u.originalParseError=u.parseError,u.originalQuoteName=u.quoteName;var f=function(){function h(v,d){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),v==null&&(v="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:v}),this.hash=d;var y;if(d&&d.exception instanceof Error){var m=d.exception;this.message=m.message||v,y=m.stack}y||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):y=new Error(v).stack),y&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:y})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(h.prototype,Error.prototype):h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="JisonLexerError";var g={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(d,y,m){if(d=""+d,m==null&&(m=!(d.indexOf(`
`)>0&&d.indexOf("^")>0)),this.yylloc&&m){if(typeof this.prettyPrintRange=="function")this.prettyPrintRange(this.yylloc),/\n\s*$/.test(d)||(d+=`
`),d+=`
  Erroneous area:
`+this.prettyPrintRange(this.yylloc);else if(typeof this.showPosition=="function"){var b=this.showPosition();b&&(d.length&&d[d.length-1]!==`
`&&b[0]!==`
`?d+=`
`+b:d+=b)}}var p={errStr:d,recoverable:!!y,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var w=!!this.recoverable;for(var x in this)this.hasOwnProperty(x)&&typeof x=="object"&&(this[x]=void 0);this.recoverable=w}};return this.__error_infos.push(p),p},parseError:function(d,y,m){if(m||(m=this.JisonLexerError),this.yy){if(this.yy.parser&&typeof this.yy.parser.parseError=="function")return this.yy.parser.parseError.call(this,d,y,m)||this.ERROR;if(typeof this.yy.parseError=="function")return this.yy.parseError.call(this,d,y,m)||this.ERROR}throw new m(d,y)},yyerror:function(d){var y="";this.yylloc&&(y=" on line "+(this.yylineno+1));var m=this.constructLexErrorInfo("Lexical error"+y+": "+d,this.options.lexerErrorsAreRecoverable),b=Array.prototype.slice.call(arguments,1);return b.length&&(m.extra_error_attributes=b),this.parseError(m.errStr,m,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(d){if(this.setInput("",{}),!d){for(var y=this.__error_infos.length-1;y>=0;y--){var m=this.__error_infos[y];m&&typeof m.destroy=="function"&&m.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var d=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:d,last_line:this.yylineno+1,last_column:d,range:[this.offset,this.offset]}},setInput:function(d,y){if(this.yy=y||this.yy||{},!this.__decompressed){for(var m=this.rules,b=0,p=m.length;b<p;b++){var _=m[b];typeof _=="number"&&(m[b]=m[_])}var w=this.conditions;for(var x in w){for(var S=w[x],O=S.rules,p=O.length,A=new Array(p+1),$=new Array(p+1),b=0;b<p;b++){var E=O[b],_=m[E];A[b+1]=_,$[b+1]=E}S.rules=$,S.__rule_regexes=A,S.__rule_count=p}this.__decompressed=!0}return this._input=d||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(d,y){var m=d.call(this,this._input,y);return typeof m!="string"?m&&(this._input=""+m):this._input=m,this},input:function(){if(!this._input)return null;var d=this._input[0];this.yytext+=d,this.yyleng++,this.offset++,this.match+=d,this.matched+=d;var y=1,m=!1;if(d===`
`)m=!0;else if(d==="\r"){m=!0;var b=this._input[1];b===`
`&&(y++,d+=b,this.yytext+=b,this.yyleng++,this.offset++,this.match+=b,this.matched+=b,this.yylloc.range[1]++)}return m?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(y),d},unput:function(d){var y=d.length,m=d.split(/(?:\r\n?|\n)/g);if(this._input=d+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-y),this.yyleng=this.yytext.length,this.offset-=y,this.match=this.match.substr(0,this.match.length-y),this.matched=this.matched.substr(0,this.matched.length-y),m.length>1){this.yylineno-=m.length-1,this.yylloc.last_line=this.yylineno+1;var b=this.match,p=b.split(/(?:\r\n?|\n)/g);p.length===1&&(b=this.matched,p=b.split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=p[p.length-1].length}else this.yylloc.last_column-=y;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var d="";this.yylloc&&(d=" on line "+(this.yylineno+1));var y=this.constructLexErrorInfo("Lexical error"+d+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(y.errStr,y,this.JisonLexerError)||this.ERROR}return this},less:function(d){return this.unput(this.match.slice(d))},pastInput:function(d,y){var m=this.matched.substring(0,this.matched.length-this.match.length);d<0?d=m.length:d||(d=20),y<0?y=m.length:y||(y=1),m=m.substr(-d*2-2);var b=m.replace(/\r\n|\r/g,`
`).split(`
`);return b=b.slice(-y),m=b.join(`
`),m.length>d&&(m="..."+m.substr(-d)),m},upcomingInput:function(d,y){var m=this.match;d<0?d=m.length+this._input.length:d||(d=20),y<0?y=d:y||(y=1),m.length<d*2+2&&(m+=this._input.substring(0,d*2+2));var b=m.replace(/\r\n|\r/g,`
`).split(`
`);return b=b.slice(0,y),m=b.join(`
`),m.length>d&&(m=m.substring(0,d)+"..."),m},showPosition:function(d,y){var m=this.pastInput(d).replace(/\s/g," "),b=new Array(m.length+1).join("-");return m+this.upcomingInput(y).replace(/\s/g," ")+`
`+b+"^"},deriveLocationInfo:function(d,y,m,b){var p={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return d&&(p.first_line=d.first_line|0,p.last_line=d.last_line|0,p.first_column=d.first_column|0,p.last_column=d.last_column|0,d.range&&(p.range[0]=d.range[0]|0,p.range[1]=d.range[1]|0)),(p.first_line<=0||p.last_line<p.first_line)&&(p.first_line<=0&&y&&(p.first_line=y.last_line|0,p.first_column=y.last_column|0,y.range&&(p.range[0]=d.range[1]|0)),(p.last_line<=0||p.last_line<p.first_line)&&m&&(p.last_line=m.first_line|0,p.last_column=m.first_column|0,m.range&&(p.range[1]=d.range[0]|0)),p.first_line<=0&&b&&(p.last_line<=0||b.last_line<=p.last_line)&&(p.first_line=b.first_line|0,p.first_column=b.first_column|0,b.range&&(p.range[0]=b.range[0]|0)),p.last_line<=0&&b&&(p.first_line<=0||b.first_line>=p.first_line)&&(p.last_line=b.last_line|0,p.last_column=b.last_column|0,b.range&&(p.range[1]=b.range[1]|0))),p.last_line<=0&&(p.first_line<=0?(p.first_line=this.yylloc.first_line,p.last_line=this.yylloc.last_line,p.first_column=this.yylloc.first_column,p.last_column=this.yylloc.last_column,p.range[0]=this.yylloc.range[0],p.range[1]=this.yylloc.range[1]):(p.last_line=this.yylloc.last_line,p.last_column=this.yylloc.last_column,p.range[1]=this.yylloc.range[1])),p.first_line<=0&&(p.first_line=p.last_line,p.first_column=0,p.range[1]=p.range[0]),p.first_column<0&&(p.first_column=0),p.last_column<0&&(p.last_column=p.first_column>0?p.first_column:80),p},prettyPrintRange:function(d,y,m){d=this.deriveLocationInfo(d,y,m);const b=3,p=1,_=2;var w=this.matched+this._input,x=w.split(`
`),S=Math.max(1,y?y.first_line:d.first_line-b),O=Math.max(1,m?m.last_line:d.last_line+p),A=1+Math.log10(O|1)|0,$=new Array(A).join(" "),E=[],C=x.slice(S-1,O+1).map(function(U,D){var W=D+S,ae=($+W).substr(-A),Q=ae+": "+U,ne=new Array(A+1).join("^"),Te=2+1,be=0;if(W===d.first_line?(Te+=d.first_column,be=Math.max(2,(W===d.last_line?d.last_column:U.length)-d.first_column+1)):W===d.last_line?be=Math.max(2,d.last_column+1):W>d.first_line&&W<d.last_line&&(be=Math.max(2,U.length+1)),be){var He=new Array(Te).join("."),wt=new Array(be).join("^");Q+=`
`+ne+He+wt,U.trim().length>0&&E.push(D)}return Q=Q.replace(/\t/g," "),Q});if(E.length>2*_){var P=E[_-1]+1,M=E[E.length-_]-1,I=new Array(A+1).join(" ")+"  (...continued...)";I+=`
`+new Array(A+1).join("-")+"  (---------------)",C.splice(P,M-P+1,I)}return C.join(`
`)},describeYYLLOC:function(d,y){var m=d.first_line,b=d.last_line,p=d.first_column,_=d.last_column,w=b-m,x=_-p,S;if(w===0?(S="line "+m+", ",x<=1?S+="column "+p:S+="columns "+p+" .. "+_):S="lines "+m+"(column "+p+") .. "+b+"(column "+_+")",d.range&&y){var O=d.range[0],A=d.range[1]-1;A<=O?S+=" {String Offset: "+O+"}":S+=" {String Offset range: "+O+" .. "+A+"}"}return S},test_match:function(d,y){var m,b,p,_,w;if(this.options.backtrack_lexer&&(p={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),_=d[0],w=_.length,b=_.split(/(?:\r\n?|\n)/g),b.length>1?(this.yylineno+=b.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=b[b.length-1].length):this.yylloc.last_column+=w,this.yytext+=_,this.match+=_,this.matched+=_,this.matches=d,this.yyleng=this.yytext.length,this.yylloc.range[1]+=w,this.offset+=w,this._more=!1,this._backtrack=!1,this._input=this._input.slice(w),m=this.performAction.call(this,this.yy,y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var x in p)this[x]=p[x];return this.__currentRuleSet__=null,!1}else if(this._signaled_error_token)return m=this._signaled_error_token,this._signaled_error_token=!1,m;return!1},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var d,y,m,b;this._more||this.clear();var p=this.__currentRuleSet__;if(!p&&(p=this.__currentRuleSet__=this._currentRules(),!p||!p.rules)){var _="";this.options.trackPosition&&(_=" on line "+(this.yylineno+1));var w=this.constructLexErrorInfo("Internal lexer engine error"+_+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(w.errStr,w,this.JisonLexerError)||this.ERROR}for(var x=p.rules,S=p.__rule_regexes,O=p.__rule_count,A=1;A<=O;A++)if(m=this._input.match(S[A]),m&&(!y||m[0].length>y[0].length)){if(y=m,b=A,this.options.backtrack_lexer){if(d=this.test_match(m,x[A]),d!==!1)return d;if(this._backtrack){y=void 0;continue}else return!1}else if(!this.options.flex)break}if(y)return d=this.test_match(y,x[b]),d!==!1?d:!1;if(this._input){var _="";this.options.trackPosition&&(_=" on line "+(this.yylineno+1));var w=this.constructLexErrorInfo("Lexical error"+_+": Unrecognized text.",this.options.lexerErrorsAreRecoverable),$=this._input,E=this.topState(),C=this.conditionStack.length;return d=this.parseError(w.errStr,w,this.JisonLexerError)||this.ERROR,d===this.ERROR&&!this.matches&&$===this._input&&E===this.topState()&&C===this.conditionStack.length&&this.input(),d}else return this.done=!0,this.clear(),this.EOF},lex:function(){var d;for(typeof this.pre_lex=="function"&&(d=this.pre_lex.call(this,0)),typeof this.options.pre_lex=="function"&&(d=this.options.pre_lex.call(this,d)||d),this.yy&&typeof this.yy.pre_lex=="function"&&(d=this.yy.pre_lex.call(this,d)||d);!d;)d=this.next();return this.yy&&typeof this.yy.post_lex=="function"&&(d=this.yy.post_lex.call(this,d)||d),typeof this.options.post_lex=="function"&&(d=this.options.post_lex.call(this,d)||d),typeof this.post_lex=="function"&&(d=this.post_lex.call(this,d)||d),d},fastLex:function(){for(var d;!d;)d=this.next();return d},canIUse:function(){var d={fastLex:!(typeof this.pre_lex=="function"||typeof this.options.pre_lex=="function"||this.yy&&typeof this.yy.pre_lex=="function"||this.yy&&typeof this.yy.post_lex=="function"||typeof this.options.post_lex=="function"||typeof this.post_lex=="function")&&typeof this.fastLex=="function"};return d},begin:function(d){return this.pushState(d)},pushState:function(d){return this.conditionStack.push(d),this.__currentRuleSet__=null,this},popState:function(){var d=this.conditionStack.length-1;return d>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(d){return d=this.conditionStack.length-1-Math.abs(d||0),d>=0?this.conditionStack[d]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:h,performAction:function(d,y,m){switch(y){case 1:break;default:return this.simpleCaseActionClusters[y]}},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return g}();u.lexer=f;function c(){this.yy={}}return c.prototype=u,u.Parser=c,new c}();typeof Dj<"u"&&(t.parser=e,t.Parser=e.Parser,t.parse=function(){return e.parse.apply(e,arguments)})})(x_);var ca={},bo={},jj={get exports(){return bo},set exports(t){bo=t}},Sl={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:1/1e3},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:1/1e3,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}},Lj=function(t,e,n,r){if(!Sl.hasOwnProperty(n))throw new Error("Cannot convert to "+n);if(!Sl[n].hasOwnProperty(e))throw new Error("Cannot convert from "+e+" to "+n);var i=Sl[n][e]*t;return r!==!1?(r=Math.pow(10,parseInt(r)||5),Math.round(i*r)/r):i};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Lj,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function a(s,l,u){switch(s.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return o(s,l,u);default:return{left:s,right:l}}}function o(s,l,u){return l.type===s.type&&(l={type:s.type,value:(0,r.default)(l.value,l.unit,s.unit,u),unit:s.unit}),{left:s,right:l}}e.default=a,t.exports=e.default})(jj,bo);Object.defineProperty(ca,"__esModule",{value:!0});ca.flip=Mu;var Fj=bo,Ol=Bj(Fj);function Bj(t){return t&&t.__esModule?t:{default:t}}function Ve(t,e){return t.type==="MathExpression"?zj(t,e):t.type==="Calc"?Ve(t.value,e):t}function Ip(t,e){return t.type===e.type&&t.value===e.value}function Ze(t){switch(t){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function Wj(t,e){var n=(0,Ol.default)(t.left,t.right,e),r=Ve(n.left,e),i=Ve(n.right,e);return r.type==="MathExpression"&&i.type==="MathExpression"&&(r.operator==="/"&&i.operator==="*"||r.operator==="-"&&i.operator==="+"||r.operator==="*"&&i.operator==="/"||r.operator==="+"&&i.operator==="-")&&(Ip(r.right,i.right)?n=(0,Ol.default)(r.left,i.left,e):Ip(r.right,i.left)&&(n=(0,Ol.default)(r.left,i.right,e)),r=Ve(n.left,e),i=Ve(n.right,e)),t.left=r,t.right=i,t}function Mu(t){return t==="+"?"-":"+"}function Nu(t){return Ze(t.type)?t.value=-t.value:t.type=="MathExpression"&&(t.left=Nu(t.left),t.right=Nu(t.right)),t}function Uj(t,e){var n=t,r=n.left,i=n.right,a=n.operator;if(r.type==="CssVariable"||i.type==="CssVariable")return t;if(i.value===0)return r;if(r.value===0&&a==="+")return i;if(r.value===0&&a==="-")return Nu(i);if(r.type===i.type&&Ze(r.type)&&(t=Object.assign({},r),a==="+"?t.value=r.value+i.value:t.value=r.value-i.value),Ze(r.type)&&(i.operator==="+"||i.operator==="-")&&i.type==="MathExpression"){if(r.type===i.left.type)return t=Object.assign({},t),t.left=Ve({type:"MathExpression",operator:a,left:r,right:i.left},e),t.right=i.right,t.operator=a==="-"?Mu(i.operator):i.operator,Ve(t,e);if(r.type===i.right.type)return t=Object.assign({},t),t.left=Ve({type:"MathExpression",operator:a==="-"?Mu(i.operator):i.operator,left:r,right:i.right},e),t.right=i.left,Ve(t,e)}if(r.type==="MathExpression"&&(r.operator==="+"||r.operator==="-")&&Ze(i.type)){if(i.type===r.left.type)return t=Object.assign({},r),t.left=Ve({type:"MathExpression",operator:a,left:r.left,right:i},e),Ve(t,e);if(i.type===r.right.type)return t=Object.assign({},r),r.operator==="-"?(t.right=Ve({type:"MathExpression",operator:a==="-"?"+":"-",left:i,right:r.right},e),t.operator=a==="-"?"-":"+"):t.right=Ve({type:"MathExpression",operator:a,left:r.right,right:i},e),t.right.value<0&&(t.right.value*=-1,t.operator=t.operator==="-"?"+":"-"),Ve(t,e)}return t}function Hj(t,e){if(!Ze(t.right.type))return t;if(t.right.type!=="Value")throw new Error('Cannot divide by "'+t.right.unit+'", number expected');if(t.right.value===0)throw new Error("Cannot divide by zero");return t.left.type==="MathExpression"?Ze(t.left.left.type)&&Ze(t.left.right.type)?(t.left.left.value/=t.right.value,t.left.right.value/=t.right.value,Ve(t.left,e)):t:Ze(t.left.type)?(t.left.value/=t.right.value,t.left):t}function Gj(t){if(t.left.type==="MathExpression"&&t.right.type==="Value"){if(Ze(t.left.left.type)&&Ze(t.left.right.type))return t.left.left.value*=t.right.value,t.left.right.value*=t.right.value,t.left}else{if(Ze(t.left.type)&&t.right.type==="Value")return t.left.value*=t.right.value,t.left;if(t.left.type==="Value"&&t.right.type==="MathExpression"){if(Ze(t.right.left.type)&&Ze(t.right.right.type))return t.right.left.value*=t.left.value,t.right.right.value*=t.left.value,t.right}else if(t.left.type==="Value"&&Ze(t.right.type))return t.right.value*=t.left.value,t.right}return t}function zj(t,e){switch(t=Wj(t,e),t.operator){case"+":case"-":return Uj(t,e);case"/":return Hj(t,e);case"*":return Gj(t)}return t}ca.default=Ve;var xo={},qj={get exports(){return xo},set exports(t){xo=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,s,l){var u=a(s,l);return s.type==="MathExpression"&&(u=o+"("+u+")"),u};var n=ca,r={"*":0,"/":0,"+":1,"-":1};function i(o,s){if(s!==!1){var l=Math.pow(10,s);return Math.round(o*l)/l}return o}function a(o,s){switch(o.type){case"MathExpression":{var l=o.left,u=o.right,f=o.operator,c="";return l.type==="MathExpression"&&r[f]<r[l.operator]?c+="("+a(l,s)+")":c+=a(l,s),c+=" "+o.operator+" ",u.type==="MathExpression"&&r[f]<r[u.operator]?c+="("+a(u,s)+")":(u.type==="MathExpression"&&f==="-"&&["+","-"].includes(u.operator)&&(u.operator=(0,n.flip)(u.operator)),c+=a(u,s)),c}case"Value":return i(o.value,s);case"CssVariable":return o.fallback?"var("+o.value+", "+a(o.fallback,s)+")":"var("+o.value+")";case"Calc":return o.prefix?"-"+o.prefix+"-calc("+a(o.value,s)+")":"calc("+a(o.value,s)+")";default:return i(o.value,s)+o.unit}}t.exports=e.default})(qj,xo);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Rj,r=u(n),i=x_,a=ca,o=u(a),s=xo,l=u(s);function u(c){return c&&c.__esModule?c:{default:c}}var f=/((?:\-[a-z]+\-)?calc)/;e.default=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return(0,r.default)(c).walk(function(g){if(!(g.type!=="function"||!f.test(g.value))){var v=r.default.stringify(g.nodes);if(!(v.indexOf("constant")>=0||v.indexOf("env")>=0)){var d=i.parser.parse(v),y=(0,o.default)(d,h);g.type="word",g.value=(0,l.default)(g.value,y,h)}}},!0).toString()},t.exports=e.default})(Pj,_o);const El=y0(_o);function Mi(t){return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(t)}function $p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$p(Object(n),!0).forEach(function(r){Vj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$p(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vj(t,e,n){return e=Kj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kj(t){var e=Yj(t,"string");return Mi(e)==="symbol"?e:String(e)}function Yj(t,e){if(Mi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mp(t){return Zj(t)||Jj(t)||Qj(t)||Xj()}function Xj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qj(t,e){if(t){if(typeof t=="string")return Ru(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ru(t,e)}}function Jj(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zj(t){if(Array.isArray(t))return Ru(t)}function Ru(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yn={widthCache:{},cacheCount:0},eL=2e3,tL={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nL=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],Np="recharts_measurement_span";function rL(t,e){return nL.indexOf(t)>=0&&e===+e?"".concat(e,"px"):e}function iL(t){var e=t.split(""),n=e.reduce(function(r,i){return i===i.toUpperCase()?[].concat(Mp(r),["-",i.toLowerCase()]):[].concat(Mp(r),[i])},[]);return n.join("")}var aL=function(e){return Object.keys(e).reduce(function(n,r){return"".concat(n).concat(iL(r),":").concat(rL(r,e[r]),";")},"")},An=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vt.isSsr)return{width:0,height:0};var r="".concat(e),i=aL(n),a="".concat(r,"-").concat(i);if(Yn.widthCache[a])return Yn.widthCache[a];try{var o=document.getElementById(Np);o||(o=document.createElement("span"),o.setAttribute("id",Np),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=kp(kp({},tL),n);Object.keys(s).map(function(f){return o.style[f]=s[f],f}),o.textContent=r;var l=o.getBoundingClientRect(),u={width:l.width,height:l.height};return Yn.widthCache[a]=u,++Yn.cacheCount>eL&&(Yn.cacheCount=0,Yn.widthCache={}),u}catch{return{width:0,height:0}}},oL=function(e){var n=e.ownerDocument.documentElement,r={top:0,left:0};return typeof e.getBoundingClientRect<"u"&&(r=e.getBoundingClientRect()),{top:r.top+window.pageYOffset-n.clientTop,left:r.left+window.pageXOffset-n.clientLeft}},sL=function(e,n){return{chartX:Math.round(e.pageX-n.left),chartY:Math.round(e.pageY-n.top)}},lL=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function xr(t){return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}function uL(t,e){if(t==null)return{};var n=cL(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S_(r.key),r)}}function hL(t,e,n){return e&&Rp(t.prototype,e),n&&Rp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ju(t,e)}function ju(t,e){return ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ju(t,e)}function pL(t){var e=gL();return function(){var r=wo(t),i;if(e){var a=wo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return vL(this,i)}}function vL(t,e){if(e&&(xr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_(t)}function w_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wo(t){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wo(t)}function Dp(t,e){return bL(t)||_L(t,e)||mL(t,e)||yL()}function yL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mL(t,e){if(t){if(typeof t=="string")return jp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jp(t,e)}}function jp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _L(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function bL(t){if(Array.isArray(t))return t}function Lp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lp(Object(n),!0).forEach(function(r){$f(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $f(t,e,n){return e=S_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S_(t){var e=xL(t,"string");return xr(e)==="symbol"?e:String(e)}function xL(t,e){if(xr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O_=/[ \f\n\r\t\v\u2028\u2029]+/,E_=function(e){try{var n=[];z(e.children)||(e.breakAll?n=e.children.toString().split(""):n=e.children.toString().split(O_));var r=n.map(function(a){return{word:a,width:An(a,e.style).width}}),i=e.breakAll?0:An(" ",e.style).width;return{wordsWithComputedWidth:r,spaceWidth:i}}catch{return null}},wL=function(e,n,r,i,a){var o=F(e.maxLines),s=e.children,l=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce(function(C,P){var M=P.word,I=P.width,R=C[C.length-1];if(R&&(i==null||a||R.width+I+r<i))R.words.push(M),R.width+=I+r;else{var U={words:[M],width:I};C.push(U)}return C},[])},u=l(n),f=function(E){return E.reduce(function(C,P){return C.width>P.width?C:P})};if(!o)return u;for(var c="…",h=function(E){var C=s.slice(0,E),P=E_(Fp(Fp({},e),{},{children:C+c})).wordsWithComputedWidth,M=l(P),I=M.length>e.maxLines||f(M).width>i;return[I,M]},g=0,v=s.length-1,d=0,y;g<=v&&d<=s.length-1;){var m=Math.floor((g+v)/2),b=m-1,p=h(b),_=Dp(p,2),w=_[0],x=_[1],S=h(m),O=Dp(S,1),A=O[0];if(!w&&!A&&(g=m+1),w&&A&&(v=m-1),!w&&A){y=x;break}d++}return y||u},Bp=function(e){var n=z(e)?[]:e.toString().split(O_);return[{words:n}]},SL=function(e,n){if((e.width||e.scaleToFit)&&!Vt.isSsr){var r,i;if(n){var a=E_(e);if(a){var o=a.wordsWithComputedWidth,s=a.spaceWidth;r=o,i=s}else return Bp(e.children);return wL(e,r,i,e.width,e.scaleToFit)}}return Bp(e.children)},Ni=function(t){dL(n,t);var e=pL(n);function n(){var r;fL(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),$f(w_(r),"state",{}),r}return hL(n,[{key:"render",value:function(){var i=this.props,a=i.dx,o=i.dy,s=i.textAnchor,l=i.verticalAnchor,u=i.scaleToFit,f=i.angle,c=i.lineHeight,h=i.capHeight,g=i.className,v=i.breakAll,d=uL(i,lL),y=this.state.wordsByLines;if(!ke(d.x)||!ke(d.y))return null;var m=d.x+(F(a)?a:0),b=d.y+(F(o)?o:0),p;switch(l){case"start":p=El("calc(".concat(h,")"));break;case"middle":p=El("calc(".concat((y.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:p=El("calc(".concat(y.length-1," * -").concat(c,")"));break}var _=[];if(u){var w=y[0].width,x=this.props.width;_.push("scale(".concat((F(x)?x/w:1)/w,")"))}return f&&_.push("rotate(".concat(f,", ").concat(m,", ").concat(b,")")),_.length&&(d.transform=_.join(" ")),T.createElement("text",Du({},se(d,!0),{x:m,y:b,className:ge("recharts-text",g),textAnchor:s,fill:d.fill.includes("url")?n.defaultProps.fill:d.fill}),y.map(function(S,O){return T.createElement("tspan",{x:m,dy:O===0?p:c,key:O},S.words.join(v?"":" "))}))}}],[{key:"getDerivedStateFromProps",value:function(i,a){if(i.width!==a.prevWidth||i.scaleToFit!==a.prevScaleToFit||i.children!==a.prevChildren||i.style!==a.prevStyle||i.breakAll!==a.prevBreakAll){var o=i.children!==a.prevChildren||i.style!==a.prevStyle||i.breakAll!==a.prevBreakAll;return{prevWidth:i.width,prevScaleToFit:i.scaleToFit,prevChildren:i.children,prevStyle:i.style,wordsByLines:SL(i,o)}}return null}}]),n}(B.Component);$f(Ni,"defaultProps",{x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"});var OL=_f;function EL(t,e){return OL(t,e)}var kf=EL,AL=Wr;function TL(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!AL(o):n(o,s)))var s=o,l=a}return l}var A_=TL;function CL(t,e){return t>e}var PL=CL,IL=A_,$L=PL,kL=Vr;function ML(t){return t&&t.length?IL(t,kL,$L):void 0}var Ns=ML;function NL(t,e){return t<e}var RL=NL,DL=A_,jL=RL,LL=Vr;function FL(t){return t&&t.length?DL(t,LL,jL):void 0}var Rs=FL,BL=lf,WL=mn,UL=s_,HL=ce;function GL(t,e){var n=HL(t)?BL:UL;return n(t,WL(e))}var zL=GL,qL=a_,VL=zL;function KL(t,e){return qL(VL(t,e),1)}var YL=KL;function fn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function XL(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mf(t){let e,n,r;t.length!==2?(e=fn,n=(s,l)=>fn(t(s),l),r=(s,l)=>t(s)-l):(e=t===fn||t===XL?t:QL,n=t,r=t);function i(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<0?u=c+1:f=c}while(u<f)}return u}function a(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function o(s,l,u=0,f=s.length){const c=i(s,l,u,f-1);return c>u&&r(s[c-1],l)>-r(s[c],l)?c-1:c}return{left:i,center:o,right:a}}function QL(){return 0}function T_(t){return t===null?NaN:+t}function*JL(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const ZL=Mf(fn),eF=ZL.right;Mf(T_).center;const fa=eF;class Wp extends Map{constructor(e,n=rF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Up(this,e))}has(e){return super.has(Up(this,e))}set(e,n){return super.set(tF(this,e),n)}delete(e){return super.delete(nF(this,e))}}function Up({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function tF({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function nF({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function rF(t){return t!==null&&typeof t=="object"?t.valueOf():t}function iF(t=fn){if(t===fn)return C_;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function C_(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const aF=Math.sqrt(50),oF=Math.sqrt(10),sF=Math.sqrt(2);function So(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=aF?10:a>=oF?5:a>=sF?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?So(t,e,n*2):[s,l,u]}function Lu(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?So(e,t,n):So(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Fu(t,e,n){return e=+e,t=+t,n=+n,So(t,e,n)[2]}function Bu(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Fu(e,t,n):Fu(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Hp(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Gp(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function P_(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?C_:iF(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*c/l+h)),v=Math.min(r,Math.floor(e+(l-u)*c/l+h));P_(t,e,g,v,i)}const a=t[e];let o=n,s=r;for(li(t,n,e),i(t[r],a)>0&&li(t,n,r);o<s;){for(li(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?li(t,n,s):(++s,li(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function li(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function lF(t,e,n){if(t=Float64Array.from(JL(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Gp(t);if(e>=1)return Hp(t);var r,i=(r-1)*e,a=Math.floor(i),o=Hp(P_(t,a).subarray(0,a+1)),s=Gp(t.subarray(a+1));return o+(s-o)*(i-a)}}function uF(t,e,n=T_){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function cF(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function xt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function nn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Wu=Symbol("implicit");function Nf(){var t=new Wp,e=[],n=[],r=Wu;function i(a){let o=t.get(a);if(o===void 0){if(r!==Wu)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Wp;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Nf(e,n).unknown(r)},xt.apply(i,arguments),i}function Ri(){var t=Nf().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,f=.5;delete t.unknown;function c(){var h=e().length,g=i<r,v=g?i:r,d=g?r:i;a=(d-v)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),v+=(d-v-a*(h-l))*f,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var y=cF(h).map(function(m){return v+a*m});return n(g?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),c()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,c()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,c()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},t.copy=function(){return Ri(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},xt.apply(c(),arguments)}function I_(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return I_(e())},t}function xi(){return I_(Ri.apply(null,arguments).paddingInner(1))}function Rf(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $_(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ha(){}var Di=.7,Oo=1/Di,or="\\s*([+-]?\\d+)\\s*",ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fF=/^#([0-9a-f]{3,8})$/,hF=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),dF=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),pF=new RegExp(`^rgba\\(${or},${or},${or},${ji}\\)$`),vF=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${ji}\\)$`),gF=new RegExp(`^hsl\\(${ji},${Rt},${Rt}\\)$`),yF=new RegExp(`^hsla\\(${ji},${Rt},${Rt},${ji}\\)$`),zp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rf(ha,Li,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qp,formatHex:qp,formatHex8:mF,formatHsl:_F,formatRgb:Vp,toString:Vp});function qp(){return this.rgb().formatHex()}function mF(){return this.rgb().formatHex8()}function _F(){return k_(this).formatHsl()}function Vp(){return this.rgb().formatRgb()}function Li(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fF.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Kp(e):n===3?new tt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ia(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ia(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hF.exec(t))?new tt(e[1],e[2],e[3],1):(e=dF.exec(t))?new tt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pF.exec(t))?Ia(e[1],e[2],e[3],e[4]):(e=vF.exec(t))?Ia(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gF.exec(t))?Qp(e[1],e[2]/100,e[3]/100,1):(e=yF.exec(t))?Qp(e[1],e[2]/100,e[3]/100,e[4]):zp.hasOwnProperty(t)?Kp(zp[t]):t==="transparent"?new tt(NaN,NaN,NaN,0):null}function Kp(t){return new tt(t>>16&255,t>>8&255,t&255,1)}function Ia(t,e,n,r){return r<=0&&(t=e=n=NaN),new tt(t,e,n,r)}function bF(t){return t instanceof ha||(t=Li(t)),t?(t=t.rgb(),new tt(t.r,t.g,t.b,t.opacity)):new tt}function Uu(t,e,n,r){return arguments.length===1?bF(t):new tt(t,e,n,r??1)}function tt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Rf(tt,Uu,$_(ha,{brighter(t){return t=t==null?Oo:Math.pow(Oo,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Di:Math.pow(Di,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tt(Dn(this.r),Dn(this.g),Dn(this.b),Eo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yp,formatHex:Yp,formatHex8:xF,formatRgb:Xp,toString:Xp}));function Yp(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}`}function xF(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}${Mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xp(){const t=Eo(this.opacity);return`${t===1?"rgb(":"rgba("}${Dn(this.r)}, ${Dn(this.g)}, ${Dn(this.b)}${t===1?")":`, ${t})`}`}function Eo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Dn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mn(t){return t=Dn(t),(t<16?"0":"")+t.toString(16)}function Qp(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tt(t,e,n,r)}function k_(t){if(t instanceof Tt)return new Tt(t.h,t.s,t.l,t.opacity);if(t instanceof ha||(t=Li(t)),!t)return new Tt;if(t instanceof Tt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Tt(o,s,l,t.opacity)}function wF(t,e,n,r){return arguments.length===1?k_(t):new Tt(t,e,n,r??1)}function Tt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rf(Tt,wF,$_(ha,{brighter(t){return t=t==null?Oo:Math.pow(Oo,t),new Tt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Di:Math.pow(Di,t),new Tt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new tt(Al(t>=240?t-240:t+120,i,r),Al(t,i,r),Al(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tt(Jp(this.h),$a(this.s),$a(this.l),Eo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Eo(this.opacity);return`${t===1?"hsl(":"hsla("}${Jp(this.h)}, ${$a(this.s)*100}%, ${$a(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Jp(t){return t=(t||0)%360,t<0?t+360:t}function $a(t){return Math.max(0,Math.min(1,t||0))}function Al(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Df=t=>()=>t;function SF(t,e){return function(n){return t+n*e}}function OF(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function EF(t){return(t=+t)==1?M_:function(e,n){return n-e?OF(e,n,t):Df(isNaN(e)?n:e)}}function M_(t,e){var n=e-t;return n?SF(t,n):Df(isNaN(t)?e:t)}const Zp=function t(e){var n=EF(e);function r(i,a){var o=n((i=Uu(i)).r,(a=Uu(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=M_(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function AF(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function TF(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function CF(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Kr(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function PF(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ao(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function IF(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Kr(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Hu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tl=new RegExp(Hu.source,"g");function $F(t){return function(){return t}}function kF(t){return function(e){return t(e)+""}}function MF(t,e){var n=Hu.lastIndex=Tl.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Hu.exec(t))&&(i=Tl.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Ao(r,i)})),n=Tl.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?kF(l[0].x):$F(e):(e=l.length,function(u){for(var f=0,c;f<e;++f)s[(c=l[f]).i]=c.x(u);return s.join("")})}function Kr(t,e){var n=typeof e,r;return e==null||n==="boolean"?Df(e):(n==="number"?Ao:n==="string"?(r=Li(e))?(e=r,Zp):MF:e instanceof Li?Zp:e instanceof Date?PF:TF(e)?AF:Array.isArray(e)?CF:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?IF:Ao)(t,e)}function jf(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function NF(t,e){e===void 0&&(e=t,t=Kr);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function RF(t){return function(){return t}}function To(t){return+t}var ev=[0,1];function Je(t){return t}function Gu(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:RF(isNaN(e)?NaN:.5)}function DF(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jF(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Gu(i,r),a=n(o,a)):(r=Gu(r,i),a=n(a,o)),function(s){return a(r(s))}}function LF(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Gu(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=fa(t,s,1,r)-1;return a[l](i[l](s))}}function da(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ds(){var t=ev,e=ev,n=Kr,r,i,a,o=Je,s,l,u;function f(){var h=Math.min(t.length,e.length);return o!==Je&&(o=DF(t[0],t[h-1])),s=h>2?LF:jF,l=u=null,c}function c(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return c.invert=function(h){return o(i((u||(u=s(e,t.map(r),Ao)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,To),f()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=jf,f()},c.clamp=function(h){return arguments.length?(o=h?!0:Je,f()):o!==Je},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(a=h,c):a},function(h,g){return r=h,i=g,f()}}function Lf(){return Ds()(Je,Je)}function FF(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Co(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wr(t){return t=Co(Math.abs(t)),t?t[1]:NaN}function BF(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function WF(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var UF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fi(t){if(!(e=UF.exec(t)))throw new Error("invalid format: "+t);var e;return new Ff({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fi.prototype=Ff.prototype;function Ff(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ff.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HF(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var N_;function GF(t,e){var n=Co(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(N_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Co(t,Math.max(0,e+a-1))[0]}function tv(t,e){var n=Co(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nv={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:FF,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tv(t*100,e),r:tv,s:GF,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rv(t){return t}var iv=Array.prototype.map,av=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zF(t){var e=t.grouping===void 0||t.thousands===void 0?rv:BF(iv.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?rv:WF(iv.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Fi(c);var h=c.fill,g=c.align,v=c.sign,d=c.symbol,y=c.zero,m=c.width,b=c.comma,p=c.precision,_=c.trim,w=c.type;w==="n"?(b=!0,w="g"):nv[w]||(p===void 0&&(p=12),_=!0,w="g"),(y||h==="0"&&g==="=")&&(y=!0,h="0",g="=");var x=d==="$"?n:d==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=d==="$"?r:/[%p]/.test(w)?o:"",O=nv[w],A=/[defgprs%]/.test(w);p=p===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function $(E){var C=x,P=S,M,I,R;if(w==="c")P=O(E)+P,E="";else{E=+E;var U=E<0||1/E<0;if(E=isNaN(E)?l:O(Math.abs(E),p),_&&(E=HF(E)),U&&+E==0&&v!=="+"&&(U=!1),C=(U?v==="("?v:s:v==="-"||v==="("?"":v)+C,P=(w==="s"?av[8+N_/3]:"")+P+(U&&v==="("?")":""),A){for(M=-1,I=E.length;++M<I;)if(R=E.charCodeAt(M),48>R||R>57){P=(R===46?i+E.slice(M+1):E.slice(M))+P,E=E.slice(0,M);break}}}b&&!y&&(E=e(E,1/0));var D=C.length+E.length+P.length,W=D<m?new Array(m-D+1).join(h):"";switch(b&&y&&(E=e(W+E,W.length?m-P.length:1/0),W=""),g){case"<":E=C+E+P+W;break;case"=":E=C+W+E+P;break;case"^":E=W.slice(0,D=W.length>>1)+C+E+P+W.slice(D);break;default:E=W+C+E+P;break}return a(E)}return $.toString=function(){return c+""},$}function f(c,h){var g=u((c=Fi(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(wr(h)/3)))*3,d=Math.pow(10,-v),y=av[8+v/3];return function(m){return g(d*m)+y}}return{format:u,formatPrefix:f}}var ka,Bf,R_;qF({thousands:",",grouping:[3],currency:["$",""]});function qF(t){return ka=zF(t),Bf=ka.format,R_=ka.formatPrefix,ka}function VF(t){return Math.max(0,-wr(Math.abs(t)))}function KF(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wr(e)/3)))*3-wr(Math.abs(t)))}function YF(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wr(e)-wr(t))+1}function D_(t,e,n,r){var i=Bu(t,e,n),a;switch(r=Fi(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=KF(i,o))&&(r.precision=a),R_(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=YF(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=VF(i))&&(r.precision=a-(r.type==="%")*2);break}}return Bf(r)}function _n(t){var e=t.domain;return t.ticks=function(n){var r=e();return Lu(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return D_(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=Fu(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Po(){var t=Lf();return t.copy=function(){return da(t,Po())},xt.apply(t,arguments),_n(t)}function j_(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,To),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return j_(t).unknown(e)},t=arguments.length?Array.from(t,To):[0,1],_n(n)}function L_(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function ov(t){return Math.log(t)}function sv(t){return Math.exp(t)}function XF(t){return-Math.log(-t)}function QF(t){return-Math.exp(-t)}function JF(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ZF(t){return t===10?JF:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eB(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lv(t){return(e,n)=>-t(-e,n)}function Wf(t){const e=t(ov,sv),n=e.domain;let r=10,i,a;function o(){return i=eB(r),a=ZF(r),n()[0]<0?(i=lv(i),a=lv(a),t(XF,QF)):t(ov,sv),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let h=i(u),g=i(f),v,d;const y=s==null?10:+s;let m=[];if(!(r%1)&&g-h<y){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(d=h<0?v/a(-h):v*a(h),!(d<u)){if(d>f)break;m.push(d)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(d=h>0?v/a(-h):v*a(h),!(d<u)){if(d>f)break;m.push(d)}m.length*2<y&&(m=Lu(u,f,y))}else m=Lu(h,g,Math.min(g-h,y)).map(a);return c?m.reverse():m},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Fi(l)).precision==null&&(l.trim=!0),l=Bf(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return f=>{let c=f/a(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},e.nice=()=>n(L_(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function F_(){const t=Wf(Ds()).domain([1,10]);return t.copy=()=>da(t,F_()).base(t.base()),xt.apply(t,arguments),t}function uv(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cv(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Uf(t){var e=1,n=t(uv(e),cv(e));return n.constant=function(r){return arguments.length?t(uv(e=+r),cv(e)):e},_n(n)}function B_(){var t=Uf(Ds());return t.copy=function(){return da(t,B_()).constant(t.constant())},xt.apply(t,arguments)}function fv(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function tB(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nB(t){return t<0?-t*t:t*t}function Hf(t){var e=t(Je,Je),n=1;function r(){return n===1?t(Je,Je):n===.5?t(tB,nB):t(fv(n),fv(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},_n(e)}function Gf(){var t=Hf(Ds());return t.copy=function(){return da(t,Gf()).exponent(t.exponent())},xt.apply(t,arguments),t}function rB(){return Gf.apply(null,arguments).exponent(.5)}function hv(t){return Math.sign(t)*t*t}function iB(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function W_(){var t=Lf(),e=[0,1],n=!1,r;function i(a){var o=iB(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(hv(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,To)).map(hv)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return W_(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},xt.apply(i,arguments),_n(i)}function U_(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=uF(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[fa(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(fn),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return U_().domain(t).range(e).unknown(r)},xt.apply(a,arguments)}function H_(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[fa(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return H_().domain([t,e]).range(i).unknown(a)},xt.apply(_n(o),arguments)}function G_(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[fa(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return G_().domain(t).range(e).unknown(n)},xt.apply(i,arguments)}const Cl=new Date,Pl=new Date;function Me(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Me(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Cl.setTime(+a),Pl.setTime(+o),t(Cl),t(Pl),Math.floor(n(Cl,Pl))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Io=Me(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Io.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Me(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Io);Io.range;const Gt=1e3,mt=Gt*60,zt=mt*60,Qt=zt*24,zf=Qt*7,dv=Qt*30,Il=Qt*365,Nn=Me(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Gt)},(t,e)=>(e-t)/Gt,t=>t.getUTCSeconds());Nn.range;const qf=Me(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gt)},(t,e)=>{t.setTime(+t+e*mt)},(t,e)=>(e-t)/mt,t=>t.getMinutes());qf.range;const Vf=Me(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*mt)},(t,e)=>(e-t)/mt,t=>t.getUTCMinutes());Vf.range;const Kf=Me(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gt-t.getMinutes()*mt)},(t,e)=>{t.setTime(+t+e*zt)},(t,e)=>(e-t)/zt,t=>t.getHours());Kf.range;const Yf=Me(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zt)},(t,e)=>(e-t)/zt,t=>t.getUTCHours());Yf.range;const pa=Me(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mt)/Qt,t=>t.getDate()-1);pa.range;const js=Me(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qt,t=>t.getUTCDate()-1);js.range;const z_=Me(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qt,t=>Math.floor(t/Qt));z_.range;function zn(t){return Me(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*mt)/zf)}const Ls=zn(0),$o=zn(1),aB=zn(2),oB=zn(3),Sr=zn(4),sB=zn(5),lB=zn(6);Ls.range;$o.range;aB.range;oB.range;Sr.range;sB.range;lB.range;function qn(t){return Me(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/zf)}const Fs=qn(0),ko=qn(1),uB=qn(2),cB=qn(3),Or=qn(4),fB=qn(5),hB=qn(6);Fs.range;ko.range;uB.range;cB.range;Or.range;fB.range;hB.range;const Xf=Me(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Xf.range;const Qf=Me(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Qf.range;const Jt=Me(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Me(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Jt.range;const Zt=Me(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Zt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Me(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Zt.range;function q_(t,e,n,r,i,a){const o=[[Nn,1,Gt],[Nn,5,5*Gt],[Nn,15,15*Gt],[Nn,30,30*Gt],[a,1,mt],[a,5,5*mt],[a,15,15*mt],[a,30,30*mt],[i,1,zt],[i,3,3*zt],[i,6,6*zt],[i,12,12*zt],[r,1,Qt],[r,2,2*Qt],[n,1,zf],[e,1,dv],[e,3,3*dv],[t,1,Il]];function s(u,f,c){const h=f<u;h&&([u,f]=[f,u]);const g=c&&typeof c.range=="function"?c:l(u,f,c),v=g?g.range(u,+f+1):[];return h?v.reverse():v}function l(u,f,c){const h=Math.abs(f-u)/c,g=Mf(([,,y])=>y).right(o,h);if(g===o.length)return t.every(Bu(u/Il,f/Il,c));if(g===0)return Io.every(Math.max(Bu(u,f,c),1));const[v,d]=o[h/o[g-1][2]<o[g][2]/h?g-1:g];return v.every(d)}return[s,l]}const[dB,pB]=q_(Zt,Qf,Fs,z_,Yf,Vf),[vB,gB]=q_(Jt,Xf,Ls,pa,Kf,qf);function $l(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kl(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ui(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function yB(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=ci(i),f=fi(i),c=ci(a),h=fi(a),g=ci(o),v=fi(o),d=ci(s),y=fi(s),m=ci(l),b=fi(l),p={a:U,A:D,b:W,B:ae,c:null,d:_v,e:_v,f:BB,g:XB,G:JB,H:jB,I:LB,j:FB,L:V_,m:WB,M:UB,p:Q,q:ne,Q:wv,s:Sv,S:HB,u:GB,U:zB,V:qB,w:VB,W:KB,x:null,X:null,y:YB,Y:QB,Z:ZB,"%":xv},_={a:Te,A:be,b:He,B:wt,c:null,d:bv,e:bv,f:r3,g:d3,G:v3,H:e3,I:t3,j:n3,L:Y_,m:i3,M:a3,p:Ye,q:ie,Q:wv,s:Sv,S:o3,u:s3,U:l3,V:u3,w:c3,W:f3,x:null,X:null,y:h3,Y:p3,Z:g3,"%":xv},w={a:$,A:E,b:C,B:P,c:M,d:yv,e:yv,f:MB,g:gv,G:vv,H:mv,I:mv,j:PB,L:kB,m:CB,M:IB,p:A,q:TB,Q:RB,s:DB,S:$B,u:wB,U:SB,V:OB,w:xB,W:EB,x:I,X:R,y:gv,Y:vv,Z:AB,"%":NB};p.x=x(n,p),p.X=x(r,p),p.c=x(e,p),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_);function x(j,G){return function(Y){var N=[],fe=-1,re=0,Ee=j.length,Ce,ft,Qr;for(Y instanceof Date||(Y=new Date(+Y));++fe<Ee;)j.charCodeAt(fe)===37&&(N.push(j.slice(re,fe)),(ft=pv[Ce=j.charAt(++fe)])!=null?Ce=j.charAt(++fe):ft=Ce==="e"?" ":"0",(Qr=G[Ce])&&(Ce=Qr(Y,ft)),N.push(Ce),re=fe+1);return N.push(j.slice(re,fe)),N.join("")}}function S(j,G){return function(Y){var N=ui(1900,void 0,1),fe=O(N,j,Y+="",0),re,Ee;if(fe!=Y.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if(G&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(re=kl(ui(N.y,0,1)),Ee=re.getUTCDay(),re=Ee>4||Ee===0?ko.ceil(re):ko(re),re=js.offset(re,(N.V-1)*7),N.y=re.getUTCFullYear(),N.m=re.getUTCMonth(),N.d=re.getUTCDate()+(N.w+6)%7):(re=$l(ui(N.y,0,1)),Ee=re.getDay(),re=Ee>4||Ee===0?$o.ceil(re):$o(re),re=pa.offset(re,(N.V-1)*7),N.y=re.getFullYear(),N.m=re.getMonth(),N.d=re.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),Ee="Z"in N?kl(ui(N.y,0,1)).getUTCDay():$l(ui(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(Ee+5)%7:N.w+N.U*7-(Ee+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,kl(N)):$l(N)}}function O(j,G,Y,N){for(var fe=0,re=G.length,Ee=Y.length,Ce,ft;fe<re;){if(N>=Ee)return-1;if(Ce=G.charCodeAt(fe++),Ce===37){if(Ce=G.charAt(fe++),ft=w[Ce in pv?G.charAt(fe++):Ce],!ft||(N=ft(j,Y,N))<0)return-1}else if(Ce!=Y.charCodeAt(N++))return-1}return N}function A(j,G,Y){var N=u.exec(G.slice(Y));return N?(j.p=f.get(N[0].toLowerCase()),Y+N[0].length):-1}function $(j,G,Y){var N=g.exec(G.slice(Y));return N?(j.w=v.get(N[0].toLowerCase()),Y+N[0].length):-1}function E(j,G,Y){var N=c.exec(G.slice(Y));return N?(j.w=h.get(N[0].toLowerCase()),Y+N[0].length):-1}function C(j,G,Y){var N=m.exec(G.slice(Y));return N?(j.m=b.get(N[0].toLowerCase()),Y+N[0].length):-1}function P(j,G,Y){var N=d.exec(G.slice(Y));return N?(j.m=y.get(N[0].toLowerCase()),Y+N[0].length):-1}function M(j,G,Y){return O(j,e,G,Y)}function I(j,G,Y){return O(j,n,G,Y)}function R(j,G,Y){return O(j,r,G,Y)}function U(j){return o[j.getDay()]}function D(j){return a[j.getDay()]}function W(j){return l[j.getMonth()]}function ae(j){return s[j.getMonth()]}function Q(j){return i[+(j.getHours()>=12)]}function ne(j){return 1+~~(j.getMonth()/3)}function Te(j){return o[j.getUTCDay()]}function be(j){return a[j.getUTCDay()]}function He(j){return l[j.getUTCMonth()]}function wt(j){return s[j.getUTCMonth()]}function Ye(j){return i[+(j.getUTCHours()>=12)]}function ie(j){return 1+~~(j.getUTCMonth()/3)}return{format:function(j){var G=x(j+="",p);return G.toString=function(){return j},G},parse:function(j){var G=S(j+="",!1);return G.toString=function(){return j},G},utcFormat:function(j){var G=x(j+="",_);return G.toString=function(){return j},G},utcParse:function(j){var G=S(j+="",!0);return G.toString=function(){return j},G}}}var pv={"-":"",_:" ",0:"0"},Ue=/^\s*\d+/,mB=/^%/,_B=/[\\^$*+?|[\]().{}]/g;function le(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function bB(t){return t.replace(_B,"\\$&")}function ci(t){return new RegExp("^(?:"+t.map(bB).join("|")+")","i")}function fi(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function xB(t,e,n){var r=Ue.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wB(t,e,n){var r=Ue.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function SB(t,e,n){var r=Ue.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function OB(t,e,n){var r=Ue.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function EB(t,e,n){var r=Ue.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function vv(t,e,n){var r=Ue.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gv(t,e,n){var r=Ue.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function AB(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function TB(t,e,n){var r=Ue.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function CB(t,e,n){var r=Ue.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yv(t,e,n){var r=Ue.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function PB(t,e,n){var r=Ue.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function mv(t,e,n){var r=Ue.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function IB(t,e,n){var r=Ue.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function $B(t,e,n){var r=Ue.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function kB(t,e,n){var r=Ue.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function MB(t,e,n){var r=Ue.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function NB(t,e,n){var r=mB.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function RB(t,e,n){var r=Ue.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function DB(t,e,n){var r=Ue.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _v(t,e){return le(t.getDate(),e,2)}function jB(t,e){return le(t.getHours(),e,2)}function LB(t,e){return le(t.getHours()%12||12,e,2)}function FB(t,e){return le(1+pa.count(Jt(t),t),e,3)}function V_(t,e){return le(t.getMilliseconds(),e,3)}function BB(t,e){return V_(t,e)+"000"}function WB(t,e){return le(t.getMonth()+1,e,2)}function UB(t,e){return le(t.getMinutes(),e,2)}function HB(t,e){return le(t.getSeconds(),e,2)}function GB(t){var e=t.getDay();return e===0?7:e}function zB(t,e){return le(Ls.count(Jt(t)-1,t),e,2)}function K_(t){var e=t.getDay();return e>=4||e===0?Sr(t):Sr.ceil(t)}function qB(t,e){return t=K_(t),le(Sr.count(Jt(t),t)+(Jt(t).getDay()===4),e,2)}function VB(t){return t.getDay()}function KB(t,e){return le($o.count(Jt(t)-1,t),e,2)}function YB(t,e){return le(t.getFullYear()%100,e,2)}function XB(t,e){return t=K_(t),le(t.getFullYear()%100,e,2)}function QB(t,e){return le(t.getFullYear()%1e4,e,4)}function JB(t,e){var n=t.getDay();return t=n>=4||n===0?Sr(t):Sr.ceil(t),le(t.getFullYear()%1e4,e,4)}function ZB(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+le(e/60|0,"0",2)+le(e%60,"0",2)}function bv(t,e){return le(t.getUTCDate(),e,2)}function e3(t,e){return le(t.getUTCHours(),e,2)}function t3(t,e){return le(t.getUTCHours()%12||12,e,2)}function n3(t,e){return le(1+js.count(Zt(t),t),e,3)}function Y_(t,e){return le(t.getUTCMilliseconds(),e,3)}function r3(t,e){return Y_(t,e)+"000"}function i3(t,e){return le(t.getUTCMonth()+1,e,2)}function a3(t,e){return le(t.getUTCMinutes(),e,2)}function o3(t,e){return le(t.getUTCSeconds(),e,2)}function s3(t){var e=t.getUTCDay();return e===0?7:e}function l3(t,e){return le(Fs.count(Zt(t)-1,t),e,2)}function X_(t){var e=t.getUTCDay();return e>=4||e===0?Or(t):Or.ceil(t)}function u3(t,e){return t=X_(t),le(Or.count(Zt(t),t)+(Zt(t).getUTCDay()===4),e,2)}function c3(t){return t.getUTCDay()}function f3(t,e){return le(ko.count(Zt(t)-1,t),e,2)}function h3(t,e){return le(t.getUTCFullYear()%100,e,2)}function d3(t,e){return t=X_(t),le(t.getUTCFullYear()%100,e,2)}function p3(t,e){return le(t.getUTCFullYear()%1e4,e,4)}function v3(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Or(t):Or.ceil(t),le(t.getUTCFullYear()%1e4,e,4)}function g3(){return"+0000"}function xv(){return"%"}function wv(t){return+t}function Sv(t){return Math.floor(+t/1e3)}var Xn,Q_,J_;y3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function y3(t){return Xn=yB(t),Q_=Xn.format,Xn.parse,J_=Xn.utcFormat,Xn.utcParse,Xn}function m3(t){return new Date(t)}function _3(t){return t instanceof Date?+t:+new Date(+t)}function Jf(t,e,n,r,i,a,o,s,l,u){var f=Lf(),c=f.invert,h=f.domain,g=u(".%L"),v=u(":%S"),d=u("%I:%M"),y=u("%I %p"),m=u("%a %d"),b=u("%b %d"),p=u("%B"),_=u("%Y");function w(x){return(l(x)<x?g:s(x)<x?v:o(x)<x?d:a(x)<x?y:r(x)<x?i(x)<x?m:b:n(x)<x?p:_)(x)}return f.invert=function(x){return new Date(c(x))},f.domain=function(x){return arguments.length?h(Array.from(x,_3)):h().map(m3)},f.ticks=function(x){var S=h();return t(S[0],S[S.length-1],x??10)},f.tickFormat=function(x,S){return S==null?w:u(S)},f.nice=function(x){var S=h();return(!x||typeof x.range!="function")&&(x=e(S[0],S[S.length-1],x??10)),x?h(L_(S,x)):f},f.copy=function(){return da(f,Jf(t,e,n,r,i,a,o,s,l,u))},f}function b3(){return xt.apply(Jf(vB,gB,Jt,Xf,Ls,pa,Kf,qf,Nn,Q_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function x3(){return xt.apply(Jf(dB,pB,Zt,Qf,Fs,js,Yf,Vf,Nn,J_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bs(){var t=0,e=1,n,r,i,a,o=Je,s=!1,l;function u(c){return c==null||isNaN(c=+c)?l:o(i===0?.5:(c=(a(c)-n)*i,s?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([t,e]=c,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(c){return arguments.length?(s=!!c,u):s},u.interpolator=function(c){return arguments.length?(o=c,u):o};function f(c){return function(h){var g,v;return arguments.length?([g,v]=h,o=c(g,v),u):[o(0),o(1)]}}return u.range=f(Kr),u.rangeRound=f(jf),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return a=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),u}}function bn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Z_(){var t=_n(Bs()(Je));return t.copy=function(){return bn(t,Z_())},nn.apply(t,arguments)}function eb(){var t=Wf(Bs()).domain([1,10]);return t.copy=function(){return bn(t,eb()).base(t.base())},nn.apply(t,arguments)}function tb(){var t=Uf(Bs());return t.copy=function(){return bn(t,tb()).constant(t.constant())},nn.apply(t,arguments)}function Zf(){var t=Hf(Bs());return t.copy=function(){return bn(t,Zf()).exponent(t.exponent())},nn.apply(t,arguments)}function w3(){return Zf.apply(null,arguments).exponent(.5)}function nb(){var t=[],e=Je;function n(r){if(r!=null&&!isNaN(r=+r))return e((fa(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fn),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>lF(t,a/r))},n.copy=function(){return nb(e).domain(t)},nn.apply(n,arguments)}function Ws(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Je,f,c=!1,h;function g(d){return isNaN(d=+d)?h:(d=.5+((d=+f(d))-a)*(r*d<r*a?s:l),u(c?Math.max(0,Math.min(1,d)):d))}g.domain=function(d){return arguments.length?([t,e,n]=d,i=f(t=+t),a=f(e=+e),o=f(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,g):[t,e,n]},g.clamp=function(d){return arguments.length?(c=!!d,g):c},g.interpolator=function(d){return arguments.length?(u=d,g):u};function v(d){return function(y){var m,b,p;return arguments.length?([m,b,p]=y,u=NF(d,[m,b,p]),g):[u(0),u(.5),u(1)]}}return g.range=v(Kr),g.rangeRound=v(jf),g.unknown=function(d){return arguments.length?(h=d,g):h},function(d){return f=d,i=d(t),a=d(e),o=d(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,g}}function rb(){var t=_n(Ws()(Je));return t.copy=function(){return bn(t,rb())},nn.apply(t,arguments)}function ib(){var t=Wf(Ws()).domain([.1,1,10]);return t.copy=function(){return bn(t,ib()).base(t.base())},nn.apply(t,arguments)}function ab(){var t=Uf(Ws());return t.copy=function(){return bn(t,ab()).constant(t.constant())},nn.apply(t,arguments)}function eh(){var t=Hf(Ws());return t.copy=function(){return bn(t,eh()).exponent(t.exponent())},nn.apply(t,arguments)}function S3(){return eh.apply(null,arguments).exponent(.5)}const Ov=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ri,scaleDiverging:rb,scaleDivergingLog:ib,scaleDivergingPow:eh,scaleDivergingSqrt:S3,scaleDivergingSymlog:ab,scaleIdentity:j_,scaleImplicit:Wu,scaleLinear:Po,scaleLog:F_,scaleOrdinal:Nf,scalePoint:xi,scalePow:Gf,scaleQuantile:U_,scaleQuantize:H_,scaleRadial:W_,scaleSequential:Z_,scaleSequentialLog:eb,scaleSequentialPow:Zf,scaleSequentialQuantile:nb,scaleSequentialSqrt:w3,scaleSequentialSymlog:tb,scaleSqrt:rB,scaleSymlog:B_,scaleThreshold:G_,scaleTime:b3,scaleUtc:x3,tickFormat:D_},Symbol.toStringTag,{value:"Module"}));var Yr=1e9,O3={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nh,Oe=!0,bt="[DecimalError] ",jn=bt+"Invalid argument: ",th=bt+"Exponent out of range: ",Xr=Math.floor,On=Math.pow,E3=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ot,je=1e7,Se=7,ob=9007199254740991,Mo=Xr(ob/Se),H={};H.absoluteValue=H.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};H.comparedTo=H.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};H.decimalPlaces=H.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Se;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};H.dividedBy=H.div=function(t){return Kt(this,new this.constructor(t))};H.dividedToIntegerBy=H.idiv=function(t){var e=this,n=e.constructor;return ve(Kt(e,new n(t),0,1),n.precision)};H.equals=H.eq=function(t){return!this.cmp(t)};H.exponent=function(){return Pe(this)};H.greaterThan=H.gt=function(t){return this.cmp(t)>0};H.greaterThanOrEqualTo=H.gte=function(t){return this.cmp(t)>=0};H.isInteger=H.isint=function(){return this.e>this.d.length-2};H.isNegative=H.isneg=function(){return this.s<0};H.isPositive=H.ispos=function(){return this.s>0};H.isZero=function(){return this.s===0};H.lessThan=H.lt=function(t){return this.cmp(t)<0};H.lessThanOrEqualTo=H.lte=function(t){return this.cmp(t)<1};H.logarithm=H.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ot))throw Error(bt+"NaN");if(n.s<1)throw Error(bt+(n.s?"NaN":"-Infinity"));return n.eq(ot)?new r(0):(Oe=!1,e=Kt(Bi(n,a),Bi(t,a),a),Oe=!0,ve(e,i))};H.minus=H.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ub(e,t):sb(e,(t.s=-t.s,t))};H.modulo=H.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(bt+"NaN");return n.s?(Oe=!1,e=Kt(n,t,0,1).times(t),Oe=!0,n.minus(e)):ve(new r(n),i)};H.naturalExponential=H.exp=function(){return lb(this)};H.naturalLogarithm=H.ln=function(){return Bi(this)};H.negated=H.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};H.plus=H.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sb(e,t):ub(e,(t.s=-t.s,t))};H.precision=H.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(jn+t);if(e=Pe(i)+1,r=i.d.length-1,n=r*Se+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};H.squareRoot=H.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(bt+"NaN")}for(t=Pe(s),Oe=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Nt(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Xr((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Kt(s,a,o+2)).times(.5),Nt(a.d).slice(0,o)===(e=Nt(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ve(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Oe=!0,ve(r,n)};H.times=H.mul=function(t){var e,n,r,i,a,o,s,l,u,f=this,c=f.constructor,h=f.d,g=(t=new c(t)).d;if(!f.s||!t.s)return new c(0);for(t.s*=f.s,n=f.e+t.e,l=h.length,u=g.length,l<u&&(a=h,h=g,g=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+g[r]*h[i-r-1]+e,a[i--]=s%je|0,e=s/je|0;a[i]=(a[i]+e)%je|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Oe?ve(t,c.precision):t};H.toDecimalPlaces=H.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Lt(t,0,Yr),e===void 0?e=r.rounding:Lt(e,0,8),ve(n,t+Pe(n)+1,e))};H.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Un(r,!0):(Lt(t,0,Yr),e===void 0?e=i.rounding:Lt(e,0,8),r=ve(new i(r),t+1,e),n=Un(r,!0,t+1)),n};H.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Un(i):(Lt(t,0,Yr),e===void 0?e=a.rounding:Lt(e,0,8),r=ve(new a(i),t+Pe(i)+1,e),n=Un(r.abs(),!1,t+Pe(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};H.toInteger=H.toint=function(){var t=this,e=t.constructor;return ve(new e(t),Pe(t)+1,e.rounding)};H.toNumber=function(){return+this};H.toPower=H.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(ot);if(s=new l(s),!s.s){if(t.s<1)throw Error(bt+"Infinity");return s}if(s.eq(ot))return s;if(r=l.precision,t.eq(ot))return ve(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=f<0?-f:f)<=ob){for(i=new l(ot),e=Math.ceil(r/Se+4),Oe=!1;n%2&&(i=i.times(s),Av(i.d,e)),n=Xr(n/2),n!==0;)s=s.times(s),Av(s.d,e);return Oe=!0,t.s<0?new l(ot).div(i):ve(i,r)}}else if(a<0)throw Error(bt+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Oe=!1,i=t.times(Bi(s,r+u)),Oe=!0,i=lb(i),i.s=a,i};H.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Pe(i),r=Un(i,n<=a.toExpNeg||n>=a.toExpPos)):(Lt(t,1,Yr),e===void 0?e=a.rounding:Lt(e,0,8),i=ve(new a(i),t,e),n=Pe(i),r=Un(i,t<=n||n<=a.toExpNeg,t)),r};H.toSignificantDigits=H.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Lt(t,1,Yr),e===void 0?e=r.rounding:Lt(e,0,8)),ve(new r(n),t,e)};H.toString=H.valueOf=H.val=H.toJSON=H[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pe(t),n=t.constructor;return Un(t,e<=n.toExpNeg||e>=n.toExpPos)};function sb(t,e){var n,r,i,a,o,s,l,u,f=t.constructor,c=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Oe?ve(e,c):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(c/Se),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/je|0,l[a]%=je;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Oe?ve(e,c):e}function Lt(t,e,n){if(t!==~~t||t<e||t>n)throw Error(jn+t)}function Nt(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Se-r.length,n&&(a+=on(n)),a+=r;o=t[e],r=o+"",n=Se-r.length,n&&(a+=on(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Kt=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%je|0,o=a/je|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*je+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,f,c,h,g,v,d,y,m,b,p,_,w,x,S,O,A=r.constructor,$=r.s==i.s?1:-1,E=r.d,C=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(bt+"Division by zero");for(l=r.e-i.e,S=C.length,w=E.length,g=new A($),v=g.d=[],u=0;C[u]==(E[u]||0);)++u;if(C[u]>(E[u]||0)&&--l,a==null?b=a=A.precision:o?b=a+(Pe(r)-Pe(i))+1:b=a,b<0)return new A(0);if(b=b/Se+2|0,u=0,S==1)for(f=0,C=C[0],b++;(u<w||f)&&b--;u++)p=f*je+(E[u]||0),v[u]=p/C|0,f=p%C|0;else{for(f=je/(C[0]+1)|0,f>1&&(C=t(C,f),E=t(E,f),S=C.length,w=E.length),_=S,d=E.slice(0,S),y=d.length;y<S;)d[y++]=0;O=C.slice(),O.unshift(0),x=C[0],C[1]>=je/2&&++x;do f=0,s=e(C,d,S,y),s<0?(m=d[0],S!=y&&(m=m*je+(d[1]||0)),f=m/x|0,f>1?(f>=je&&(f=je-1),c=t(C,f),h=c.length,y=d.length,s=e(c,d,h,y),s==1&&(f--,n(c,S<h?O:C,h))):(f==0&&(s=f=1),c=C.slice()),h=c.length,h<y&&c.unshift(0),n(d,c,y),s==-1&&(y=d.length,s=e(C,d,S,y),s<1&&(f++,n(d,S<y?O:C,y))),y=d.length):s===0&&(f++,d=[0]),v[u++]=f,s&&d[0]?d[y++]=E[_]||0:(d=[E[_]],y=1);while((_++<w||d[0]!==void 0)&&b--)}return v[0]||v.shift(),g.e=l,ve(g,o?a+Pe(g)+1:a)}}();function lb(t,e){var n,r,i,a,o,s,l=0,u=0,f=t.constructor,c=f.precision;if(Pe(t)>16)throw Error(th+Pe(t));if(!t.s)return new f(ot);for(e==null?(Oe=!1,s=c):s=e,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(On(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new f(ot),f.precision=s;;){if(i=ve(i.times(t),s),n=n.times(++l),o=a.plus(Kt(i,n,s)),Nt(o.d).slice(0,s)===Nt(a.d).slice(0,s)){for(;u--;)a=ve(a.times(a),s);return f.precision=c,e==null?(Oe=!0,ve(a,c)):a}a=o}}function Pe(t){for(var e=t.e*Se,n=t.d[0];n>=10;n/=10)e++;return e}function Ml(t,e,n){if(e>t.LN10.sd())throw Oe=!0,n&&(t.precision=n),Error(bt+"LN10 precision limit exceeded");return ve(new t(t.LN10),e)}function on(t){for(var e="";t--;)e+="0";return e}function Bi(t,e){var n,r,i,a,o,s,l,u,f,c=1,h=10,g=t,v=g.d,d=g.constructor,y=d.precision;if(g.s<1)throw Error(bt+(g.s?"NaN":"-Infinity"));if(g.eq(ot))return new d(0);if(e==null?(Oe=!1,u=y):u=e,g.eq(10))return e==null&&(Oe=!0),Ml(d,u);if(u+=h,d.precision=u,n=Nt(v),r=n.charAt(0),a=Pe(g),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Nt(g.d),r=n.charAt(0),c++;a=Pe(g),r>1?(g=new d("0."+n),a++):g=new d(r+"."+n.slice(1))}else return l=Ml(d,u+2,y).times(a+""),g=Bi(new d(r+"."+n.slice(1)),u-h).plus(l),d.precision=y,e==null?(Oe=!0,ve(g,y)):g;for(s=o=g=Kt(g.minus(ot),g.plus(ot),u),f=ve(g.times(g),u),i=3;;){if(o=ve(o.times(f),u),l=s.plus(Kt(o,new d(i),u)),Nt(l.d).slice(0,u)===Nt(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Ml(d,u+2,y).times(a+""))),s=Kt(s,new d(c),u),d.precision=y,e==null?(Oe=!0,ve(s,y)):s;s=l,i+=2}}function Ev(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Xr(n/Se),t.d=[],r=(n+1)%Se,n<0&&(r+=Se),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Se;r<i;)t.d.push(+e.slice(r,r+=Se));e=e.slice(r),r=Se-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Oe&&(t.e>Mo||t.e<-Mo))throw Error(th+n)}else t.s=0,t.e=0,t.d=[0];return t}function ve(t,e,n){var r,i,a,o,s,l,u,f,c=t.d;for(o=1,a=c[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Se,i=e,u=c[f=0];else{if(f=Math.ceil((r+1)/Se),a=c.length,f>=a)return t;for(u=a=c[f],o=1;a>=10;a/=10)o++;r%=Se,i=r-Se+o}if(n!==void 0&&(a=On(10,o-i-1),s=u/a%10|0,l=e<0||c[f+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/On(10,o-i):0:c[f-1])%10&1||n==(t.s<0?8:7))),e<1||!c[0])return l?(a=Pe(t),c.length=1,e=e-a-1,c[0]=On(10,(Se-e%Se)%Se),t.e=Xr(-e/Se)||0):(c.length=1,c[0]=t.e=t.s=0),t;if(r==0?(c.length=f,a=1,f--):(c.length=f+1,a=On(10,Se-r),c[f]=i>0?(u/On(10,o-i)%On(10,i)|0)*a:0),l)for(;;)if(f==0){(c[0]+=a)==je&&(c[0]=1,++t.e);break}else{if(c[f]+=a,c[f]!=je)break;c[f--]=0,a=1}for(r=c.length;c[--r]===0;)c.pop();if(Oe&&(t.e>Mo||t.e<-Mo))throw Error(th+Pe(t));return t}function ub(t,e){var n,r,i,a,o,s,l,u,f,c,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Oe?ve(e,g):e;if(l=t.d,c=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(f=o<0,f?(n=l,o=-o,s=c.length):(n=c,r=u,s=l.length),i=Math.max(Math.ceil(g/Se),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=c.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=c[i]){f=l[i]<c[i];break}o=0}for(f&&(n=l,l=c,c=n,e.s=-e.s),s=l.length,i=c.length-s;i>0;--i)l[s++]=0;for(i=c.length;i>o;){if(l[--i]<c[i]){for(a=i;a&&l[--a]===0;)l[a]=je-1;--l[a],l[i]+=je}l[i]-=c[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Oe?ve(e,g):e):new h(0)}function Un(t,e,n){var r,i=Pe(t),a=Nt(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+on(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+on(-i-1)+a,n&&(r=n-o)>0&&(a+=on(r))):i>=o?(a+=on(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+on(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=on(r))),t.s<0?"-"+a:a}function Av(t,e){if(t.length>e)return t.length=e,!0}function cb(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(jn+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Ev(o,a.toString())}else if(typeof a!="string")throw Error(jn+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,E3.test(a))Ev(o,a);else throw Error(jn+a)}if(i.prototype=H,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=cb,i.config=i.set=A3,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function A3(t){if(!t||typeof t!="object")throw Error(bt+"Object expected");var e,n,r,i=["precision",1,Yr,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Xr(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(jn+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(jn+n+": "+r);return this}var nh=cb(O3);ot=new nh(1);const pe=nh;function T3(t){return $3(t)||I3(t)||P3(t)||C3()}function C3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3(t,e){if(t){if(typeof t=="string")return zu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zu(t,e)}}function I3(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $3(t){if(Array.isArray(t))return zu(t)}function zu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var k3=function(e){return e},fb={"@@functional/placeholder":!0},hb=function(e){return e===fb},Tv=function(e){return function n(){return arguments.length===0||arguments.length===1&&hb(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},M3=function t(e,n){return e===1?n:Tv(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==fb}).length;return o>=e?n.apply(void 0,i):t(e-o,Tv(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(c){return hb(c)?l.shift():c});return n.apply(void 0,T3(f).concat(l))}))})},Us=function(e){return M3(e.length,e)},qu=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},N3=Us(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),R3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return k3;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Vu=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},db=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function D3(t){var e;return t===0?e=1:e=Math.floor(new pe(t).abs().log(10).toNumber())+1,e}function j3(t,e,n){for(var r=new pe(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var L3=Us(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),F3=Us(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),B3=Us(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Hs={rangeStep:j3,getDigitCount:D3,interpolateNumber:L3,uninterpolateNumber:F3,uninterpolateTruncation:B3};function Ku(t){return H3(t)||U3(t)||pb(t)||W3()}function W3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U3(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function H3(t){if(Array.isArray(t))return Yu(t)}function Wi(t,e){return q3(t)||z3(t,e)||pb(t,e)||G3()}function G3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pb(t,e){if(t){if(typeof t=="string")return Yu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yu(t,e)}}function Yu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z3(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function q3(t){if(Array.isArray(t))return t}function vb(t){var e=Wi(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function gb(t,e,n){if(t.lte(0))return new pe(0);var r=Hs.getDigitCount(t.toNumber()),i=new pe(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new pe(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new pe(Math.ceil(l))}function V3(t,e,n){var r=1,i=new pe(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new pe(10).pow(Hs.getDigitCount(t)-1),i=new pe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new pe(Math.floor(t)))}else t===0?i=new pe(Math.floor((e-1)/2)):n||(i=new pe(Math.floor(t)));var o=Math.floor((e-1)/2),s=R3(N3(function(l){return i.add(new pe(l-o).mul(r)).toNumber()}),qu);return s(0,e)}function yb(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new pe(0),tickMin:new pe(0),tickMax:new pe(0)};var a=gb(new pe(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new pe(0):(o=new pe(t).add(e).div(2),o=o.sub(new pe(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new pe(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?yb(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new pe(s).mul(a)),tickMax:o.add(new pe(l).mul(a))})}function K3(t){var e=Wi(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=vb([n,r]),l=Wi(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var c=f===1/0?[u].concat(Ku(qu(0,i-1).map(function(){return 1/0}))):[].concat(Ku(qu(0,i-1).map(function(){return-1/0})),[f]);return n>r?Vu(c):c}if(u===f)return V3(u,i,a);var h=yb(u,f,o,a),g=h.step,v=h.tickMin,d=h.tickMax,y=Hs.rangeStep(v,d.add(new pe(.1).mul(g)),g);return n>r?Vu(y):y}function Y3(t,e){var n=Wi(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=vb([r,i]),s=Wi(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),c=gb(new pe(u).sub(l).div(f-1),a,0),h=[].concat(Ku(Hs.rangeStep(new pe(l),new pe(u).sub(new pe(.99).mul(c)),c)),[u]);return r>i?Vu(h):h}var X3=db(K3),Q3=db(Y3),J3=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function No(){return No=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},No.apply(this,arguments)}function Z3(t,e){return rW(t)||nW(t,e)||tW(t,e)||eW()}function eW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tW(t,e){if(t){if(typeof t=="string")return Cv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cv(t,e)}}function Cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function rW(t){if(Array.isArray(t))return t}function iW(t,e){if(t==null)return{};var n=aW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function va(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,a=t.data,o=t.dataPointFormatter,s=t.xAxis,l=t.yAxis,u=iW(t,J3),f=se(u),c=a.map(function(h,g){var v=o(h,i),d=v.x,y=v.y,m=v.value,b=v.errorVal;if(!b)return null;var p=[],_,w;if(Array.isArray(b)){var x=Z3(b,2);_=x[0],w=x[1]}else _=w=b;if(n==="vertical"){var S=s.scale,O=y+e,A=O+r,$=O-r,E=S(m-_),C=S(m+w);p.push({x1:C,y1:A,x2:C,y2:$}),p.push({x1:E,y1:O,x2:C,y2:O}),p.push({x1:E,y1:A,x2:E,y2:$})}else if(n==="horizontal"){var P=l.scale,M=d+e,I=M-r,R=M+r,U=P(m-_),D=P(m+w);p.push({x1:I,y1:D,x2:R,y2:D}),p.push({x1:M,y1:U,x2:M,y2:D}),p.push({x1:I,y1:U,x2:R,y2:U})}return T.createElement(Be,No({className:"recharts-errorBar",key:"bar-".concat(g)},f),p.map(function(W,ae){return T.createElement("line",No({},W,{key:"line-".concat(ae)}))}))});return T.createElement(Be,{className:"recharts-errorBars"},c)}va.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};va.displayName="ErrorBar";function Ui(t){return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(t)}function Pv(t){return uW(t)||lW(t)||sW(t)||oW()}function oW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sW(t,e){if(t){if(typeof t=="string")return Xu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xu(t,e)}}function lW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uW(t){if(Array.isArray(t))return Xu(t)}function Xu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iv(Object(n),!0).forEach(function(r){sr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sr(t,e,n){return e=cW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cW(t){var e=fW(t,"string");return Ui(e)==="symbol"?e:String(e)}function fW(t,e){if(Ui(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ui(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lt(t,e,n){return z(t)||z(e)?n:ke(e)?st(t,e,n):K(e)?e(t):n}function Ro(t,e,n,r){var i=YL(t,function(s){return lt(s,e)});if(n==="number"){var a=i.filter(function(s){return F(s)||parseFloat(s)});return a.length?[Rs(a),Ns(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!z(s)}):i;return o.map(function(s){return ke(s)||s instanceof Date?s:""})}var hW=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,c=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(yt(c-f)!==yt(h-c)){var v=[];if(yt(h-c)===yt(l[1]-l[0])){g=h;var d=c+l[1]-l[0];v[0]=Math.min(d,(d+f)/2),v[1]=Math.max(d,(d+f)/2)}else{g=f;var y=h+l[1]-l[0];v[0]=Math.min(c,(y+c)/2),v[1]=Math.max(c,(y+c)/2)}var m=[Math.min(c,(g+c)/2),Math.max(c,(g+c)/2)];if(e>m[0]&&e<=m[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var b=Math.min(f,h),p=Math.max(f,h);if(e>(b+c)/2&&e<=(p+c)/2){o=i[u].index;break}}}else for(var _=0;_<s;_++)if(_===0&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<s-1&&e>(r[_].coordinate+r[_-1].coordinate)/2&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_===s-1&&e>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},rh=function(e){var n=e,r=n.type.displayName,i=e.props,a=i.stroke,o=i.fill,s;switch(r){case"Line":s=a;break;case"Area":case"Radar":s=a&&a!=="none"?a:o;break;default:s=o;break}return s},mb=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ht(n,yr);if(!o)return null;var s;return o.props&&o.props.payload?s=o.props&&o.props.payload:a==="children"?s=(r||[]).reduce(function(l,u){var f=u.item,c=u.props,h=c.sectors||c.data||[];return l.concat(h.map(function(g){return{type:o.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):s=(r||[]).map(function(l){var u=l.item,f=u.props,c=f.dataKey,h=f.name,g=f.legendType,v=f.hide;return{inactive:v,dataKey:c,type:o.props.iconType||g||"square",color:rh(u),value:h||c,payload:u.props}}),Xe(Xe(Xe({},o.props),yr.getWithHeight(o,i)),{},{payload:s,item:o})},dW=function(e){var n=e.barSize,r=e.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var a={},o=Object.keys(i),s=0,l=o.length;s<l;s++)for(var u=i[o[s]].stackGroups,f=Object.keys(u),c=0,h=f.length;c<h;c++){var g=u[f[c]],v=g.items,d=g.cateAxisId,y=v.filter(function(p){return cn(p.type).indexOf("Bar")>=0});if(y&&y.length){var m=y[0].props.barSize,b=y[0].props[d];a[b]||(a[b]=[]),a[b].push({item:y[0],stackList:y.slice(1),barSize:z(m)?n:m})}}return a},pW=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=hr(n,i,0,!0),f;if(o[0].barSize===+o[0].barSize){var c=!1,h=i/l,g=o.reduce(function(p,_){return p+_.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&h>0&&(c=!0,h*=.9,g=l*h);var v=(i-g)/2>>0,d={offset:v-u,size:0};f=o.reduce(function(p,_){var w=[].concat(Pv(p),[{item:_.item,position:{offset:d.offset+d.size+u,size:c?h:_.barSize}}]);return d=w[w.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(x){w.push({item:x,position:d})}),w},[])}else{var y=hr(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var m=(i-2*y-(l-1)*u)/l;m>1&&(m>>=0);var b=s===+s?Math.min(m,s):m;f=o.reduce(function(p,_,w){var x=[].concat(Pv(p),[{item:_.item,position:{offset:y+(m+u)*w+(m-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(S){x.push({item:S,position:x[x.length-1].position})}),x},[])}return f},vW=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=mb({children:a,legendWidth:l}),f=e;if(u){var c=i||{},h=u.align,g=u.verticalAlign,v=u.layout;(v==="vertical"||v==="horizontal"&&g==="middle")&&F(e[h])&&(f=Xe(Xe({},e),{},sr({},h,f[h]+(c.width||0)))),(v==="horizontal"||v==="vertical"&&h==="center")&&F(e[g])&&(f=Xe(Xe({},e),{},sr({},g,f[g]+(c.height||0))))}return f},gW=function(e,n,r){return z(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},_b=function(e,n,r,i,a){var o=n.props.children,s=_t(o,va).filter(function(u){return gW(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var c=lt(f,r,0),h=ce(c)?[Rs(c),Ns(c)]:[c,c],g=l.reduce(function(v,d){var y=lt(f,d,0),m=h[0]-Math.abs(ce(y)?y[0]:y),b=h[1]+Math.abs(ce(y)?y[1]:y);return[Math.min(m,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},yW=function(e,n,r,i,a){var o=n.map(function(s){return _b(e,s,r,a,i)}).filter(function(s){return!z(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},bb=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&_b(e,l,u,i)||Ro(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var f=0,c=u.length;f<c;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},xb=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},$v=function(e,n,r){var i,a,o=e.map(function(s){return s.coordinate===n&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate});return i||o.push(n),a||o.push(r),o},an=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;return u=e.axisType==="angleAxis"?yt(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(f){var c=a?a.indexOf(f):f;return{coordinate:i(c)+u,value:f,offset:u}}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,c){return{coordinate:i(f)+u,value:f,index:c,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,c){return{coordinate:i(f)+u,value:a?a[f]:f,index:c,offset:u}})},Ma=function(e,n,r){var i;return K(r)?i=r:K(n)&&(i=n),K(e)||i?function(a,o,s,l){K(e)&&e(a,o,s,l),K(i)&&i(a,o,s,l)}:null},mW=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Ri(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Po(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xi(),realScaleType:"point"}:a==="category"?{scale:Ri(),realScaleType:"band"}:{scale:Po(),realScaleType:"linear"};if(sa(i)){var l="scale".concat(Ts(i));return{scale:(Ov[l]||xi)(),realScaleType:Ov[l]?l:"point"}}return K(i)?{scale:i}:{scale:xi(),realScaleType:"point"}},kv=1e-4,_W=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-kv,o=Math.max(i[0],i[1])+kv,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},bW=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},xW=function(e,n){if(!n||n.length!==2||!F(n[0])||!F(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!F(e[0])||e[0]<r)&&(a[0]=r),(!F(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},wW=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Es(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},SW=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Es(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},OW={sign:wW,expand:yM,none:dr,silhouette:mM,wiggle:_M,positive:SW},EW=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=gM().keys(i).value(function(o,s){return+lt(o,s,0)}).order(hu).offset(OW[r]);return a(e)},AW=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l=s.reduce(function(u,f){var c=f.props,h=c.stackId,g=c.hide;if(g)return u;var v=f.props[r],d=u[v]||{hasStack:!1,stackGroups:{}};if(ke(h)){var y=d.stackGroups[h]||{numericAxisId:r,cateAxisId:i,items:[]};y.items.push(f),d.hasStack=!0,d.stackGroups[h]=y}else d.stackGroups[la("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Xe(Xe({},u),{},sr({},v,d))},{});return Object.keys(l).reduce(function(u,f){var c=l[f];return c.hasStack&&(c.stackGroups=Object.keys(c.stackGroups).reduce(function(h,g){var v=c.stackGroups[g];return Xe(Xe({},h),{},sr({},g,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:EW(e,v.items,a)}))},{})),Xe(Xe({},u),{},sr({},f,c))},{})},TW=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=X3(u,a,s);return e.domain([Rs(f),Ns(f)]),{niceTicks:f}}if(a&&i==="number"){var c=e.domain(),h=Q3(c,a,s);return{niceTicks:h}}return null},Mv=function(e){var n=e.axis,r=e.ticks,i=e.bandSize,a=e.entry,o=e.index,s=e.dataKey;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!z(a[n.dataKey])){var l=Ja(r,"value",a[n.dataKey]);if(l)return l.coordinate+i/2}return r[o]?r[o].coordinate+i/2:null}var u=lt(a,z(s)?n.dataKey:s);return z(u)?null:n.scale(u)},Nv=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=lt(o,n.dataKey,n.domain[s]);return z(l)?null:n.scale(l)-a/2+i},CW=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},PW=function(e,n){var r=e.props.stackId;if(ke(r)){var i=n[r];if(i&&i.items.length){for(var a=-1,o=0,s=i.items.length;o<s;o++)if(i.items[o]===e){a=o;break}return a>=0?i.stackedData[a]:null}}return null},IW=function(e){return e.reduce(function(n,r){return[Rs(r.concat([n[0]]).filter(F)),Ns(r.concat([n[1]]).filter(F))]},[1/0,-1/0])},wb=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,f){var c=IW(f.slice(n,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Rv=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dv=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sb=function(e,n,r){if(K(e))return e(n,r);if(!ce(e))return n;var i=[];if(F(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Rv.test(e[0])){var a=+Rv.exec(e[0])[1];i[0]=n[0]-a}else K(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(F(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Dv.test(e[1])){var o=+Dv.exec(e[1])[1];i[1]=n[1]+o}else K(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Do=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=Tf(n,function(c){return c.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},jv=function(e,n,r){return!e||!e.length||kf(e,st(r,"type.defaultProps.domain"))?n:e},Ob=function(e,n){var r=e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType;return Xe(Xe({},se(e)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:rh(e),value:lt(n,i),type:l,payload:n,chartType:u})};function Hi(t){return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hi(t)}function Lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lv(Object(n),!0).forEach(function(r){$W(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $W(t,e,n){return e=kW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kW(t){var e=MW(t,"string");return Hi(e)==="symbol"?e:String(e)}function MW(t,e){if(Hi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jo=Math.PI/180,NW=function(e){return e*180/Math.PI},qe=function(e,n,r,i){return{x:e+Math.cos(-jo*i)*r,y:n+Math.sin(-jo*i)*r}},RW=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},DW=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=RW({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:NW(u),angleInRadian:u}},jW=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},LW=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},Bv=function(e,n){var r=e.x,i=e.y,a=DW({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=jW(n),c=f.startAngle,h=f.endAngle,g=s,v;if(c<=h){for(;g>h;)g-=360;for(;g<c;)g+=360;v=g>=c&&g<=h}else{for(;g>c;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=c}return v?Fv(Fv({},n),{},{radius:o,angle:LW(g,n)}):null};function Gi(t){return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(t)}function FW(t){return HW(t)||UW(t)||WW(t)||BW()}function BW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WW(t,e){if(t){if(typeof t=="string")return Qu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qu(t,e)}}function UW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HW(t){if(Array.isArray(t))return Qu(t)}function Qu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wv(Object(n),!0).forEach(function(r){GW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GW(t,e,n){return e=zW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zW(t){var e=qW(t,"string");return Gi(e)==="symbol"?e:String(e)}function qW(t,e){if(Gi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zi(){return zi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zi.apply(this,arguments)}var VW=function(e){var n=e.value,r=e.formatter,i=z(e.children)?n:e.children;return K(r)?r(i):i},KW=function(e,n){var r=yt(n-e),i=Math.min(Math.abs(n-e),360);return r*i},YW=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,f=l.cy,c=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,d=l.clockWise,y=(c+h)/2,m=KW(g,v),b=m>=0?1:-1,p,_;i==="insideStart"?(p=g+b*o,_=d):i==="insideEnd"?(p=v-b*o,_=!d):i==="end"&&(p=v+b*o,_=d),_=m<=0?_:!_;var w=qe(u,f,y,p),x=qe(u,f,y,p+(_?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(x.x,",").concat(x.y),O=z(e.id)?la("recharts-radial-line-"):e.id;return T.createElement("text",zi({},r,{dominantBaseline:"central",className:ge("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:O,d:S})),T.createElement("textPath",{xlinkHref:"#".concat(O)},n))},XW=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,f=a.startAngle,c=a.endAngle,h=(f+c)/2;if(i==="outside"){var g=qe(o,s,u+r,h),v=g.x,d=g.y;return{x:v,y:d,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,m=qe(o,s,y,h),b=m.x,p=m.y;return{x:b,y:p,textAnchor:"middle",verticalAnchor:"middle"}},QW=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,f=o.height,c=f>=0?1:-1,h=c*i,g=c>0?"end":"start",v=c>0?"start":"end",d=u>=0?1:-1,y=d*i,m=d>0?"end":"start",b=d>0?"start":"end";if(a==="top"){var p={x:s+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:g};return Ne(Ne({},p),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var _={x:s+u/2,y:l+f+h,textAnchor:"middle",verticalAnchor:v};return Ne(Ne({},_),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(a==="left"){var w={x:s-y,y:l+f/2,textAnchor:m,verticalAnchor:"middle"};return Ne(Ne({},w),r?{width:Math.max(w.x-r.x,0),height:f}:{})}if(a==="right"){var x={x:s+u+y,y:l+f/2,textAnchor:b,verticalAnchor:"middle"};return Ne(Ne({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:f}:{})}var S=r?{width:u,height:f}:{};return a==="insideLeft"?Ne({x:s+y,y:l+f/2,textAnchor:b,verticalAnchor:"middle"},S):a==="insideRight"?Ne({x:s+u-y,y:l+f/2,textAnchor:m,verticalAnchor:"middle"},S):a==="insideTop"?Ne({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},S):a==="insideBottom"?Ne({x:s+u/2,y:l+f-h,textAnchor:"middle",verticalAnchor:g},S):a==="insideTopLeft"?Ne({x:s+y,y:l+h,textAnchor:b,verticalAnchor:v},S):a==="insideTopRight"?Ne({x:s+u-y,y:l+h,textAnchor:m,verticalAnchor:v},S):a==="insideBottomLeft"?Ne({x:s+y,y:l+f-h,textAnchor:b,verticalAnchor:g},S):a==="insideBottomRight"?Ne({x:s+u-y,y:l+f-h,textAnchor:m,verticalAnchor:g},S):ut(a)&&(F(a.x)||$n(a.x))&&(F(a.y)||$n(a.y))?Ne({x:s+hr(a.x,u),y:l+hr(a.y,f),textAnchor:"end",verticalAnchor:"end"},S):Ne({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},S)},JW=function(e){return F(e.cx)};function ze(t){var e=t.viewBox,n=t.position,r=t.value,i=t.children,a=t.content,o=t.className,s=o===void 0?"":o,l=t.textBreakAll;if(!e||z(r)&&z(i)&&!B.isValidElement(a)&&!K(a))return null;if(B.isValidElement(a))return B.cloneElement(a,t);var u;if(K(a)){if(u=B.createElement(a,t),B.isValidElement(u))return u}else u=VW(t);var f=JW(e),c=se(t,!0);if(f&&(n==="insideStart"||n==="insideEnd"||n==="end"))return YW(t,u,c);var h=f?XW(t):QW(t);return T.createElement(Ni,zi({className:ge("recharts-label",s)},c,h,{breakAll:l}),u)}ze.displayName="Label";ze.defaultProps={offset:5};var Eb=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,c=e.x,h=e.y,g=e.top,v=e.left,d=e.width,y=e.height,m=e.clockWise,b=e.labelViewBox;if(b)return b;if(F(d)&&F(y)){if(F(c)&&F(h))return{x:c,y:h,width:d,height:y};if(F(g)&&F(v))return{x:g,y:v,width:d,height:y}}return F(c)&&F(h)?{x:c,y:h,width:0,height:0}:F(n)&&F(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:m}:e.viewBox?e.viewBox:{}},ZW=function(e,n){return e?e===!0?T.createElement(ze,{key:"label-implicit",viewBox:n}):ke(e)?T.createElement(ze,{key:"label-implicit",viewBox:n,value:e}):B.isValidElement(e)?e.type===ze?B.cloneElement(e,{key:"label-implicit",viewBox:n}):T.createElement(ze,{key:"label-implicit",content:e,viewBox:n}):K(e)?T.createElement(ze,{key:"label-implicit",content:e,viewBox:n}):ut(e)?T.createElement(ze,zi({viewBox:n},e,{key:"label-implicit"})):null:null},eU=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=Eb(e),o=_t(i,ze).map(function(l,u){return B.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=ZW(e.label,n||a);return[s].concat(FW(o))};ze.parseViewBox=Eb;ze.renderCallByParent=eU;function tU(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var nU=tU;function qi(t){return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(t)}var rU=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function iU(t){return lU(t)||sU(t)||oU(t)||aU()}function aU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oU(t,e){if(t){if(typeof t=="string")return Ju(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ju(t,e)}}function sU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lU(t){if(Array.isArray(t))return Ju(t)}function Ju(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(this,arguments)}function Uv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uv(Object(n),!0).forEach(function(r){uU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uU(t,e,n){return e=cU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cU(t){var e=fU(t,"string");return qi(e)==="symbol"?e:String(e)}function fU(t,e){if(qi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hU(t,e){if(t==null)return{};var n=dU(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var pU={valueAccessor:function(e){return ce(e.value)?nU(e.value):e.value}};function Yt(t){var e=t.data,n=t.valueAccessor,r=t.dataKey,i=t.clockWise,a=t.id,o=t.textBreakAll,s=hU(t,rU);return!e||!e.length?null:T.createElement(Be,{className:"recharts-label-list"},e.map(function(l,u){var f=z(r)?n(l,u):lt(l&&l.payload,r),c=z(a)?{}:{id:"".concat(a,"-").concat(u)};return T.createElement(ze,Lo({},se(l,!0),s,c,{parentViewBox:l.parentViewBox,index:u,value:f,textBreakAll:o,viewBox:ze.parseViewBox(z(i)?l:Hv(Hv({},l),{},{clockWise:i})),key:"label-".concat(u)}))}))}Yt.displayName="LabelList";function vU(t,e){return t?t===!0?T.createElement(Yt,{key:"labelList-implicit",data:e}):T.isValidElement(t)||K(t)?T.createElement(Yt,{key:"labelList-implicit",data:e,content:t}):ut(t)?T.createElement(Yt,Lo({data:e},t,{key:"labelList-implicit"})):null:null}function gU(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=_t(r,Yt).map(function(o,s){return B.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=vU(t.label,e);return[a].concat(iU(i))}Yt.renderCallByParent=gU;Yt.defaultProps=pU;function Er(t){return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(t)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}function yU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ab(r.key),r)}}function mU(t,e,n){return e&&Gv(t.prototype,e),n&&Gv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _U(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ec(t,e)}function ec(t,e){return ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ec(t,e)}function bU(t){var e=SU();return function(){var r=Fo(t),i;if(e){var a=Fo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return xU(this,i)}}function xU(t,e){if(e&&(Er(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wU(t)}function wU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fo(t){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fo(t)}function OU(t,e,n){return e=Ab(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ab(t){var e=EU(t,"string");return Er(e)==="symbol"?e:String(e)}function EU(t,e){if(Er(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Er(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AU=function(e,n){var r=yt(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Na=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(s?1:-1)+i,c=Math.asin(l/f)/jo,h=u?a:a+o*c,g=qe(n,r,f,h),v=qe(n,r,i,h),d=u?a-o*c:a,y=qe(n,r,f*Math.cos(c*jo),d);return{center:g,circleTangency:v,lineTangency:y,theta:c}},Tb=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=AU(o,s),u=o+l,f=qe(n,r,a,o),c=qe(n,r,a,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var g=qe(n,r,i,o),v=qe(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},TU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,c=yt(f-u),h=Na({cx:n,cy:r,radius:a,angle:u,sign:c,cornerRadius:o,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,d=h.theta,y=Na({cx:n,cy:r,radius:a,angle:f,sign:-c,cornerRadius:o,cornerIsExternal:l}),m=y.circleTangency,b=y.lineTangency,p=y.theta,_=l?Math.abs(u-f):Math.abs(u-f)-d-p;if(_<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Tb({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var x=Na({cx:n,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=x.circleTangency,O=x.lineTangency,A=x.theta,$=Na({cx:n,cy:r,radius:i,angle:f,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=$.circleTangency,C=$.lineTangency,P=$.theta,M=l?Math.abs(u-f):Math.abs(u-f)-A-P;if(M<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(c>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(O.x,",").concat(O.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},Cb=function(t){_U(n,t);var e=bU(n);function n(){return yU(this,n),e.apply(this,arguments)}return mU(n,[{key:"render",value:function(){var i=this.props,a=i.cx,o=i.cy,s=i.innerRadius,l=i.outerRadius,u=i.cornerRadius,f=i.forceCornerRadius,c=i.cornerIsExternal,h=i.startAngle,g=i.endAngle,v=i.className;if(l<s||h===g)return null;var d=ge("recharts-sector",v),y=l-s,m=hr(u,y,0,!0),b;return m>0&&Math.abs(h-g)<360?b=TU({cx:a,cy:o,innerRadius:s,outerRadius:l,cornerRadius:Math.min(m,y/2),forceCornerRadius:f,cornerIsExternal:c,startAngle:h,endAngle:g}):b=Tb({cx:a,cy:o,innerRadius:s,outerRadius:l,startAngle:h,endAngle:g}),T.createElement("path",Zu({},se(this.props,!0),{className:d,d:b,role:"img"}))}}]),n}(B.PureComponent);OU(Cb,"defaultProps",{cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1});function Ar(t){return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(this,arguments)}function zv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zv(Object(n),!0).forEach(function(r){Pb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ib(r.key),r)}}function PU(t,e,n){return e&&Vv(t.prototype,e),n&&Vv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function IU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nc(t,e)}function nc(t,e){return nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nc(t,e)}function $U(t){var e=NU();return function(){var r=Bo(t),i;if(e){var a=Bo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return kU(this,i)}}function kU(t,e){if(e&&(Ar(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MU(t)}function MU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bo(t){return Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bo(t)}function Pb(t,e,n){return e=Ib(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ib(t){var e=RU(t,"string");return Ar(e)==="symbol"?e:String(e)}function RU(t,e){if(Ar(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ar(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kv={curveBasisClosed:aM,curveBasisOpen:oM,curveBasis:iM,curveLinearClosed:sM,curveLinear:Ps,curveMonotoneX:lM,curveMonotoneY:uM,curveNatural:cM,curveStep:fM,curveStepAfter:dM,curveStepBefore:hM},Ra=function(e){return e.x===+e.x&&e.y===+e.y},hi=function(e){return e.x},di=function(e){return e.y},DU=function(e,n){if(K(e))return e;var r="curve".concat(Ts(e));return r==="curveMonotone"&&n?Kv["".concat(r).concat(n==="vertical"?"Y":"X")]:Kv[r]||Ps},Wo=function(t){IU(n,t);var e=$U(n);function n(){return CU(this,n),e.apply(this,arguments)}return PU(n,[{key:"getPath",value:function(){var i=this.props,a=i.type,o=i.points,s=i.baseLine,l=i.layout,u=i.connectNulls,f=DU(a,l),c=u?o.filter(function(d){return Ra(d)}):o,h;if(ce(s)){var g=u?s.filter(function(d){return Ra(d)}):s,v=c.map(function(d,y){return qv(qv({},d),{},{base:g[y]})});return l==="vertical"?h=Aa().y(di).x1(hi).x0(function(d){return d.base.x}):h=Aa().x(hi).y1(di).y0(function(d){return d.base.y}),h.defined(Ra).curve(f),h(v)}return l==="vertical"&&F(s)?h=Aa().y(di).x1(hi).x0(s):F(s)?h=Aa().x(hi).y1(di).y0(s):h=jm().x(hi).y(di),h.defined(Ra).curve(f),h(c)}},{key:"render",value:function(){var i=this.props,a=i.className,o=i.points,s=i.path,l=i.pathRef;if((!o||!o.length)&&!s)return null;var u=o&&o.length?this.getPath():s;return T.createElement("path",tc({},se(this.props),Za(this.props),{className:ge("recharts-curve",a),d:u,ref:l}))}}]),n}(B.PureComponent);Pb(Wo,"defaultProps",{type:"linear",points:[],connectNulls:!1});function Tr(t){return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(t)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uo.apply(this,arguments)}function jU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mb(r.key),r)}}function LU(t,e,n){return e&&Yv(t.prototype,e),n&&Yv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rc(t,e)}function rc(t,e){return rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rc(t,e)}function BU(t){var e=UU();return function(){var r=Ho(t),i;if(e){var a=Ho(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return WU(this,i)}}function WU(t,e){if(e&&(Tr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $b(t)}function $b(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ho(t){return Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ho(t)}function kb(t,e,n){return e=Mb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mb(t){var e=HU(t,"string");return Tr(e)==="symbol"?e:String(e)}function HU(t,e){if(Tr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xv=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var c=[0,0,0,0],h=0,g=4;h<g;h++)c[h]=a[h]>o?o:a[h];f="M".concat(e,",").concat(n+s*c[0]),c[0]>0&&(f+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(n)),f+="L ".concat(e+r-l*c[1],",").concat(n),c[1]>0&&(f+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*c[1])),f+="L ".concat(e+r,",").concat(n+i-s*c[2]),c[2]>0&&(f+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(e+r-l*c[2],",").concat(n+i)),f+="L ".concat(e+l*c[3],",").concat(n+i),c[3]>0&&(f+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*c[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);f="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},GU=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),c=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=f&&i>=c&&i<=h}return!1},Gs=function(t){FU(n,t);var e=BU(n);function n(){var r;jU(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),kb($b(r),"state",{totalLength:-1}),r}return LU(n,[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var i=this.node.getTotalLength();i&&this.setState({totalLength:i})}catch{}}},{key:"render",value:function(){var i=this,a=this.props,o=a.x,s=a.y,l=a.width,u=a.height,f=a.radius,c=a.className,h=this.state.totalLength,g=this.props,v=g.animationEasing,d=g.animationDuration,y=g.animationBegin,m=g.isAnimationActive,b=g.isUpdateAnimationActive;if(o!==+o||s!==+s||l!==+l||u!==+u||l===0||u===0)return null;var p=ge("recharts-rectangle",c);return b?T.createElement(Wn,{canBegin:h>0,from:{width:l,height:u,x:o,y:s},to:{width:l,height:u,x:o,y:s},duration:d,animationEasing:v,isActive:b},function(_){var w=_.width,x=_.height,S=_.x,O=_.y;return T.createElement(Wn,{canBegin:h>0,from:"0px ".concat(h===-1?1:h,"px"),to:"".concat(h,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:d,isActive:m,easing:v},T.createElement("path",Uo({},se(i.props,!0),{className:p,d:Xv(S,O,w,x,f),ref:function($){i.node=$}})))}):T.createElement("path",Uo({},se(this.props,!0),{className:p,d:Xv(o,s,l,u,f)}))}}]),n}(B.PureComponent);kb(Gs,"defaultProps",{x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"});function Cr(t){return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(t)}function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ic.apply(this,arguments)}function zU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VU(r.key),r)}}function qU(t,e,n){return e&&Qv(t.prototype,e),n&&Qv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VU(t){var e=KU(t,"string");return Cr(e)==="symbol"?e:String(e)}function KU(t,e){if(Cr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ac(t,e)}function ac(t,e){return ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ac(t,e)}function XU(t){var e=ZU();return function(){var r=Go(t),i;if(e){var a=Go(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return QU(this,i)}}function QU(t,e){if(e&&(Cr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JU(t)}function JU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Go(t){return Go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Go(t)}var ih=function(t){YU(n,t);var e=XU(n);function n(){return zU(this,n),e.apply(this,arguments)}return qU(n,[{key:"render",value:function(){var i=this.props,a=i.cx,o=i.cy,s=i.r,l=i.className,u=ge("recharts-dot",l);return a===+a&&o===+o&&s===+s?T.createElement("circle",ic({},se(this.props),Za(this.props),{className:u,cx:a,cy:o,r:s})):null}}]),n}(B.PureComponent);function Pr(t){return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}function e5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nb(r.key),r)}}function t5(t,e,n){return e&&Jv(t.prototype,e),n&&Jv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sc(t,e)}function sc(t,e){return sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sc(t,e)}function r5(t){var e=o5();return function(){var r=zo(t),i;if(e){var a=zo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return i5(this,i)}}function i5(t,e){if(e&&(Pr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a5(t)}function a5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zo(t){return zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zo(t)}function s5(t,e,n){return e=Nb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nb(t){var e=l5(t,"string");return Pr(e)==="symbol"?e:String(e)}function l5(t,e){if(Pr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rb=function(t){n5(n,t);var e=r5(n);function n(){return e5(this,n),e.apply(this,arguments)}return t5(n,[{key:"render",value:function(){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.top,f=i.left,c=i.className;return!F(a)||!F(o)||!F(s)||!F(l)||!F(u)||!F(f)?null:T.createElement("path",oc({},se(this.props,!0),{className:ge("recharts-cross",c),d:n.getPath(a,o,s,l,u,f)}))}}],[{key:"getPath",value:function(i,a,o,s,l,u){return"M".concat(i,",").concat(l,"v").concat(s,"M").concat(u,",").concat(a,"h").concat(o)}}]),n}(B.PureComponent);s5(Rb,"defaultProps",{x:0,y:0,top:0,left:0,width:0,height:0});var u5=Math.ceil,c5=Math.max;function f5(t,e,n,r){for(var i=-1,a=c5(u5((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var h5=f5,d5=f_,Zv=1/0,p5=17976931348623157e292;function v5(t){if(!t)return t===0?t:0;if(t=d5(t),t===Zv||t===-Zv){var e=t<0?-1:1;return e*p5}return t===t?t:0}var Db=v5,g5=h5,y5=Ms,Nl=Db;function m5(t){return function(e,n,r){return r&&typeof r!="number"&&y5(e,n,r)&&(n=r=void 0),e=Nl(e),n===void 0?(n=e,e=0):n=Nl(n),r=r===void 0?e<n?1:-1:Nl(r),g5(e,n,r,t)}}var _5=m5,b5=_5,x5=b5(),qo=x5;function Vi(t){return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(t)}function eg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eg(Object(n),!0).forEach(function(r){jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jb(t,e,n){return e=w5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w5(t){var e=S5(t,"string");return Vi(e)==="symbol"?e:String(e)}function S5(t,e){if(Vi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O5=["Webkit","Moz","O","ms"],E5=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=O5.reduce(function(a,o){return tg(tg({},a),{},jb({},o+r,n))},{});return i[e]=n,i};function Ir(t){return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(t)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vo.apply(this,arguments)}function ng(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ng(Object(n),!0).forEach(function(r){vt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lb(r.key),r)}}function T5(t,e,n){return e&&rg(t.prototype,e),n&&rg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lc(t,e)}function lc(t,e){return lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lc(t,e)}function P5(t){var e=$5();return function(){var r=Ko(t),i;if(e){var a=Ko(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return I5(this,i)}}function I5(t,e){if(e&&(Ir(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kt(t)}function kt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ko(t){return Ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ko(t)}function vt(t,e,n){return e=Lb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lb(t){var e=k5(t,"string");return Ir(e)==="symbol"?e:String(e)}function k5(t,e){if(Ir(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ir(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M5=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=xi().domain(qo(0,l)).range([a,a+o-s]),f=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},ig=function(e){return e.changedTouches&&!!e.changedTouches.length},Ki=function(t){C5(n,t);var e=P5(n);function n(r){var i;return A5(this,n),i=e.call(this,r),vt(kt(i),"handleDrag",function(a){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(a):i.state.isSlideMoving&&i.handleSlideDrag(a)}),vt(kt(i),"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&i.handleDrag(a.changedTouches[0])}),vt(kt(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1}),i.detachDragEndListener()}),vt(kt(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),vt(kt(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),vt(kt(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),vt(kt(i),"handleSlideDragStart",function(a){var o=ig(a)?a.changedTouches[0]:a;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(kt(i),"startX"),endX:i.handleTravellerDragStart.bind(kt(i),"endX")},i.state={},i}return T5(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var a=i.startX,o=i.endX,s=this.state.scaleValues,l=this.props,u=l.gap,f=l.data,c=f.length-1,h=Math.min(a,o),g=Math.max(a,o),v=n.getIndexInRange(s,h),d=n.getIndexInRange(s,g);return{startIndex:v-v%u,endIndex:d===c?c:d-d%u}}},{key:"getTextOfTick",value:function(i){var a=this.props,o=a.data,s=a.tickFormatter,l=a.dataKey,u=lt(o[i],l,i);return K(s)?s(u,i):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var a=this.state,o=a.slideMoveStartX,s=a.startX,l=a.endX,u=this.props,f=u.x,c=u.width,h=u.travellerWidth,g=u.startIndex,v=u.endIndex,d=u.onChange,y=i.pageX-o;y>0?y=Math.min(y,f+c-h-l,f+c-h-s):y<0&&(y=Math.max(y,f-s,f-l));var m=this.getIndex({startX:s+y,endX:l+y});(m.startIndex!==g||m.endIndex!==v)&&d&&d(m),this.setState({startX:s+y,endX:l+y,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,a){var o=ig(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var a,o=this.state,s=o.brushMoveStartX,l=o.movingTravellerId,u=o.endX,f=o.startX,c=this.state[l],h=this.props,g=h.x,v=h.width,d=h.travellerWidth,y=h.onChange,m=h.gap,b=h.data,p={startX:this.state.startX,endX:this.state.endX},_=i.pageX-s;_>0?_=Math.min(_,g+v-d-c):_<0&&(_=Math.max(_,g-c)),p[l]=c+_;var w=this.getIndex(p),x=w.startIndex,S=w.endIndex,O=function(){var $=b.length-1;return l==="startX"&&(u>f?x%m===0:S%m===0)||u<f&&S===$||l==="endX"&&(u>f?S%m===0:x%m===0)||u>f&&S===$};this.setState((a={},vt(a,l,c+_),vt(a,"brushMoveStartX",i.pageX),a),function(){y&&O()&&y(w)})}},{key:"renderBackground",value:function(){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.fill,f=i.stroke;return T.createElement("rect",{stroke:f,fill:u,x:a,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.data,f=i.children,c=i.padding,h=B.Children.only(f);return h?T.cloneElement(h,{x:a,y:o,width:s,height:l,margin:c,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(i,a){var o=this.props,s=o.y,l=o.travellerWidth,u=o.height,f=o.traveller,c=Math.max(i,this.props.x),h=Rl(Rl({},se(this.props)),{},{x:c,y:s,width:l,height:u});return T.createElement(Be,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],style:{cursor:"col-resize"}},n.renderTraveller(f,h))}},{key:"renderSlide",value:function(i,a){var o=this.props,s=o.y,l=o.height,u=o.stroke,f=o.travellerWidth,c=Math.min(i,a)+f,h=Math.max(Math.abs(a-i)-f,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:c,y:s,width:h,height:l})}},{key:"renderText",value:function(){var i=this.props,a=i.startIndex,o=i.endIndex,s=i.y,l=i.height,u=i.travellerWidth,f=i.stroke,c=this.state,h=c.startX,g=c.endX,v=5,d={pointerEvents:"none",fill:f};return T.createElement(Be,{className:"recharts-brush-texts"},T.createElement(Ni,Vo({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-v,y:s+l/2},d),this.getTextOfTick(a)),T.createElement(Ni,Vo({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+u+v,y:s+l/2},d),this.getTextOfTick(o)))}},{key:"render",value:function(){var i=this.props,a=i.data,o=i.className,s=i.children,l=i.x,u=i.y,f=i.width,c=i.height,h=i.alwaysShowText,g=this.state,v=g.startX,d=g.endX,y=g.isTextActive,m=g.isSlideMoving,b=g.isTravellerMoving;if(!a||!a.length||!F(l)||!F(u)||!F(f)||!F(c)||f<=0||c<=0)return null;var p=ge("recharts-brush",o),_=T.Children.count(s)===1,w=E5("userSelect","none");return T.createElement(Be,{className:p,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(v,d),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(d,"endX"),(y||m||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var a=i.x,o=i.y,s=i.width,l=i.height,u=i.stroke,f=Math.floor(o+l/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:a,y:o,width:s,height:l,fill:u,stroke:"none"}),T.createElement("line",{x1:a+1,y1:f,x2:a+s-1,y2:f,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:a+1,y1:f+2,x2:a+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,a){var o;return T.isValidElement(i)?o=T.cloneElement(i,a):K(i)?o=i(a):o=n.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(i,a){var o=i.data,s=i.width,l=i.x,u=i.travellerWidth,f=i.updateId,c=i.startIndex,h=i.endIndex;if(o!==a.prevData||f!==a.prevUpdateId)return Rl({prevData:o,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:s},o&&o.length?M5({data:o,width:s,x:l,travellerWidth:u,startIndex:c,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||u!==a.prevTravellerWidth)){a.scale.range([l,l+s-u]);var g=a.scale.domain().map(function(v){return a.scale(v)});return{prevData:o,prevTravellerWidth:u,prevUpdateId:f,prevX:l,prevWidth:s,startX:a.scale(i.startIndex),endX:a.scale(i.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(i,a){for(var o=i.length,s=0,l=o-1;l-s>1;){var u=Math.floor((s+l)/2);i[u]>a?l=u:s=u}return a>=i[l]?l:s}}]),n}(B.PureComponent);vt(Ki,"displayName","Brush");vt(Ki,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var N5=Af;function R5(t,e){var n;return N5(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var D5=R5,j5=hm,L5=mn,F5=D5,B5=ce,W5=Ms;function U5(t,e,n){var r=B5(t)?j5:F5;return n&&W5(t,e,n)&&(e=void 0),r(t,L5(e))}var H5=U5,Dt=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n};function G5(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var z5=G5,q5=Af;function V5(t,e){var n=!0;return q5(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var K5=V5,Y5=z5,X5=K5,Q5=mn,J5=ce,Z5=Ms;function e4(t,e,n){var r=J5(t)?Y5:X5;return n&&Z5(t,e,n)&&(e=void 0),r(t,Q5(e))}var Fb=e4,ag=l_;function t4(t,e,n){e=="__proto__"&&ag?ag(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var n4=t4,r4=n4,i4=o_,a4=mn;function o4(t,e){var n={};return e=a4(e),i4(t,function(r,i,a){r4(n,i,e(r,i,a))}),n}var s4=o4,l4=["value","background"];function $r(t){return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(t)}function u4(t,e){if(t==null)return{};var n=c4(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(this,arguments)}function og(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?og(Object(n),!0).forEach(function(r){sn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):og(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bb(r.key),r)}}function h4(t,e,n){return e&&sg(t.prototype,e),n&&sg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cc(t,e)}function cc(t,e){return cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cc(t,e)}function p4(t){var e=g4();return function(){var r=Yo(t),i;if(e){var a=Yo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return v4(this,i)}}function v4(t,e){if(e&&($r(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vi(t)}function vi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yo(t){return Yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yo(t)}function sn(t,e,n){return e=Bb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bb(t){var e=y4(t,"string");return $r(e)==="symbol"?e:String(e)}function y4(t,e){if($r(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($r(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zs=function(t){d4(n,t);var e=p4(n);function n(){var r;f4(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),sn(vi(r),"state",{isAnimationFinished:!1}),sn(vi(r),"id",la("recharts-bar-")),sn(vi(r),"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),sn(vi(r),"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return h4(n,[{key:"renderRectanglesStatically",value:function(i){var a=this,o=this.props.shape,s=se(this.props);return i&&i.map(function(l,u){var f=Re(Re(Re({},s),l),{},{index:u});return T.createElement(Be,uc({className:"recharts-bar-rectangle"},eo(a.props,l,u),{key:"rectangle-".concat(u),role:"img"}),n.renderRectangle(o,f))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,a=this.props,o=a.data,s=a.layout,l=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,c=a.animationEasing,h=a.animationId,g=this.state.prevData;return T.createElement(Wn,{begin:u,duration:f,isActive:l,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var d=v.t,y=o.map(function(m,b){var p=g&&g[b];if(p){var _=Et(p.x,m.x),w=Et(p.y,m.y),x=Et(p.width,m.width),S=Et(p.height,m.height);return Re(Re({},m),{},{x:_(d),y:w(d),width:x(d),height:S(d)})}if(s==="horizontal"){var O=Et(0,m.height),A=O(d);return Re(Re({},m),{},{y:m.y+m.height-A,height:A})}var $=Et(0,m.width),E=$(d);return Re(Re({},m),{},{width:E})});return T.createElement(Be,null,i.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var i=this.props,a=i.data,o=i.isAnimationActive,s=this.state.prevData;return o&&a&&a.length&&(!s||!kf(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var i=this,a=this.props.data,o=se(this.props.background);return a.map(function(s,l){s.value;var u=s.background,f=u4(s,l4);if(!u)return null;var c=Re(Re(Re(Re(Re({},f),{},{fill:"#eee"},u),o),eo(i.props,s,l)),{},{index:l,key:"background-bar-".concat(l),className:"recharts-bar-background-rectangle"});return n.renderRectangle(i.props.background,c)})}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.data,o=i.xAxis,s=i.yAxis,l=i.layout,u=i.children,f=_t(u,va);if(!f)return null;var c=l==="vertical"?a[0].height/2:a[0].width/2;function h(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:lt(g,v)}}return f.map(function(g,v){return T.cloneElement(g,{key:"error-bar-".concat(v),data:a,xAxis:o,yAxis:s,layout:l,offset:c,dataPointFormatter:h})})}},{key:"render",value:function(){var i=this.props,a=i.hide,o=i.data,s=i.className,l=i.xAxis,u=i.yAxis,f=i.left,c=i.top,h=i.width,g=i.height,v=i.isAnimationActive,d=i.background,y=i.id;if(a||!o||!o.length)return null;var m=this.state.isAnimationFinished,b=ge("recharts-bar",s),p=l&&l.allowDataOverflow||u&&u.allowDataOverflow,_=z(y)?this.id:y;return T.createElement(Be,{className:b},p?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(_)},T.createElement("rect",{x:f,y:c,width:h,height:g}))):null,T.createElement(Be,{className:"recharts-bar-rectangles",clipPath:p?"url(#clipPath-".concat(_,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(),(!v||m)&&Yt.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:a.curData}:i.data!==a.curData?{curData:i.data}:null}},{key:"renderRectangle",value:function(i,a){var o;return T.isValidElement(i)?o=T.cloneElement(i,a):K(i)?o=i(a):o=T.createElement(Gs,a),o}}]),n}(B.PureComponent);sn(zs,"displayName","Bar");sn(zs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!Vt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});sn(zs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,c=t.displayedData,h=t.offset,g=bW(r,n);if(!g)return null;var v=e.layout,d=n.props,y=d.dataKey,m=d.children,b=d.minPointSize,p=v==="horizontal"?o:a,_=u?p.scale.domain():null,w=CW({numericAxis:p}),x=_t(m,y_),S=c.map(function(O,A){var $,E,C,P,M,I;if(u?$=xW(u[f+A],_):($=lt(O,y),ce($)||($=[w,$])),v==="horizontal"){if(E=Nv({axis:a,ticks:s,bandSize:i,offset:g.offset,entry:O,index:A}),C=o.scale($[1]),P=g.size,M=o.scale($[0])-o.scale($[1]),I={x:E,y:o.y,width:P,height:o.height},Math.abs(b)>0&&Math.abs(M)<Math.abs(b)){var R=yt(M||b)*(Math.abs(b)-Math.abs(M));C-=R,M+=R}}else if(E=a.scale($[0]),C=Nv({axis:o,ticks:l,bandSize:i,offset:g.offset,entry:O,index:A}),P=a.scale($[1])-a.scale($[0]),M=g.size,I={x:a.x,y:C,width:a.width,height:M},Math.abs(b)>0&&Math.abs(P)<Math.abs(b)){var U=yt(P||b)*(Math.abs(b)-Math.abs(P));P+=U}return Re(Re(Re({},O),{},{x:E,y:C,width:P,height:M,value:u?$:$[1],payload:O,background:I},x&&x[A]&&x[A].props),{},{tooltipPayload:[Ob(n,O)],tooltipPosition:{x:E+P/2,y:C+M/2}})});return Re({data:S,layout:v},h)});function Yi(t){return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(t)}function m4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wb(r.key),r)}}function _4(t,e,n){return e&&lg(t.prototype,e),n&&lg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ug(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ug(Object(n),!0).forEach(function(r){qs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ug(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qs(t,e,n){return e=Wb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wb(t){var e=b4(t,"string");return Yi(e)==="symbol"?e:String(e)}function b4(t,e){if(Yi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x4=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,f=Object.keys(n),c={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ht(u,zs);return f.reduce(function(g,v){var d=n[v],y=d.orientation,m=d.domain,b=d.padding,p=b===void 0?{}:b,_=d.mirror,w=d.reversed,x="".concat(y).concat(_?"Mirror":""),S,O,A,$,E;if(d.type==="number"&&(d.padding==="gap"||d.padding==="no-gap")){var C=m[1]-m[0],P=1/0,M=d.categoricalDomain.sort();M.forEach(function(be,He){He>0&&(P=Math.min((be||0)-(M[He-1]||0),P))});var I=P/C,R=d.layout==="vertical"?r.height:r.width;if(d.padding==="gap"&&(S=I*R/2),d.padding==="no-gap"){var U=hr(e.barCategoryGap,I*R),D=I*R/2;S=D-U-(D-U)/R*U}}i==="xAxis"?O=[r.left+(p.left||0)+(S||0),r.left+r.width-(p.right||0)-(S||0)]:i==="yAxis"?O=l==="horizontal"?[r.top+r.height-(p.bottom||0),r.top+(p.top||0)]:[r.top+(p.top||0)+(S||0),r.top+r.height-(p.bottom||0)-(S||0)]:O=d.range,w&&(O=[O[1],O[0]]);var W=mW(d,a,h),ae=W.scale,Q=W.realScaleType;ae.domain(m).range(O),_W(ae);var ne=TW(ae,Ot(Ot({},d),{},{realScaleType:Q}));i==="xAxis"?(E=y==="top"&&!_||y==="bottom"&&_,A=r.left,$=c[x]-E*d.height):i==="yAxis"&&(E=y==="left"&&!_||y==="right"&&_,A=c[x]-E*d.width,$=r.top);var Te=Ot(Ot(Ot({},d),ne),{},{realScaleType:Q,x:A,y:$,scale:ae,width:i==="xAxis"?r.width:d.width,height:i==="yAxis"?r.height:d.height});return Te.bandSize=Do(Te,ne),!d.hide&&i==="xAxis"?c[x]+=(E?-1:1)*Te.height:d.hide||(c[x]+=(E?-1:1)*Te.width),Ot(Ot({},g),{},qs({},v,Te))},{})},Ub=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},w4=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Ub({x:n,y:r},{x:i,y:a})},Hb=function(){function t(e){m4(this,t),this.scale=e}return _4(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t}();qs(Hb,"EPS",1e-4);var ah=function(e){var n=Object.keys(e).reduce(function(r,i){return Ot(Ot({},r),{},qs({},i,Hb.create(e[i])))},{});return Ot(Ot({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return s4(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return Fb(i,function(a,o){return n[o].isInRange(a)})}})};function Xi(t){return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(t)}function cg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cg(Object(n),!0).forEach(function(r){S4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S4(t,e,n){return e=O4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O4(t){var e=E4(t,"string");return Xi(e)==="symbol"?e:String(e)}function E4(t,e){if(Xi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A4(t,e){return I4(t)||P4(t,e)||C4(t,e)||T4()}function T4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C4(t,e){if(t){if(typeof t=="string")return hg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hg(t,e)}}function hg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P4(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function I4(t){if(Array.isArray(t))return t}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}var $4=function(e,n){var r;return T.isValidElement(e)?r=T.cloneElement(e,n):K(e)?r=e(n):r=T.createElement("line",fc({},n,{className:"recharts-reference-line-line"})),r},k4=function(e,n,r,i,a){var o=a.viewBox,s=o.x,l=o.y,u=o.width,f=o.height,c=a.position;if(r){var h=a.y,g=a.yAxis.orientation,v=e.y.apply(h,{position:c});if(Dt(a,"discard")&&!e.y.isInRange(v))return null;var d=[{x:s+u,y:v},{x:s,y:v}];return g==="left"?d.reverse():d}if(n){var y=a.x,m=a.xAxis.orientation,b=e.x.apply(y,{position:c});if(Dt(a,"discard")&&!e.x.isInRange(b))return null;var p=[{x:b,y:l+f},{x:b,y:l}];return m==="top"?p.reverse():p}if(i){var _=a.segment,w=_.map(function(x){return e.apply(x,{position:c})});return Dt(a,"discard")&&H5(w,function(x){return!e.isInRange(x)})?null:w}return null};function oh(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxis,a=t.yAxis,o=t.shape,s=t.className,l=t.alwaysShow,u=t.clipPathId;ar(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ah({x:i.scale,y:a.scale}),c=ke(e),h=ke(n),g=r&&r.length===2,v=k4(f,c,h,g,t);if(!v)return null;var d=A4(v,2),y=d[0],m=y.x,b=y.y,p=d[1],_=p.x,w=p.y,x=Dt(t,"hidden")?"url(#".concat(u,")"):void 0,S=fg(fg({clipPath:x},se(t,!0)),{},{x1:m,y1:b,x2:_,y2:w});return T.createElement(Be,{className:ge("recharts-reference-line",s)},$4(o,S),ze.renderCallByParent(t,w4({x1:m,y1:b,x2:_,y2:w})))}oh.displayName="ReferenceLine";oh.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Qi(t){return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qi(t)}function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hc.apply(this,arguments)}function dg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dg(Object(n),!0).forEach(function(r){M4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M4(t,e,n){return e=N4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N4(t){var e=R4(t,"string");return Qi(e)==="symbol"?e:String(e)}function R4(t,e){if(Qi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D4=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=ah({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Dt(e,"discard")&&!o.isInRange(s)?null:s};function ga(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,a=t.clipPathId,o=ke(e),s=ke(n);if(ar(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!s)return null;var l=D4(t);if(!l)return null;var u=l.x,f=l.y,c=t.shape,h=t.className,g=Dt(t,"hidden")?"url(#".concat(a,")"):void 0,v=pg(pg({clipPath:g},se(t,!0)),{},{cx:u,cy:f});return T.createElement(Be,{className:ge("recharts-reference-dot",h)},ga.renderDot(c,v),ze.renderCallByParent(t,{x:u-r,y:f-r,width:2*r,height:2*r}))}ga.displayName="ReferenceDot";ga.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};ga.renderDot=function(t,e){var n;return T.isValidElement(t)?n=T.cloneElement(t,e):K(t)?n=t(e):n=T.createElement(ih,hc({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function Ji(t){return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ji(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(this,arguments)}function vg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vg(Object(n),!0).forEach(function(r){j4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j4(t,e,n){return e=L4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4(t){var e=F4(t,"string");return Ji(e)==="symbol"?e:String(e)}function F4(t,e){if(Ji(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ji(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B4=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,f=a.xAxis,c=a.yAxis;if(!f||!c)return null;var h=ah({x:f.scale,y:c.scale}),g={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Dt(a,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:Ub(g,v)};function ya(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,a=t.className,o=t.alwaysShow,s=t.clipPathId;ar(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=ke(e),u=ke(n),f=ke(r),c=ke(i),h=t.shape;if(!l&&!u&&!f&&!c&&!h)return null;var g=B4(l,u,f,c,t);if(!g&&!h)return null;var v=Dt(t,"hidden")?"url(#".concat(s,")"):void 0;return T.createElement(Be,{className:ge("recharts-reference-area",a)},ya.renderRect(h,gg(gg({clipPath:v},se(t,!0)),g)),ze.renderCallByParent(t,g))}ya.displayName="ReferenceArea";ya.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};ya.renderRect=function(t,e){var n;return T.isValidElement(t)?n=T.cloneElement(t,e):K(t)?n=t(e):n=T.createElement(Gs,dc({},e,{className:"recharts-reference-area-rect"})),n};var W4=["viewBox"],U4=["viewBox"],H4=["ticks"];function kr(t){return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(t)}function Zn(){return Zn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zn.apply(this,arguments)}function yg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yg(Object(n),!0).forEach(function(r){sh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dl(t,e){if(t==null)return{};var n=G4(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function z4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gb(r.key),r)}}function q4(t,e,n){return e&&mg(t.prototype,e),n&&mg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pc(t,e)}function pc(t,e){return pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pc(t,e)}function K4(t){var e=Q4();return function(){var r=Xo(t),i;if(e){var a=Xo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Y4(this,i)}}function Y4(t,e){if(e&&(kr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X4(t)}function X4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xo(t){return Xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xo(t)}function sh(t,e,n){return e=Gb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gb(t){var e=J4(t,"string");return kr(e)==="symbol"?e:String(e)}function J4(t,e){if(kr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tn=function(t){V4(n,t);var e=K4(n);function n(r){var i;return z4(this,n),i=e.call(this,r),i.state={fontSize:"",letterSpacing:""},i}return q4(n,[{key:"shouldComponentUpdate",value:function(i,a){var o=i.viewBox,s=Dl(i,W4),l=this.props,u=l.viewBox,f=Dl(l,U4);return!ir(o,u)||!ir(s,f)||!ir(a,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var a=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var a=this.props,o=a.x,s=a.y,l=a.width,u=a.height,f=a.orientation,c=a.tickSize,h=a.mirror,g=a.tickMargin,v,d,y,m,b,p,_=h?-1:1,w=i.tickSize||c,x=F(i.tickCoord)?i.tickCoord:i.coordinate;switch(f){case"top":v=d=i.coordinate,m=s+ +!h*u,y=m-_*w,p=y-_*g,b=x;break;case"left":y=m=i.coordinate,d=o+ +!h*l,v=d-_*w,b=v-_*g,p=x;break;case"right":y=m=i.coordinate,d=o+ +h*l,v=d+_*w,b=v+_*g,p=x;break;default:v=d=i.coordinate,m=s+ +h*u,y=m+_*w,p=y+_*g,b=x;break}return{line:{x1:v,y1:y,x2:d,y2:m},tick:{x:b,y:p}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,a=i.orientation,o=i.mirror,s;switch(a){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,a=i.orientation,o=i.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,f=i.mirror,c=i.axisLine,h=ue(ue(ue({},se(this.props)),se(c)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!f||u==="bottom"&&f);h=ue(ue({},h),{},{x1:a,y1:o+g*l,x2:a+s,y2:o+g*l})}else{var v=+(u==="left"&&!f||u==="right"&&f);h=ue(ue({},h),{},{x1:a+v*s,y1:o,x2:a+v*s,y2:o+l})}return T.createElement("line",Zn({},h,{className:ge("recharts-cartesian-axis-line",st(c,"className"))}))}},{key:"renderTicks",value:function(i,a,o){var s=this,l=this.props,u=l.tickLine,f=l.stroke,c=l.tick,h=l.tickFormatter,g=l.unit,v=n.getTicks(ue(ue({},this.props),{},{ticks:i}),a,o),d=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),m=se(this.props),b=se(c),p=ue(ue({},m),{},{fill:"none"},se(u)),_=v.map(function(w,x){var S=s.getTickLineCoord(w),O=S.line,A=S.tick,$=ue(ue(ue(ue({textAnchor:d,verticalAnchor:y},m),{},{stroke:"none",fill:f},b),A),{},{index:x,payload:w,visibleTicksCount:v.length,tickFormatter:h});return T.createElement(Be,Zn({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x)},eo(s.props,w,x)),u&&T.createElement("line",Zn({},p,O,{className:ge("recharts-cartesian-axis-tick-line",st(u,"className"))})),c&&n.renderTickItem(c,$,"".concat(K(h)?h(w.value,x):w.value).concat(g||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var i=this,a=this.props,o=a.axisLine,s=a.width,l=a.height,u=a.ticksGenerator,f=a.className,c=a.hide;if(c)return null;var h=this.props,g=h.ticks,v=Dl(h,H4),d=g;return K(u)&&(d=g&&g.length>0?u(this.props):u(v)),s<=0||l<=0||!d||!d.length?null:T.createElement(Be,{className:ge("recharts-cartesian-axis",f),ref:function(m){i.layerReference=m}},o&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),ze.renderCallByParent(this.props))}}],[{key:"getTicks",value:function(i,a,o){var s=i.tick,l=i.ticks,u=i.viewBox,f=i.minTickGap,c=i.orientation,h=i.interval,g=i.tickFormatter,v=i.unit;return!l||!l.length||!s?[]:F(h)||Vt.isSsr?n.getNumberIntervalTicks(l,typeof h=="number"&&F(h)?h:0):h==="preserveStartEnd"?n.getTicksStart({ticks:l,tickFormatter:g,viewBox:u,orientation:c,minTickGap:f,unit:v,fontSize:a,letterSpacing:o},!0):h==="preserveStart"?n.getTicksStart({ticks:l,tickFormatter:g,viewBox:u,orientation:c,minTickGap:f,unit:v,fontSize:a,letterSpacing:o}):n.getTicksEnd({ticks:l,tickFormatter:g,viewBox:u,orientation:c,minTickGap:f,unit:v,fontSize:a,letterSpacing:o})}},{key:"getNumberIntervalTicks",value:function(i,a){return i.filter(function(o,s){return s%(a+1)===0})}},{key:"getTicksStart",value:function(i,a){var o=i.ticks,s=i.tickFormatter,l=i.viewBox,u=i.orientation,f=i.minTickGap,c=i.unit,h=i.fontSize,g=i.letterSpacing,v=l.x,d=l.y,y=l.width,m=l.height,b=u==="top"||u==="bottom"?"width":"height",p=(o||[]).slice(),_=c&&b==="width"?An(c,{fontSize:h,letterSpacing:g})[b]:0,w=p.length,x=w>=2?yt(p[1].coordinate-p[0].coordinate):1,S,O;if(x===1?(S=b==="width"?v:d,O=b==="width"?v+y:d+m):(S=b==="width"?v+y:d+m,O=b==="width"?v:d),a){var A=o[w-1],$=K(s)?s(A.value,w-1):A.value,E=An($,{fontSize:h,letterSpacing:g})[b]+_,C=x*(A.coordinate+x*E/2-O);p[w-1]=A=ue(ue({},A),{},{tickCoord:C>0?A.coordinate-C*x:A.coordinate});var P=x*(A.tickCoord-x*E/2-S)>=0&&x*(A.tickCoord+x*E/2-O)<=0;P&&(O=A.tickCoord-x*(E/2+f),p[w-1]=ue(ue({},A),{},{isShow:!0}))}for(var M=a?w-1:w,I=0;I<M;I++){var R=p[I],U=K(s)?s(R.value,I):R.value,D=An(U,{fontSize:h,letterSpacing:g})[b]+_;if(I===0){var W=x*(R.coordinate-x*D/2-S);p[I]=R=ue(ue({},R),{},{tickCoord:W<0?R.coordinate-W*x:R.coordinate})}else p[I]=R=ue(ue({},R),{},{tickCoord:R.coordinate});var ae=x*(R.tickCoord-x*D/2-S)>=0&&x*(R.tickCoord+x*D/2-O)<=0;ae&&(S=R.tickCoord+x*(D/2+f),p[I]=ue(ue({},R),{},{isShow:!0}))}return p.filter(function(Q){return Q.isShow})}},{key:"getTicksEnd",value:function(i){var a=i.ticks,o=i.tickFormatter,s=i.viewBox,l=i.orientation,u=i.minTickGap,f=i.unit,c=i.fontSize,h=i.letterSpacing,g=s.x,v=s.y,d=s.width,y=s.height,m=l==="top"||l==="bottom"?"width":"height",b=f&&m==="width"?An(f,{fontSize:c,letterSpacing:h})[m]:0,p=(a||[]).slice(),_=p.length,w=_>=2?yt(p[1].coordinate-p[0].coordinate):1,x,S;w===1?(x=m==="width"?g:v,S=m==="width"?g+d:v+y):(x=m==="width"?g+d:v+y,S=m==="width"?g:v);for(var O=_-1;O>=0;O--){var A=p[O],$=K(o)?o(A.value,_-O-1):A.value,E=An($,{fontSize:c,letterSpacing:h})[m]+b;if(O===_-1){var C=w*(A.coordinate+w*E/2-S);p[O]=A=ue(ue({},A),{},{tickCoord:C>0?A.coordinate-C*w:A.coordinate})}else p[O]=A=ue(ue({},A),{},{tickCoord:A.coordinate});var P=w*(A.tickCoord-w*E/2-x)>=0&&w*(A.tickCoord+w*E/2-S)<=0;P&&(S=A.tickCoord-w*(E/2+u),p[O]=ue(ue({},A),{},{isShow:!0}))}return p.filter(function(M){return M.isShow})}},{key:"renderTickItem",value:function(i,a,o){var s;return T.isValidElement(i)?s=T.cloneElement(i,a):K(i)?s=i(a):s=T.createElement(Ni,Zn({},a,{className:"recharts-cartesian-axis-tick-value"}),o),s}}]),n}(B.Component);sh(Tn,"displayName","CartesianAxis");sh(Tn,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Z4=["x1","y1","x2","y2","key"];function Mr(t){return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}function eH(t,e){if(t==null)return{};var n=tH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_g(Object(n),!0).forEach(function(r){lh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_g(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zb(r.key),r)}}function rH(t,e,n){return e&&bg(t.prototype,e),n&&bg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gc(t,e)}function gc(t,e){return gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gc(t,e)}function aH(t){var e=lH();return function(){var r=Qo(t),i;if(e){var a=Qo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return oH(this,i)}}function oH(t,e){if(e&&(Mr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sH(t)}function sH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qo(t){return Qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qo(t)}function lh(t,e,n){return e=zb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zb(t){var e=uH(t,"string");return Mr(e)==="symbol"?e:String(e)}function uH(t,e){if(Mr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uh=function(t){iH(n,t);var e=aH(n);function n(){return nH(this,n),e.apply(this,arguments)}return rH(n,[{key:"renderHorizontal",value:function(i){var a=this,o=this.props,s=o.x,l=o.width,u=o.horizontal;if(!i||!i.length)return null;var f=i.map(function(c,h){var g=Da(Da({},a.props),{},{x1:s,y1:c,x2:s+l,y2:c,key:"line-".concat(h),index:h});return n.renderLineItem(u,g)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}},{key:"renderVertical",value:function(i){var a=this,o=this.props,s=o.y,l=o.height,u=o.vertical;if(!i||!i.length)return null;var f=i.map(function(c,h){var g=Da(Da({},a.props),{},{x1:c,y1:s,x2:c,y2:s+l,key:"line-".concat(h),index:h});return n.renderLineItem(u,g)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}},{key:"renderVerticalStripes",value:function(i){var a=this.props.verticalFill;if(!a||!a.length)return null;var o=this.props,s=o.fillOpacity,l=o.x,u=o.y,f=o.width,c=o.height,h=i.map(function(v){return Math.round(v+l-l)}).sort(function(v,d){return v-d});l!==h[0]&&h.unshift(0);var g=h.map(function(v,d){var y=!h[d+1],m=y?l+f-v:h[d+1]-v;if(m<=0)return null;var b=d%a.length;return T.createElement("rect",{key:"react-".concat(d),x:v,y:u,width:m,height:c,stroke:"none",fill:a[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}},{key:"renderHorizontalStripes",value:function(i){var a=this.props.horizontalFill;if(!a||!a.length)return null;var o=this.props,s=o.fillOpacity,l=o.x,u=o.y,f=o.width,c=o.height,h=i.map(function(v){return Math.round(v+u-u)}).sort(function(v,d){return v-d});u!==h[0]&&h.unshift(0);var g=h.map(function(v,d){var y=!h[d+1],m=y?u+c-v:h[d+1]-v;if(m<=0)return null;var b=d%a.length;return T.createElement("rect",{key:"react-".concat(d),y:v,x:l,height:m,width:f,stroke:"none",fill:a[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var a=this.props,o=a.fillOpacity,s=a.x,l=a.y,u=a.width,f=a.height;return T.createElement("rect",{x:s,y:l,width:u,height:f,stroke:"none",fill:i,fillOpacity:o,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.horizontal,f=i.vertical,c=i.horizontalCoordinatesGenerator,h=i.verticalCoordinatesGenerator,g=i.xAxis,v=i.yAxis,d=i.offset,y=i.chartWidth,m=i.chartHeight;if(!F(s)||s<=0||!F(l)||l<=0||!F(a)||a!==+a||!F(o)||o!==+o)return null;var b=this.props,p=b.horizontalPoints,_=b.verticalPoints;return(!p||!p.length)&&K(c)&&(p=c({yAxis:v,width:y,height:m,offset:d})),(!_||!_.length)&&K(h)&&(_=h({xAxis:g,width:y,height:m,offset:d})),T.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),u&&this.renderHorizontal(p),f&&this.renderVertical(_),u&&this.renderHorizontalStripes(p),f&&this.renderVerticalStripes(_))}}],[{key:"renderLineItem",value:function(i,a){var o;if(T.isValidElement(i))o=T.cloneElement(i,a);else if(K(i))o=i(a);else{var s=a.x1,l=a.y1,u=a.x2,f=a.y2,c=a.key,h=eH(a,Z4);o=T.createElement("line",vc({},se(h),{x1:s,y1:l,x2:u,y2:f,fill:"none",key:c}))}return o}}]),n}(B.PureComponent);lh(uh,"displayName","CartesianGrid");lh(uh,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var cH=["type","layout","connectNulls","ref"];function Nr(t){return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(t)}function fH(t,e){if(t==null)return{};var n=hH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wi(){return wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wi.apply(this,arguments)}function xg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xg(Object(n),!0).forEach(function(r){Mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qn(t){return gH(t)||vH(t)||pH(t)||dH()}function dH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pH(t,e){if(t){if(typeof t=="string")return yc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yc(t,e)}}function vH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gH(t){if(Array.isArray(t))return yc(t)}function yc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qb(r.key),r)}}function mH(t,e,n){return e&&wg(t.prototype,e),n&&wg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _H(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mc(t,e)}function mc(t,e){return mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mc(t,e)}function bH(t){var e=wH();return function(){var r=Jo(t),i;if(e){var a=Jo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return xH(this,i)}}function xH(t,e){if(e&&(Nr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return En(t)}function En(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jo(t){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jo(t)}function Mt(t,e,n){return e=qb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qb(t){var e=SH(t,"string");return Nr(e)==="symbol"?e:String(e)}function SH(t,e){if(Nr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ma=function(t){_H(n,t);var e=bH(n);function n(){var r;yH(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),Mt(En(r),"state",{isAnimationFinished:!0,totalLength:0}),Mt(En(r),"getStrokeDasharray",function(s,l,u){for(var f=u.reduce(function(b,p){return b+p}),c=Math.floor(s/f),h=s%f,g=l-s,v=[],d=0,y=0;;y+=u[d],++d)if(y+u[d]>h){v=[].concat(Qn(u.slice(0,d)),[h-y]);break}var m=v.length%2===0?[0,g]:[g];return[].concat(Qn(n.repeat(u,c)),Qn(v),m).map(function(b){return"".concat(b,"px")}).join(", ")}),Mt(En(r),"id",la("recharts-line-")),Mt(En(r),"pathRef",function(s){r.mainCurve=s}),Mt(En(r),"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Mt(En(r),"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return mH(n,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,l=i.layout,u=i.children,f=_t(u,va);if(!f)return null;function c(h,g){return{x:h.x,y:h.y,value:h.value,errorVal:lt(h.payload,g)}}return f.map(function(h,g){return T.cloneElement(h,{key:"bar-".concat(g),data:a,xAxis:o,yAxis:s,layout:l,dataPointFormatter:c})})}},{key:"renderDots",value:function(i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,f=s.dataKey,c=se(this.props),h=se(l,!0),g=u.map(function(d,y){var m=it(it(it({key:"dot-".concat(y),r:3},c),h),{},{value:d.value,dataKey:f,cx:d.x,cy:d.y,index:y,payload:d.payload});return n.renderDotItem(l,m)}),v={clipPath:i?"url(#clipPath-".concat(a,")"):null};return T.createElement(Be,wi({className:"recharts-line-dots",key:"dots"},v,{role:"img"}),g)}},{key:"renderCurveStatically",value:function(i,a,o,s){var l=this.props,u=l.type,f=l.layout,c=l.connectNulls;l.ref;var h=fH(l,cH),g=it(it(it({},se(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:i},s),{},{type:u,layout:f,connectNulls:c});return T.createElement(Wo,wi({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,a){var o=this,s=this.props,l=s.points,u=s.strokeDasharray,f=s.isAnimationActive,c=s.animationBegin,h=s.animationDuration,g=s.animationEasing,v=s.animationId,d=s.animateNewValues,y=s.width,m=s.height,b=this.state,p=b.prevPoints,_=b.totalLength;return T.createElement(Wn,{begin:c,duration:h,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var x=w.t;if(p){var S=p.length/l.length,O=l.map(function(P,M){var I=Math.floor(M*S);if(p[I]){var R=p[I],U=Et(R.x,P.x),D=Et(R.y,P.y);return it(it({},P),{},{x:U(x),y:D(x)})}if(d){var W=Et(y*2,P.x),ae=Et(m/2,P.y);return it(it({},P),{},{x:W(x),y:ae(x)})}return it(it({},P),{},{x:P.x,y:P.y})});return o.renderCurveStatically(O,i,a)}var A=Et(0,_),$=A(x),E;if(u){var C="".concat(u).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});E=o.getStrokeDasharray($,_,C)}else E="".concat($,"px ").concat(_-$,"px");return o.renderCurveStatically(l,i,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(i,a){var o=this.props,s=o.points,l=o.isAnimationActive,u=this.state,f=u.prevPoints,c=u.totalLength;return l&&s&&s.length&&(!f&&c>0||!kf(f,s))?this.renderCurveWithAnimation(i,a):this.renderCurveStatically(s,i,a)}},{key:"render",value:function(){var i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,f=i.yAxis,c=i.top,h=i.left,g=i.width,v=i.height,d=i.isAnimationActive,y=i.id;if(a||!s||!s.length)return null;var m=this.state.isAnimationFinished,b=s.length===1,p=ge("recharts-line",l),_=u&&u.allowDataOverflow||f&&f.allowDataOverflow,w=z(y)?this.id:y;return T.createElement(Be,{className:p},_?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(w)},T.createElement("rect",{x:h,y:c,width:g,height:v}))):null,!b&&this.renderCurve(_,w),this.renderErrorBar(),(b||o)&&this.renderDots(_,w),(!d||m)&&Yt.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,a){return i.animationId!==a.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:a.curPoints}:i.points!==a.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,a){for(var o=i.length%2!==0?[].concat(Qn(i),[0]):i,s=[],l=0;l<a;++l)s=[].concat(Qn(s),Qn(o));return s}},{key:"renderDotItem",value:function(i,a){var o;if(T.isValidElement(i))o=T.cloneElement(i,a);else if(K(i))o=i(a);else{var s=ge("recharts-line-dot",i?i.className:"");o=T.createElement(ih,wi({},a,{className:s}))}return o}}]),n}(B.PureComponent);Mt(ma,"displayName","Line");Mt(ma,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Mt(ma,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,f=e.layout,c=l.map(function(h,g){var v=lt(h,o);return f==="horizontal"?{x:Mv({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:z(v)?null:r.scale(v),value:v,payload:h}:{x:z(v)?null:n.scale(v),y:Mv({axis:r,ticks:a,bandSize:s,entry:h,index:g}),value:v,payload:h}});return it({points:c,layout:f},u)});var Vs=function(){return null};Vs.displayName="XAxis";Vs.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",domain:[0,"auto"],padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var Ks=function(){return null};Ks.displayName="YAxis";Ks.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",domain:[0,"auto"],padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var OH=mn,EH=ua,AH=As;function TH(t){return function(e,n,r){var i=Object(e);if(!EH(e)){var a=OH(n);e=AH(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var CH=TH,PH=Db;function IH(t){var e=PH(t),n=e%1;return e===e?n?e-n:e:0}var $H=IH,kH=Om,MH=mn,NH=$H,RH=Math.max;function DH(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:NH(n);return i<0&&(i=RH(r+i,0)),kH(t,MH(e),i)}var jH=DH,LH=CH,FH=jH,BH=LH(FH),WH=BH,UH=h_,HH=ut,GH="Expected a function";function zH(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(GH);return HH(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),UH(t,e,{leading:r,maxWait:e,trailing:i})}var qH=zH,VH=gn,KH=yn,YH="[object Boolean]";function XH(t){return t===!0||t===!1||KH(t)&&VH(t)==YH}var QH=XH;function Sg(t){return tG(t)||eG(t)||ZH(t)||JH()}function JH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZH(t,e){if(t){if(typeof t=="string")return _c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _c(t,e)}}function eG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tG(t){if(Array.isArray(t))return _c(t)}function _c(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bc=function(e,n,r,i,a){var o=_t(e,oh),s=_t(e,ga),l=[].concat(Sg(o),Sg(s)),u=_t(e,ya),f="".concat(i,"Id"),c=i[0],h=n;if(l.length&&(h=l.reduce(function(d,y){if(y.props[f]===r&&Dt(y.props,"extendDomain")&&F(y.props[c])){var m=y.props[c];return[Math.min(d[0],m),Math.max(d[1],m)]}return d},h)),u.length){var g="".concat(c,"1"),v="".concat(c,"2");h=u.reduce(function(d,y){if(y.props[f]===r&&Dt(y.props,"extendDomain")&&F(y.props[g])&&F(y.props[v])){var m=y.props[g],b=y.props[v];return[Math.min(d[0],m,b),Math.max(d[1],m,b)]}return d},h)}return a&&a.length&&(h=a.reduce(function(d,y){return F(y)?[Math.min(d[0],y),Math.max(d[1],y)]:d},h)),h},xc={},nG={get exports(){return xc},set exports(t){xc=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function a(l,u,f,c,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,c||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,c;if(this._eventsCount===0)return u;for(c in f=this._events)e.call(f,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,c=this._events[f];if(!c)return[];if(c.fn)return[c.fn];for(var h=0,g=c.length,v=new Array(g);h<g;h++)v[h]=c[h].fn;return v},s.prototype.listenerCount=function(u){var f=n?n+u:u,c=this._events[f];return c?c.fn?1:c.length:0},s.prototype.emit=function(u,f,c,h,g,v){var d=n?n+u:u;if(!this._events[d])return!1;var y=this._events[d],m=arguments.length,b,p;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,c),!0;case 4:return y.fn.call(y.context,f,c,h),!0;case 5:return y.fn.call(y.context,f,c,h,g),!0;case 6:return y.fn.call(y.context,f,c,h,g,v),!0}for(p=1,b=new Array(m-1);p<m;p++)b[p-1]=arguments[p];y.fn.apply(y.context,b)}else{var _=y.length,w;for(p=0;p<_;p++)switch(y[p].once&&this.removeListener(u,y[p].fn,void 0,!0),m){case 1:y[p].fn.call(y[p].context);break;case 2:y[p].fn.call(y[p].context,f);break;case 3:y[p].fn.call(y[p].context,f,c);break;case 4:y[p].fn.call(y[p].context,f,c,h);break;default:if(!b)for(w=1,b=new Array(m-1);w<m;w++)b[w-1]=arguments[w];y[p].fn.apply(y[p].context,b)}}return!0},s.prototype.on=function(u,f,c){return a(this,u,f,c,!1)},s.prototype.once=function(u,f,c){return a(this,u,f,c,!0)},s.prototype.removeListener=function(u,f,c,h){var g=n?n+u:u;if(!this._events[g])return this;if(!f)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!h||v.once)&&(!c||v.context===c)&&o(this,g);else{for(var d=0,y=[],m=v.length;d<m;d++)(v[d].fn!==f||h&&!v[d].once||c&&v[d].context!==c)&&y.push(v[d]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(nG);const rG=xc;var at=new rG;at.setMaxListeners&&at.setMaxListeners(10);var jl="recharts.syncMouseEvents",iG=["item"],aG=["children","className","width","height","style","compact","title","desc"];function Rr(t){return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(t)}function Og(t,e){return lG(t)||sG(t,e)||Vb(t,e)||oG()}function oG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function lG(t){if(Array.isArray(t))return t}function er(){return er=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},er.apply(this,arguments)}function Eg(t,e){if(t==null)return{};var n=uG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ag(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kb(r.key),r)}}function fG(t,e,n){return e&&Ag(t.prototype,e),n&&Ag(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wc(t,e)}function wc(t,e){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wc(t,e)}function dG(t){var e=vG();return function(){var r=Zo(t),i;if(e){var a=Zo(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return pG(this,i)}}function pG(t,e){if(e&&(Rr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ee(t)}function ee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zo(t){return Zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zo(t)}function Dr(t){return mG(t)||yG(t)||Vb(t)||gG()}function gG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vb(t,e){if(t){if(typeof t=="string")return Sc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sc(t,e)}}function yG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mG(t){if(Array.isArray(t))return Sc(t)}function Sc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tg(Object(n),!0).forEach(function(r){q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q(t,e,n){return e=Kb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kb(t){var e=_G(t,"string");return Rr(e)==="symbol"?e:String(e)}function _G(t,e){if(Rr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bG={xAxis:["bottom","top"],yAxis:["left","right"]},Yb={x:0,y:0},xG=Number.isFinite?Number.isFinite:isFinite,Cg=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:setTimeout,Pg=typeof cancelAnimationFrame=="function"?cancelAnimationFrame:typeof clearImmediate=="function"?clearImmediate:clearTimeout,wG=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},SG=function(e,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return k(k(k({},i),qe(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return k(k(k({},i),qe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Yb},Ys=function(e,n,r){var i=n.graphicalItems,a=n.dataStartIndex,o=n.dataEndIndex,s=(i||[]).reduce(function(l,u){var f=u.props.data;return f&&f.length?[].concat(Dr(l),Dr(f)):l},[]);return s&&s.length>0?s:r&&r.props&&r.props.data&&r.props.data.length>0?r.props.data:e&&e.length&&F(a)&&F(o)?e.slice(a,o+1):[]},Xb=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Ys(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var f=u.props.hide;if(f)return l;var c=u.props.data,h;if(o.dataKey&&!o.allowDuplicatedCategory){var g=c===void 0?s:c;h=Ja(g,o.dataKey,i)}else h=c&&c[r]||s[r];return h?[].concat(Dr(l),[Ob(u,h)]):l},[])},Ig=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=wG(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=hW(o,s,u,l);if(f>=0&&u){var c=u[f]&&u[f].value,h=Xb(e,n,f,c),g=SG(r,s,f,a);return{activeTooltipIndex:f,activeLabel:c,activePayload:h,activeCoordinate:g}}return null},OG=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,h=e.stackOffset,g=xb(f,a),v=r.reduce(function(d,y){var m=y.props,b=m.type,p=m.dataKey,_=m.allowDataOverflow,w=m.allowDuplicatedCategory,x=m.scale,S=m.ticks,O=y.props[o];if(d[O])return d;var A=Ys(e.data,{graphicalItems:i.filter(function(D){return D.props[o]===O}),dataStartIndex:l,dataEndIndex:u}),$=A.length,E,C,P;if(p){if(E=Ro(A,p,b),b==="category"&&g){var M=cA(E);w&&M?(C=E,E=qo(0,$)):w||(E=jv(y.props.domain,E,y).reduce(function(D,W){return D.indexOf(W)>=0?D:[].concat(Dr(D),[W])},[]))}else if(b==="category")w?E=E.filter(function(D){return D!==""&&!z(D)}):E=jv(y.props.domain,E,y).reduce(function(D,W){return D.indexOf(W)>=0||W===""||z(W)?D:[].concat(Dr(D),[W])},[]);else if(b==="number"){var I=yW(A,i.filter(function(D){return D.props[o]===O&&!D.props.hide}),p,a,f);I&&(E=I)}g&&(b==="number"||x!=="auto")&&(P=Ro(A,p,"category"))}else g?E=qo(0,$):s&&s[O]&&s[O].hasStack&&b==="number"?E=h==="expand"?[0,1]:wb(s[O].stackGroups,l,u):E=bb(A,i.filter(function(D){return D.props[o]===O&&!D.props.hide}),b,f,!0);if(b==="number")E=bc(c,E,O,a,S),y.props.domain&&(E=Sb(y.props.domain,E,_));else if(b==="category"&&y.props.domain){var R=y.props.domain,U=E.every(function(D){return R.indexOf(D)>=0});U&&(E=R)}return k(k({},d),{},q({},O,k(k({},y.props),{},{axisType:a,domain:E,categoricalDomain:P,duplicateDomain:C,originalDomain:y.props.domain,isCategorical:g,layout:f})))},{});return v},EG=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,h=Ys(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=xb(f,a),d=-1,y=r.reduce(function(m,b){var p=b.props[o];if(!m[p]){d++;var _;return v?_=qo(0,g):s&&s[p]&&s[p].hasStack?(_=wb(s[p].stackGroups,l,u),_=bc(c,_,p,a)):(_=Sb(i.defaultProps.domain,bb(h,r.filter(function(w){return w.props[o]===p&&!w.props.hide}),"number",f),i.defaultProps.allowDataOverflow),_=bc(c,_,p,a)),k(k({},m),{},q({},p,k(k({axisType:a},i.defaultProps),{},{hide:!0,orientation:st(bG,"".concat(a,".").concat(d%2),null),domain:_,originalDomain:i.defaultProps.domain,isCategorical:v,layout:f})))}return m},{});return y},AG=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,c="".concat(i,"Id"),h=_t(f,a),g={};return h&&h.length?g=OG(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(g=EG(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},TG=function(e){var n=rn(e),r=an(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Tf(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Do(n,r)}},$g=function(e){var n,r,i=e.children,a=e.defaultShowTooltip,o=Ht(i,Ki),s=o&&o.props&&o.props.startIndex||0,l=(o==null||(n=o.props)===null||n===void 0?void 0:n.endIndex)!==void 0?o==null||(r=o.props)===null||r===void 0?void 0:r.endIndex:e.data&&e.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:z(a)?!1:a}},CG=function(e){return!e||!e.length?!1:e.some(function(n){var r=cn(n&&n.type);return r&&r.indexOf("Bar")>=0})},kg=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},PG=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,f=r.height,c=r.children,h=r.margin||{},g=Ht(c,Ki),v=Ht(c,yr),d=Object.keys(l).reduce(function(p,_){var w=l[_],x=w.orientation;return!w.mirror&&!w.hide?k(k({},p),{},q({},x,p[x]+w.width)):p},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(p,_){var w=o[_],x=w.orientation;return!w.mirror&&!w.hide?k(k({},p),{},q({},x,st(p,"".concat(x))+w.height)):p},{top:h.top||0,bottom:h.bottom||0}),m=k(k({},y),d),b=m.bottom;return g&&(m.bottom+=g.props.height||Ki.defaultProps.height),v&&n&&(m=vW(m,i,r,n)),k(k({brushBottom:b},m),{},{width:u-m.left-m.right,height:f-m.top-m.bottom})},IG=function(e){var n,r=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,u=e.axisComponents,f=e.legendContent,c=e.formatAxisMap,h=e.defaultProps,g=function(y,m){var b=m.graphicalItems,p=m.stackGroups,_=m.offset,w=m.updateId,x=m.dataStartIndex,S=m.dataEndIndex,O=y.barSize,A=y.layout,$=y.barGap,E=y.barCategoryGap,C=y.maxBarSize,P=kg(A),M=P.numericAxisName,I=P.cateAxisName,R=CG(b),U=R&&dW({barSize:O,stackGroups:p}),D=[];return b.forEach(function(W,ae){var Q=Ys(y.data,{dataStartIndex:x,dataEndIndex:S},W),ne=W.props,Te=ne.dataKey,be=ne.maxBarSize,He=W.props["".concat(M,"Id")],wt=W.props["".concat(I,"Id")],Ye=u.reduce(function(Zr,_a){var ba,ch=m["".concat(_a.axisType,"Map")],Qb=W.props["".concat(_a.axisType,"Id")],fh=ch&&ch[Qb];return k(k({},Zr),{},(ba={},q(ba,_a.axisType,fh),q(ba,"".concat(_a.axisType,"Ticks"),an(fh)),ba))},{}),ie=Ye[I],j=Ye["".concat(I,"Ticks")],G=p&&p[He]&&p[He].hasStack&&PW(W,p[He].stackGroups),Y=cn(W.type).indexOf("Bar")>=0,N=Do(ie,j),fe=[];if(Y){var re,Ee,Ce=z(be)?C:be,ft=(re=(Ee=Do(ie,j,!0))!==null&&Ee!==void 0?Ee:Ce)!==null&&re!==void 0?re:0;fe=pW({barGap:$,barCategoryGap:E,bandSize:ft!==N?ft:N,sizeList:U[wt],maxBarSize:Ce}),ft!==N&&(fe=fe.map(function(Zr){return k(k({},Zr),{},{position:k(k({},Zr.position),{},{offset:Zr.position.offset-ft/2})})}))}var Qr=W&&W.type&&W.type.getComposedData;if(Qr){var Jr;D.push({props:k(k({},Qr(k(k({},Ye),{},{displayedData:Q,props:y,dataKey:Te,item:W,bandSize:N,barPosition:fe,offset:_,stackedData:G,layout:A,dataStartIndex:x,dataEndIndex:S}))),{},(Jr={key:W.key||"item-".concat(ae)},q(Jr,M,Ye[M]),q(Jr,I,Ye[I]),q(Jr,"animationId",w),Jr)),childIndex:bA(W,y.children),item:W})}}),D},v=function(y,m){var b=y.props,p=y.dataStartIndex,_=y.dataEndIndex,w=y.updateId;if(!ud({props:b}))return null;var x=b.children,S=b.layout,O=b.stackOffset,A=b.data,$=b.reverseStackOrder,E=kg(S),C=E.numericAxisName,P=E.cateAxisName,M=_t(x,i),I=AW(A,M,"".concat(C,"Id"),"".concat(P,"Id"),O,$),R=u.reduce(function(Q,ne){var Te="".concat(ne.axisType,"Map");return k(k({},Q),{},q({},Te,AG(b,k(k({},ne),{},{graphicalItems:M,stackGroups:ne.axisType===C&&I,dataStartIndex:p,dataEndIndex:_}))))},{}),U=PG(k(k({},R),{},{props:b,graphicalItems:M}),m==null?void 0:m.legendBBox);Object.keys(R).forEach(function(Q){R[Q]=c(b,R[Q],U,Q.replace("Map",""),r)});var D=R["".concat(P,"Map")],W=TG(D),ae=g(b,k(k({},R),{},{dataStartIndex:p,dataEndIndex:_,updateId:w,graphicalItems:M,stackGroups:I,offset:U}));return k(k({formattedGraphicalItems:ae,graphicalItems:M,offset:U,stackGroups:I},W),R)};return n=function(d){hG(m,d);var y=dG(m);function m(b){var p;return cG(this,m),p=y.call(this,b),q(ee(p),"clearDeferId",function(){!z(p.deferId)&&Pg&&Pg(p.deferId),p.deferId=null}),q(ee(p),"handleLegendBBoxUpdate",function(_){if(_){var w=p.state,x=w.dataStartIndex,S=w.dataEndIndex,O=w.updateId;p.setState(k({legendBBox:_},v({props:p.props,dataStartIndex:x,dataEndIndex:S,updateId:O},k(k({},p.state),{},{legendBBox:_}))))}}),q(ee(p),"handleReceiveSyncEvent",function(_,w,x){var S=p.props.syncId;S===_&&w!==p.uniqueChartId&&(p.clearDeferId(),p.deferId=Cg&&Cg(p.applySyncEvent.bind(ee(p),x)))}),q(ee(p),"handleBrushChange",function(_){var w=_.startIndex,x=_.endIndex;if(w!==p.state.dataStartIndex||x!==p.state.dataEndIndex){var S=p.state.updateId;p.setState(function(){return k({dataStartIndex:w,dataEndIndex:x},v({props:p.props,dataStartIndex:w,dataEndIndex:x,updateId:S},p.state))}),p.triggerSyncEvent({dataStartIndex:w,dataEndIndex:x})}}),q(ee(p),"handleMouseEnter",function(_){var w=p.props.onMouseEnter,x=p.getMouseInfo(_);if(x){var S=k(k({},x),{},{isTooltipActive:!0});p.setState(S),p.triggerSyncEvent(S),K(w)&&w(S,_)}}),q(ee(p),"triggeredAfterMouseMove",function(_){var w=p.props.onMouseMove,x=p.getMouseInfo(_),S=x?k(k({},x),{},{isTooltipActive:!0}):{isTooltipActive:!1};p.setState(S),p.triggerSyncEvent(S),K(w)&&w(S,_)}),q(ee(p),"handleItemMouseEnter",function(_){p.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),q(ee(p),"handleItemMouseLeave",function(){p.setState(function(){return{isTooltipActive:!1}})}),q(ee(p),"handleMouseMove",function(_){_&&K(_.persist)&&_.persist(),p.triggeredAfterMouseMove(_)}),q(ee(p),"handleMouseLeave",function(_){var w=p.props.onMouseLeave,x={isTooltipActive:!1};p.setState(x),p.triggerSyncEvent(x),K(w)&&w(x,_),p.cancelThrottledTriggerAfterMouseMove()}),q(ee(p),"handleOuterEvent",function(_){var w=_A(_),x=st(p.props,"".concat(w));if(w&&K(x)){var S;/.*touch.*/i.test(w)?S=p.getMouseInfo(_.changedTouches[0]):S=p.getMouseInfo(_);var O=x;O(S,_)}}),q(ee(p),"handleClick",function(_){var w=p.props.onClick,x=p.getMouseInfo(_);if(x){var S=k(k({},x),{},{isTooltipActive:!0});p.setState(S),p.triggerSyncEvent(S),K(w)&&w(S,_)}}),q(ee(p),"handleMouseDown",function(_){var w=p.props.onMouseDown;if(K(w)){var x=p.getMouseInfo(_);w(x,_)}}),q(ee(p),"handleMouseUp",function(_){var w=p.props.onMouseUp;if(K(w)){var x=p.getMouseInfo(_);w(x,_)}}),q(ee(p),"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&p.handleMouseMove(_.changedTouches[0])}),q(ee(p),"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&p.handleMouseDown(_.changedTouches[0])}),q(ee(p),"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&p.handleMouseUp(_.changedTouches[0])}),q(ee(p),"verticalCoordinatesGenerator",function(_){var w=_.xAxis,x=_.width,S=_.height,O=_.offset;return $v(Tn.getTicks(k(k(k({},Tn.defaultProps),w),{},{ticks:an(w,!0),viewBox:{x:0,y:0,width:x,height:S}})),O.left,O.left+O.width)}),q(ee(p),"horizontalCoordinatesGenerator",function(_){var w=_.yAxis,x=_.width,S=_.height,O=_.offset;return $v(Tn.getTicks(k(k(k({},Tn.defaultProps),w),{},{ticks:an(w,!0),viewBox:{x:0,y:0,width:x,height:S}})),O.top,O.top+O.height)}),q(ee(p),"axesTicksGenerator",function(_){return an(_,!0)}),q(ee(p),"renderCursor",function(_){var w=p.state,x=w.isTooltipActive,S=w.activeCoordinate,O=w.activePayload,A=w.offset,$=w.activeTooltipIndex,E=p.getTooltipEventType();if(!_||!_.props.cursor||!x||!S||r!=="ScatterChart"&&E!=="axis")return null;var C=p.props.layout,P,M=Wo;if(r==="ScatterChart")P=S,M=Rb;else if(r==="BarChart")P=p.getCursorRectangle(),M=Gs;else if(C==="radial"){var I=p.getCursorPoints(),R=I.cx,U=I.cy,D=I.radius,W=I.startAngle,ae=I.endAngle;P={cx:R,cy:U,startAngle:W,endAngle:ae,innerRadius:D,outerRadius:D},M=Cb}else P={points:p.getCursorPoints()},M=Wo;var Q=_.key||"_recharts-cursor",ne=k(k(k(k({stroke:"#ccc",pointerEvents:"none"},A),P),se(_.props.cursor)),{},{payload:O,payloadIndex:$,key:Q,className:"recharts-tooltip-cursor"});return B.isValidElement(_.props.cursor)?B.cloneElement(_.props.cursor,ne):B.createElement(M,ne)}),q(ee(p),"renderPolarAxis",function(_,w,x){var S=st(_,"type.axisType"),O=st(p.state,"".concat(S,"Map")),A=O&&O[_.props["".concat(S,"Id")]];return B.cloneElement(_,k(k({},A),{},{className:S,key:_.key||"".concat(w,"-").concat(x),ticks:an(A,!0)}))}),q(ee(p),"renderXAxis",function(_,w,x){var S=p.state.xAxisMap,O=S[_.props.xAxisId];return p.renderAxis(O,_,w,x)}),q(ee(p),"renderYAxis",function(_,w,x){var S=p.state.yAxisMap,O=S[_.props.yAxisId];return p.renderAxis(O,_,w,x)}),q(ee(p),"renderGrid",function(_){var w=p.state,x=w.xAxisMap,S=w.yAxisMap,O=w.offset,A=p.props,$=A.width,E=A.height,C=rn(x),P=WH(S,function(R){return Fb(R.domain,xG)}),M=P||rn(S),I=_.props||{};return B.cloneElement(_,{key:_.key||"grid",x:F(I.x)?I.x:O.left,y:F(I.y)?I.y:O.top,width:F(I.width)?I.width:O.width,height:F(I.height)?I.height:O.height,xAxis:C,yAxis:M,offset:O,chartWidth:$,chartHeight:E,verticalCoordinatesGenerator:I.verticalCoordinatesGenerator||p.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:I.horizontalCoordinatesGenerator||p.horizontalCoordinatesGenerator})}),q(ee(p),"renderPolarGrid",function(_){var w=_.props,x=w.radialLines,S=w.polarAngles,O=w.polarRadius,A=p.state,$=A.radiusAxisMap,E=A.angleAxisMap,C=rn($),P=rn(E),M=P.cx,I=P.cy,R=P.innerRadius,U=P.outerRadius;return B.cloneElement(_,{polarAngles:ce(S)?S:an(P,!0).map(function(D){return D.coordinate}),polarRadius:ce(O)?O:an(C,!0).map(function(D){return D.coordinate}),cx:M,cy:I,innerRadius:R,outerRadius:U,key:_.key||"polar-grid",radialLines:x})}),q(ee(p),"renderLegend",function(){var _=p.state.formattedGraphicalItems,w=p.props,x=w.children,S=w.width,O=w.height,A=p.props.margin||{},$=S-(A.left||0)-(A.right||0),E=mb({children:x,formattedGraphicalItems:_,legendWidth:$,legendContent:f});if(!E)return null;var C=E.item,P=Eg(E,iG);return B.cloneElement(C,k(k({},P),{},{chartWidth:S,chartHeight:O,margin:A,ref:function(I){p.legendInstance=I},onBBoxUpdate:p.handleLegendBBoxUpdate}))}),q(ee(p),"renderTooltip",function(){var _=p.props.children,w=Ht(_,kn);if(!w)return null;var x=p.state,S=x.isTooltipActive,O=x.activeCoordinate,A=x.activePayload,$=x.activeLabel,E=x.offset;return B.cloneElement(w,{viewBox:k(k({},E),{},{x:E.left,y:E.top}),active:S,label:$,payload:S?A:[],coordinate:O})}),q(ee(p),"renderBrush",function(_){var w=p.props,x=w.margin,S=w.data,O=p.state,A=O.offset,$=O.dataStartIndex,E=O.dataEndIndex,C=O.updateId;return B.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Ma(p.handleBrushChange,null,_.props.onChange),data:S,x:F(_.props.x)?_.props.x:A.left,y:F(_.props.y)?_.props.y:A.top+A.height+A.brushBottom-(x.bottom||0),width:F(_.props.width)?_.props.width:A.width,startIndex:$,endIndex:E,updateId:"brush-".concat(C)})}),q(ee(p),"renderReferenceElement",function(_,w,x){if(!_)return null;var S=ee(p),O=S.clipPathId,A=p.state,$=A.xAxisMap,E=A.yAxisMap,C=A.offset,P=_.props,M=P.xAxisId,I=P.yAxisId;return B.cloneElement(_,{key:_.key||"".concat(w,"-").concat(x),xAxis:$[M],yAxis:E[I],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:O})}),q(ee(p),"renderActivePoints",function(_){var w=_.item,x=_.activePoint,S=_.basePoint,O=_.childIndex,A=_.isRange,$=[],E=w.props.key,C=w.item.props,P=C.activeDot,M=C.dataKey,I=k(k({index:O,dataKey:M,cx:x.x,cy:x.y,r:4,fill:rh(w.item),strokeWidth:2,stroke:"#fff",payload:x.payload,value:x.value,key:"".concat(E,"-activePoint-").concat(O)},se(P)),Za(P));return $.push(m.renderActiveDot(P,I)),S?$.push(m.renderActiveDot(P,k(k({},I),{},{cx:S.x,cy:S.y,key:"".concat(E,"-basePoint-").concat(O)}))):A&&$.push(null),$}),q(ee(p),"renderGraphicChild",function(_,w,x){var S=p.filterFormatItem(_,w,x);if(!S)return null;var O=p.getTooltipEventType(),A=p.state,$=A.isTooltipActive,E=A.tooltipAxis,C=A.activeTooltipIndex,P=A.activeLabel,M=p.props.children,I=Ht(M,kn),R=S.props,U=R.points,D=R.isRange,W=R.baseLine,ae=S.item.props,Q=ae.activeDot,ne=ae.hide,Te=!ne&&$&&I&&Q&&C>=0,be={};O!=="axis"&&I&&I.props.trigger==="click"?be={onClick:Ma(p.handleItemMouseEnter,null,_.props.onCLick)}:O!=="axis"&&(be={onMouseLeave:Ma(p.handleItemMouseLeave,null,_.props.onMouseLeave),onMouseEnter:Ma(p.handleItemMouseEnter,null,_.props.onMouseEnter)});var He=B.cloneElement(_,k(k({},S.props),be));function wt(G){return typeof E.dataKey=="function"?E.dataKey(G.payload):null}if(Te){var Ye,ie;if(E.dataKey&&!E.allowDuplicatedCategory){var j=typeof E.dataKey=="function"?wt:"payload.".concat(E.dataKey.toString());Ye=Ja(U,j,P),ie=D&&W&&Ja(W,j,P)}else Ye=U[C],ie=D&&W&&W[C];if(!z(Ye))return[He].concat(Dr(p.renderActivePoints({item:S,activePoint:Ye,basePoint:ie,childIndex:C,isRange:D})))}return D?[He,null,null]:[He,null]}),q(ee(p),"renderCustomized",function(_,w,x){return B.cloneElement(_,k(k({key:"recharts-customized-".concat(x)},p.props),p.state))}),p.uniqueChartId=z(b.id)?la("recharts"):b.id,p.clipPathId="".concat(p.uniqueChartId,"-clip"),b.throttleDelay&&(p.triggeredAfterMouseMove=qH(p.triggeredAfterMouseMove,b.throttleDelay)),p.state={},p}return fG(m,[{key:"componentDidMount",value:function(){z(this.props.syncId)||this.addListener()}},{key:"componentDidUpdate",value:function(p){z(p.syncId)&&!z(this.props.syncId)&&this.addListener(),!z(p.syncId)&&z(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),z(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var p=Ht(this.props.children,kn);if(p&&QH(p.props.shared)){var _=p.props.shared?"axis":"item";return l.indexOf(_)>=0?_:o}return o}},{key:"getMouseInfo",value:function(p){if(!this.container)return null;var _=oL(this.container),w=sL(p,_),x=this.inRange(w.chartX,w.chartY);if(!x)return null;var S=this.state,O=S.xAxisMap,A=S.yAxisMap,$=this.getTooltipEventType();if($!=="axis"&&O&&A){var E=rn(O).scale,C=rn(A).scale,P=E&&E.invert?E.invert(w.chartX):null,M=C&&C.invert?C.invert(w.chartY):null;return k(k({},w),{},{xValue:P,yValue:M})}var I=Ig(this.state,this.props.data,this.props.layout,x);return I?k(k({},w),I):null}},{key:"getCursorRectangle",value:function(){var p=this.props.layout,_=this.state,w=_.activeCoordinate,x=_.offset,S=_.tooltipAxisBandSize,O=S/2;return{stroke:"none",fill:"#ccc",x:p==="horizontal"?w.x-O:x.left+.5,y:p==="horizontal"?x.top+.5:w.y-O,width:p==="horizontal"?S:x.width-1,height:p==="horizontal"?x.height-1:S}}},{key:"getCursorPoints",value:function(){var p=this.props.layout,_=this.state,w=_.activeCoordinate,x=_.offset,S,O,A,$;if(p==="horizontal")S=w.x,A=S,O=x.top,$=x.top+x.height;else if(p==="vertical")O=w.y,$=O,S=x.left,A=x.left+x.width;else if(!z(w.cx)||!z(w.cy))if(p==="centric"){var E=w.cx,C=w.cy,P=w.innerRadius,M=w.outerRadius,I=w.angle,R=qe(E,C,P,I),U=qe(E,C,M,I);S=R.x,O=R.y,A=U.x,$=U.y}else{var D=w.cx,W=w.cy,ae=w.radius,Q=w.startAngle,ne=w.endAngle,Te=qe(D,W,ae,Q),be=qe(D,W,ae,ne);return{points:[Te,be],cx:D,cy:W,radius:ae,startAngle:Q,endAngle:ne}}return[{x:S,y:O},{x:A,y:$}]}},{key:"inRange",value:function(p,_){var w=this.props.layout;if(w==="horizontal"||w==="vertical"){var x=this.state.offset,S=p>=x.left&&p<=x.left+x.width&&_>=x.top&&_<=x.top+x.height;return S?{x:p,y:_}:null}var O=this.state,A=O.angleAxisMap,$=O.radiusAxisMap;if(A&&$){var E=rn(A);return Bv({x:p,y:_},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var p=this.props.children,_=this.getTooltipEventType(),w=Ht(p,kn),x={};w&&_==="axis"&&(w.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=Za(this.props,this.handleOuterEvent);return k(k({},S),x)}},{key:"addListener",value:function(){at.on(jl,this.handleReceiveSyncEvent),at.setMaxListeners&&at._maxListeners&&at.setMaxListeners(at._maxListeners+1)}},{key:"removeListener",value:function(){at.removeListener(jl,this.handleReceiveSyncEvent),at.setMaxListeners&&at._maxListeners&&at.setMaxListeners(at._maxListeners-1)}},{key:"triggerSyncEvent",value:function(p){var _=this.props.syncId;z(_)||at.emit(jl,_,this.uniqueChartId,p)}},{key:"applySyncEvent",value:function(p){var _=this.props,w=_.layout,x=_.syncMethod,S=this.state.updateId,O=p.dataStartIndex,A=p.dataEndIndex;if(!z(p.dataStartIndex)||!z(p.dataEndIndex))this.setState(k({dataStartIndex:O,dataEndIndex:A},v({props:this.props,dataStartIndex:O,dataEndIndex:A,updateId:S},this.state)));else if(z(p.activeTooltipIndex))this.setState(p);else{var $=p.chartX,E=p.chartY,C=p.activeTooltipIndex,P=this.state,M=P.offset,I=P.tooltipTicks;if(!M)return;if(typeof x=="function")C=x(I,p);else if(x==="value"){C=-1;for(var R=0;R<I.length;R++)if(I[R].value===p.activeLabel){C=R;break}}var U=k(k({},M),{},{x:M.left,y:M.top}),D=Math.min($,U.x+U.width),W=Math.min(E,U.y+U.height),ae=I[C]&&I[C].value,Q=Xb(this.state,this.props.data,C),ne=I[C]?{x:w==="horizontal"?I[C].coordinate:D,y:w==="horizontal"?W:I[C].coordinate}:Yb;this.setState(k(k({},p),{},{activeLabel:ae,activeCoordinate:ne,activePayload:Q,activeTooltipIndex:C}))}}},{key:"filterFormatItem",value:function(p,_,w){for(var x=this.state.formattedGraphicalItems,S=0,O=x.length;S<O;S++){var A=x[S];if(A.item===p||A.props.key===p.key||_===cn(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderAxis",value:function(p,_,w,x){var S=this.props,O=S.width,A=S.height;return T.createElement(Tn,er({},p,{className:"recharts-".concat(p.axisType," ").concat(p.axisType),key:_.key||"".concat(w,"-").concat(x),viewBox:{x:0,y:0,width:O,height:A},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var p=this.clipPathId,_=this.state.offset,w=_.left,x=_.top,S=_.height,O=_.width;return T.createElement("defs",null,T.createElement("clipPath",{id:p},T.createElement("rect",{x:w,y:x,height:S,width:O})))}},{key:"getXScales",value:function(){var p=this.state.xAxisMap;return p?Object.entries(p).reduce(function(_,w){var x=Og(w,2),S=x[0],O=x[1];return k(k({},_),{},q({},S,O.scale))},{}):null}},{key:"getYScales",value:function(){var p=this.state.yAxisMap;return p?Object.entries(p).reduce(function(_,w){var x=Og(w,2),S=x[0],O=x[1];return k(k({},_),{},q({},S,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(p){var _,w;return(_=this.state.xAxisMap)===null||_===void 0||(w=_[p])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(p){var _,w;return(_=this.state.yAxisMap)===null||_===void 0||(w=_[p])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(p){var _=this.state.formattedGraphicalItems;if(_&&_.length)for(var w=0,x=_.length;w<x;w++){var S=_[w],O=S.props,A=S.item,$=cn(A.type);if($==="Bar"){var E=(O.data||[]).find(function(P){return GU(p,P)});if(E)return{graphicalItem:S,payload:E}}else if($==="RadialBar"){var C=(O.data||[]).find(function(P){return Bv(p,P)});if(C)return{graphicalItem:S,payload:C}}}return null}},{key:"render",value:function(){var p=this;if(!ud(this))return null;var _=this.props,w=_.children,x=_.className,S=_.width,O=_.height,A=_.style,$=_.compact,E=_.title,C=_.desc,P=Eg(_,aG),M=se(P),I={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if($)return T.createElement(eu,er({},M,{width:S,height:O,title:E,desc:C}),this.renderClipPath(),fd(w,I));var R=this.parseEventsOfWrapper();return T.createElement("div",er({className:ge("recharts-wrapper",x),style:k({position:"relative",cursor:"default",width:S,height:O},A)},R,{ref:function(D){p.container=D},role:"region"}),T.createElement(eu,er({},M,{width:S,height:O,title:E,desc:C}),this.renderClipPath(),fd(w,I)),this.renderLegend(),this.renderTooltip())}}]),m}(B.Component),q(n,"displayName",r),q(n,"defaultProps",k({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),q(n,"getDerivedStateFromProps",function(d,y){var m=d.data,b=d.children,p=d.width,_=d.height,w=d.layout,x=d.stackOffset,S=d.margin;if(z(y.updateId)){var O=$g(d);return k(k(k({},O),{},{updateId:0},v(k(k({props:d},O),{},{updateId:0}),y)),{},{prevData:m,prevWidth:p,prevHeight:_,prevLayout:w,prevStackOffset:x,prevMargin:S,prevChildren:b})}if(m!==y.prevData||p!==y.prevWidth||_!==y.prevHeight||w!==y.prevLayout||x!==y.prevStackOffset||!ir(S,y.prevMargin)){var A=$g(d),$={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},E=k(k({},Ig(y,m,w)),{},{updateId:y.updateId+1}),C=k(k(k({},A),$),E);return k(k(k({},C),v(k({props:d},C),y)),{},{prevData:m,prevWidth:p,prevHeight:_,prevLayout:w,prevStackOffset:x,prevMargin:S,prevChildren:b})}if(!um(b,y.prevChildren)){var P=!z(m),M=P?y.updateId:y.updateId+1;return k(k({updateId:M},v(k(k({props:d},y),{},{updateId:M}),y)),{},{prevChildren:b})}return null}),q(n,"renderActiveDot",function(d,y){var m;return B.isValidElement(d)?m=B.cloneElement(d,y):K(d)?m=d(y):m=T.createElement(ih,y),T.createElement(Be,{className:"recharts-active-dot",key:y.key},m)}),n},$G=IG({chartName:"LineChart",GraphicalChild:ma,axisComponents:[{axisType:"xAxis",AxisComp:Vs},{axisType:"yAxis",AxisComp:Ks}],formatAxisMap:x4});const Mg=[{date:"2022/01/01",ratings:[5,5,5,5],notes:[],avg:5},{date:"2022/01/02",ratings:[3],avg:3,notes:[]},{date:"2023/01/01",ratings:[5,5,5,5],notes:[],avg:5},{date:"2023/01/02",ratings:[3],avg:3,notes:[]},{date:"2023/01/03",ratings:[2,3,1],avg:2,notes:[]},{date:"2023/01/04",ratings:[2,3,5],avg:4,notes:[]},{date:"2023/01/05",ratings:[5,5],avg:5,notes:[]}],kG=t=>{const e=new Date(t);return`${e.getFullYear()}/${e.getMonth()<9?`0${e.getMonth()+1}`:e.getMonth()+1}/${e.getDate()<9?`0${e.getDate()}`:e.getDate()}`},MG=({active:t,payload:e,label:n})=>{var r;return t&&e&&e.length?gt("div",{className:"bg-white rounded border border-gray-500 p-2",children:[de("p",{className:"font-semibold",children:n}),gt("p",{children:["Average rating: ",e[0].value]}),gt("p",{children:["All ratings: ",e[0].payload.ratings.toString()]}),gt("ul",{children:[de("li",{children:"All notes:"},"0"),(r=e[0].payload.notes)==null?void 0:r.map(i=>i==null?void 0:i.map((a,o)=>a.length>0&&de("li",{className:"block mt-1",children:`"${a}"`},o+1)))]})]}):null},FG=()=>{const{state:t}=m0(),e=C1(),[n,r]=B.useState("3");B.useState(-1);const[i,a]=B.useState(""),[o,s]=B.useState(Mg),[l,u]=B.useState(!1);B.useEffect(()=>{b1(Yh(e,"checkins")).then(c=>{if(c.exists()){const h=c.val(),v=Object.values(h).reduce((y,m)=>(y[m.date]=y[m.date]||[],y[m.date].push(m),y),Object.create(null)),d=Object.entries(v).map(([y,m])=>({date:y,ratings:[m.map(b=>b.rating)],notes:[m.map(b=>b.note)],avg:(m.reduce((b,p)=>parseInt(b)+parseInt(p.rating),0)/m.length).toFixed(1)}));s([...Mg,...d])}else console.log("No data available")}).catch(c=>{console.log("error get",c)})},[l,e]);const f=()=>{if(t.state==="SIGNED_IN"){const c=b0();_1(Yh(e,`checkins/${c}`),{rating:n,note:i,date:kG(Date.now()),user:{uid:t.currentUser.uid,displayname:t.currentUser.displayName,photoURL:t.currentUser.photoURL},uidd:c}).then(()=>{u(!0)}).catch(h=>{console.log("error set",h)})}};return gt(ph,{children:[de(_0,{title:"TOP PAGE"}),t.state==="SIGNED_IN"&&gt("div",{children:[de("div",{className:"hero",children:de("div",{className:"text-center hero-content",children:gt("div",{children:[de("h1",{className:"mb-5 text-5xl font-bold",children:l?"Overview":"Check in"}),!l&&gt("div",{className:"grid gap-2",children:[gt("div",{className:"btn-group",children:[de("input",{type:"radio",onChange:c=>r(c.target.value),name:"options","data-title":"1",value:"1",className:"btn mask mask-star-2 opacity-30 bg-red-400 checked:!bg-red-400 checked:opacity-100 checked:!text-white"}),de("input",{type:"radio",onChange:c=>r(c.target.value),name:"options","data-title":"2",value:"2",className:"btn mask mask-star-2 opacity-30 bg-orange-400 checked:!bg-orange-400 checked:opacity-100 checked:!text-white"}),de("input",{type:"radio",onChange:c=>r(c.target.value),name:"options","data-title":"3",value:"3",className:"btn mask mask-star-2 opacity-30 bg-yellow-400 checked:!bg-yellow-400 checked:opacity-100 checked:!text-white"}),de("input",{type:"radio",onChange:c=>r(c.target.value),name:"options","data-title":"4",value:"4",className:"btn mask mask-star-2 opacity-30 bg-lime-400 checked:!bg-lime-400 checked:opacity-100 checked:!text-white"}),de("input",{type:"radio",onChange:c=>r(c.target.value),name:"options","data-title":"5",value:"5",className:"btn mask mask-star-2 opacity-30 bg-green-400 checked:!bg-green-400 checked:opacity-100 checked:!text-white"})]}),de("textarea",{value:i,onChange:c=>a(c.target.value),className:"w-full p-2 border border-gray-300 rounded"}),de("button",{onClick:f,className:"btn btn-primary btn-md",children:"Check in"})]})]})})}),de("div",{className:"w-full",style:{height:400},children:l&&gt(ph,{children:[de("div",{className:"w-full text-center mb-8",children:gt("div",{className:"btn-group m-auto",children:[de("input",{type:"radio",onChange:c=>console.log("7 days"),name:"options","data-title":"7 days",value:"1",className:"btn"}),de("input",{type:"radio",onChange:c=>console.log("2023"),name:"options","data-title":"2023",value:"2023",className:"btn"}),de("input",{type:"radio",onChange:c=>console.log("2022"),name:"options","data-title":"2022",value:"2022",className:"btn"}),de("input",{type:"radio",onChange:c=>console.log("All"),name:"options","data-title":"All",value:"-1",className:"btn"})]})}),de(Cj,{children:gt($G,{width:500,height:300,data:o,margin:{top:10,right:40,left:0,bottom:10},children:[de(uh,{strokeDasharray:"3 3"}),de(Vs,{dataKey:"date"}),de(Ks,{}),de(kn,{content:de(MG,{})}),de(yr,{}),de(ma,{type:"monotone",dataKey:"avg",stroke:"#1A8763",activeDot:{r:8}})]})})]})})]})]})};export{FG as Index};
